!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Mosaico=e()}}(function(){return function e(t,n,o){function i(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return i(n||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){(function(n){function o(e){if(!e){var t=a.call(arguments,1);o.ok(!1,r.format.apply(null,t))}}var i,r=e("util"),o=e("assert"),a=Array.prototype.slice,l={};i=void 0!==n&&n.console?n.console:"undefined"!=typeof window&&window.console?window.console:{};for(var s=[[function(){},"log"],[function(){i.log.apply(i,arguments)},"info"],[function(){i.log.apply(i,arguments)},"warn"],[function(){i.warn.apply(i,arguments)},"error"],[function(e){l[e]=Date.now()},"time"],[function(e){var t=l[e];if(!t)throw new Error("No such label: "+e);Date.now()},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=r.format.apply(null,arguments)},"trace"],[function(e){},"dir"],[o,"assert"]],d=0;d<s.length;d++){var u=s[d],c=u[0],f=u[1];i[f]||(i[f]=c)}t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:21,util:37}],2:[function(e,t,n){!function(e,t){var n=0,o=window.navigator.userAgent,i=o.indexOf("MSIE ")>0,r=i?"-ie":"",a=!i&&(/mozilla/.test(o.toLowerCase())&&!/webkit/.test(o.toLowerCase())),l=[],s=["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],d=["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"],u=["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],c=[["003366","336699","3366cc","003399","000099","0000cc","000066"],["006666","006699","0099cc","0066cc","0033cc","0000ff","3333ff","333399"],["669999","009999","33cccc","00ccff","0099ff","0066ff","3366ff","3333cc","666699"],["339966","00cc99","00ffcc","00ffff","33ccff","3399ff","6699ff","6666ff","6600ff","6600cc"],["339933","00cc66","00ff99","66ffcc","66ffff","66ccff","99ccff","9999ff","9966ff","9933ff","9900ff"],["006600","00cc00","00ff00","66ff99","99ffcc","ccffff","ccccff","cc99ff","cc66ff","cc33ff","cc00ff","9900cc"],["003300","009933","33cc33","66ff66","99ff99","ccffcc","ffffff","ffccff","ff99ff","ff66ff","ff00ff","cc00cc","660066"],["333300","009900","66ff33","99ff66","ccff99","ffffcc","ffcccc","ff99cc","ff66cc","ff33cc","cc0099","993399"],["336600","669900","99ff33","ccff66","ffff99","ffcc99","ff9999","ff6699","ff3399","cc3399","990099"],["666633","99cc00","ccff33","ffff66","ffcc66","ff9966","ff6666","ff0066","d60094","993366"],["a58800","cccc00","ffff00","ffcc00","ff9933","ff6600","ff0033","cc0066","660033"],["996633","cc9900","ff9900","cc6600","ff3300","ff0000","cc0000","990033"],["663300","996600","cc3300","993300","990000","800000","993333"]],f="#0000ffff",p=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},h=function(e){return p(Number(e))},b=function(e){var t=p(e);return t+t+t},v=function(e){if(e.length>10){var t=1+e.indexOf("("),n=e.indexOf(")"),o=e.substring(t,n).split(",");return["#",h(o[0]),h(o[1]),h(o[2])].join("")}return e};e.widget("evol.colorpicker",{version:"3.2.1",options:{color:null,showOn:"both",hideButton:!1,displayIndicator:!0,transparentColor:!1,history:!0,defaultPalette:"theme",strings:"Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet."},_active:!1,_create:function(){var t=this;switch(this._paletteIdx="theme"==this.options.defaultPalette?1:2,this._id="evo-cp"+n++,this._enabled=!0,this.options.showOn=this.options.hideButton?"focus":this.options.showOn,this.element.get(0).tagName){case"INPUT":var o=this.options.color,l=this.element,s=("focus"===this.options.showOn?"":"evo-pointer ")+"evo-colorind"+(a?"-ff":r)+(this.options.hideButton?" evo-hidden-button":""),d="";if(this._isPopup=!0,this._palette=null,null!==o)l.val(o);else{var u=l.val();""!==u&&(o=this.options.color=u)}o===f?s+=" evo-transparent":d=null!==o?"background-color:"+o:"",l.addClass("colorPicker "+this._id).wrap('<div style="width:'+(this.options.hideButton?this.element.width():this.element.width()+32)+"px;"+(i?"margin-bottom:-21px;":"")+(a?"padding:1px 0;":"")+'"></div>').after('<div class="'+s+'" style="'+d+'"></div>').on("keyup onpaste",function(n){var o=e(this).val();o!=t.options.color&&t._setValue(o,!0)});var c=this.options.showOn;("both"===c||"focus"===c)&&l.on("focus",function(){t.showPalette()}),("both"===c||"button"===c)&&l.next().on("click",function(e){return e.stopPropagation(),t.showPalette(),!1});break;default:this._isPopup=!1,this._palette=this.element.html(this._paletteHTML()).attr("aria-haspopup","true"),this._bindColors()}if(this.options.history&&(o&&this._add2History(o),this.options.initialHistory)){var p=this.options.initialHistory;for(var h in p)this._add2History(p[h])}},_paletteHTML:function(){var e=this._paletteIdx=Math.abs(this._paletteIdx),t=this.options,n=t.strings.split(","),o='<div class="evo-pop'+r+' ui-widget ui-widget-content ui-corner-all"'+(this._isPopup?' style="position:absolute"':"")+"><span>"+this["_paletteHTML"+e]()+'</span><div class="evo-more"><a href="javascript:void(0)">'+n[1+e]+"</a>";return t.history&&(o+='<a href="javascript:void(0)" class="evo-hist">'+n[5]+"</a>"),o+="</div>",t.displayIndicator&&(o+=this._colorIndHTML(this.options.color)+this._colorIndHTML("")),o+="</div>"},_colorIndHTML:function(e){var t=i?"evo-colorbox-ie ":"",n="";return e?e===f?t+="evo-transparent":n="background-color:"+e:n="display:none",'<div class="evo-color" style="float:left"><div style="'+n+'" class="'+t+'"></div><span>'+(e||"")+"</span></div>"},_paletteHTML1:function(){for(var e=this.options,t=e.strings.split(","),n='<td style="background-color:#',o=i?'"><div style="width:2px;"></div></td>':'"><span/></td>',a='<tr><th colspan="10" class="ui-widget-content">',l='<table class="evo-palette'+r+'">'+a+t[0]+"</th></tr><tr>",c=0;10>c;c++)l+=n+s[c]+o;for(l+="</tr>",i||(l+='<tr><th colspan="10"></th></tr>'),l+='<tr class="top">',c=0;10>c;c++)l+=n+d[c]+o;for(var f=1;4>f;f++)for(l+='</tr><tr class="in">',c=0;10>c;c++)l+=n+d[10*f+c]+o;for(l+='</tr><tr class="bottom">',c=40;50>c;c++)l+=n+d[c]+o;for(l+="</tr>"+a,e.transparentColor&&(l+='<div class="evo-transparent evo-tr-box"></div>'),l+=t[1]+"</th></tr><tr>",c=0;10>c;c++)l+=n+u[c]+o;return l+="</tr></table>"},_paletteHTML2:function(){for(var e,t,n='<td style="background-color:#',o=i?'"><div style="width:5px;"></div></td>':'"><span/></td>',a='<table class="evo-palette2'+r+'"><tr>',l="</tr></table>",s='<div class="evo-palcenter">',d=0,u=c.length;u>d;d++){s+=a;var f=c[d];for(e=0,t=f.length;t>e;e++)s+=n+f[e]+o;s+=l}s+='<div class="evo-sep"/>';var p="";for(s+=a,e=255;e>10;e-=10)s+=n+b(e)+o,e-=10,p+=n+b(e)+o;return s+=l+a+p+l+"</div>"},_switchPalette:function(t){if(this._enabled){var n,o,i,r=this.options.strings.split(",");if(e(t).hasClass("evo-hist")){var a=['<table class="evo-palette"><tr><th class="ui-widget-content">',r[5],"</th></tr></tr></table>",'<div class="evo-cHist">'];if(0===l.length)a.push("<p>&nbsp;",r[6],"</p>");else for(var s=l.length-1;s>-1;s--)9===l[s].length?a.push('<div class="evo-transparent"></div>'):a.push('<div style="background-color:',l[s],'"></div>');a.push("</div>"),n=-this._paletteIdx,o=a.join(""),i=r[4]}else this._paletteIdx<0?(n=-this._paletteIdx,this._palette.find(".evo-hist").show()):n=2==this._paletteIdx?1:2,o=this["_paletteHTML"+n](),i=r[n+1],this._paletteIdx=n;this._paletteIdx=n;var d=this._palette.find(".evo-more").prev().html(o).end().children().eq(0).html(i);0>n&&d.next().hide()}},_downOrUpPositioning:function(){for(var e=this.element,t=0;null!==e&&100>t;){if("visible"!=e.css("overflow")){var n=this._palette.offset().top+this._palette.height(),o=e.offset().top+e.height(),i=this._palette.offset().top-this._palette.height()-this.element.outerHeight(),r=e.offset().top;n>o&&i>r?this._palette.css({bottom:this.element.outerHeight()+"px"}):this._palette.css({bottom:"auto"});break}if("HTML"==e[0].tagName)break;e=e.offsetParent(),t++}},showPalette:function(){if(this._enabled&&(this._active=!0,e(".colorPicker").not("."+this._id).colorpicker("hidePalette"),null===this._palette)){this._palette=this.element.next().after(this._paletteHTML()).next().on("click",function(e){return e.stopPropagation(),!1}),this._bindColors();var t=this;this._isPopup&&(this._downOrUpPositioning(),e(document.body).on("click."+t._id,function(e){e.target!=t.element.get(0)&&t.hidePalette()}).on("keyup."+t._id,function(e){27===e.keyCode&&t.hidePalette()}))}return this},hidePalette:function(){if(this._isPopup&&this._palette){e(document.body).off("click."+this._id);var t=this;this._palette.off("mouseover click","td,.evo-transparent").fadeOut(function(){t._palette.remove(),t._palette=t._cTxt=null}).find(".evo-more a").off("click")}return this},_bindColors:function(){var t=this,n=this.options,o=this._palette.find("div.evo-color"),i=n.history?"td,.evo-cHist>div":"td";n.transparentColor&&(i+=",.evo-transparent"),this._cTxt1=o.eq(0).children().eq(0),this._cTxt2=o.eq(1).children().eq(0),this._palette.on("click",i,function(n){if(t._enabled){var o=e(this);t._setValue(o.hasClass("evo-transparent")?f:v(o.attr("style").substring(17))),t._active=!1}}).on("mouseover",i,function(n){if(t._enabled){var o=e(this),i=o.hasClass("evo-transparent")?f:v(o.attr("style").substring(17));t.options.displayIndicator&&t._setColorInd(i,2),t._active&&t.element.trigger("mouseover.color",i)}}).find(".evo-more a").on("click",function(){t._switchPalette(this)})},val:function(e){return void 0===e?this.options.color:(this._setValue(e),this)},_setValue:function(e,t){e=e.replace(/ /g,""),this.options.color=e,this._isPopup?(t||this.hidePalette(),this._setBoxColor(this.element.val(e).next(),e)):this._setColorInd(e,1),this.options.history&&this._paletteIdx>0&&this._add2History(e),this.element.trigger("change.color",e)},_setColorInd:function(e,t){var n=this["_cTxt"+t];this._setBoxColor(n,e),n.next().html(e)},_setBoxColor:function(e,t){t===f?e.addClass("evo-transparent").removeAttr("style"):e.removeClass("evo-transparent").attr("style","background-color:"+t)},_setOption:function(e,t){"color"==e?this._setValue(t,!0):this.options[e]=t},_add2History:function(e){for(var t=l.length,n=0;t>n;n++)if(e==l[n])return;t>27&&l.shift(),l.push(e)},clear:function(){this.hidePalette().val("")},enable:function(){var e=this.element;return this._isPopup?e.removeAttr("disabled"):e.css({opacity:"1","pointer-events":"auto"}),"focus"!==this.options.showOn&&this.element.next().addClass("evo-pointer"),e.removeAttr("aria-disabled"),this._enabled=!0,this},disable:function(){var e=this.element;return this._isPopup?e.attr("disabled","disabled"):(this.hidePalette(),e.css({opacity:"0.3","pointer-events":"none"})),"focus"!==this.options.showOn&&this.element.next().removeClass("evo-pointer"),e.attr("aria-disabled","true"),this._enabled=!1,this},isDisabled:function(){return!this._enabled},destroy:function(){e(document.body).off("click."+this._id),this._palette&&(this._palette.off("mouseover click","td,.evo-cHist>div,.evo-transparent").find(".evo-more a").off("click"),this._isPopup&&this._palette.remove(),this._palette=this._cTxt=null),this._isPopup&&this.element.next().off("click").remove().end().off("focus").unwrap(),this.element.removeClass("colorPicker "+this.id).empty(),e.Widget.prototype.destroy.call(this)}})}(jQuery)},{}],3:[function(e,t,n){!function(e){"use strict";var o=function(e,t){var n=new Error(e+" at character "+t);throw n.index=t,n.description=e,n},i={"-":!0,"!":!0,"~":!0,"+":!0},r={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},a=function(e){var t,n=0;for(var o in e)(t=o.length)>n&&e.hasOwnProperty(o)&&(n=t);return n},l=a(i),s=a(r),d={true:!0,false:!1,null:null},u=function(e){return r[e]||0},c=function(e,t,n){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:n}},f=function(e){return e>=48&&e<=57},p=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!r[String.fromCharCode(e)]},h=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!r[String.fromCharCode(e)]},b=function(e){for(var t,n,a=0,b=e.charAt,v=e.charCodeAt,m=function(t){return b.call(e,t)},g=function(t){return v.call(e,t)},y=e.length,w=function(){for(var e=g(a);32===e||9===e;)e=g(++a)},x=function(){var e,t,n=_();return w(),63!==g(a)?n:(a++,(e=x())||o("Expected expression",a),w(),58===g(a)?(a++,(t=x())||o("Expected expression",a),{type:"ConditionalExpression",test:n,consequent:e,alternate:t}):void o("Expected :",a))},k=function(){w();for(var t=e.substr(a,s),n=t.length;n>0;){if(r.hasOwnProperty(t))return a+=n,t;t=t.substr(0,--n)}return!1},_=function(){var e,t,n,i,r,l,s,d;if(l=j(),!(t=k()))return l;for(r={value:t,prec:u(t)},(s=j())||o("Expected expression after "+t,a),i=[l,r,s];(t=k())&&0!==(n=u(t));){for(r={value:t,prec:n};i.length>2&&n<=i[i.length-2].prec;)s=i.pop(),t=i.pop().value,l=i.pop(),e=c(t,l,s),i.push(e);(e=j())||o("Expected expression after "+t,a),i.push(r,e)}for(e=i[d=i.length-1];d>1;)e=c(i[d-1].value,i[d-2],e),d-=2;return e},j=function(){var t,n,o;if(w(),t=g(a),f(t)||46===t)return O();if(39===t||34===t)return S();if(p(t)||40===t)return C();if(91===t)return T();for(o=(n=e.substr(a,l)).length;o>0;){if(i.hasOwnProperty(n))return a+=o,{type:"UnaryExpression",operator:n,argument:j(),prefix:!0};n=n.substr(0,--o)}return!1},O=function(){for(var e,t,n="";f(g(a));)n+=m(a++);if(46===g(a))for(n+=m(a++);f(g(a));)n+=m(a++);if("e"===(e=m(a))||"E"===e){for(n+=m(a++),"+"!==(e=m(a))&&"-"!==e||(n+=m(a++));f(g(a));)n+=m(a++);f(g(a-1))||o("Expected exponent ("+n+m(a)+")",a)}return t=g(a),p(t)?o("Variable names cannot start with a number ("+n+m(a)+")",a):46===t&&o("Unexpected period",a),{type:"Literal",value:parseFloat(n),raw:n}},S=function(){for(var e,t="",n=m(a++),i=!1;a<y;){if((e=m(a++))===n){i=!0;break}if("\\"===e)switch(e=m(a++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+="\\"+e}else t+=e}return i||o('Unclosed quote after "'+t+'"',a),{type:"Literal",value:t,raw:n+t+n}},A=function(){var t,n=g(a),i=a;for(p(n)?a++:o("Unexpected "+m(a),a);a<y&&(n=g(a),h(n));)a++;return t=e.slice(i,a),d.hasOwnProperty(t)?{type:"Literal",value:d[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},$=function(e){for(var t,n,i=[],r=!1;a<y;){if(w(),(t=g(a))===e){r=!0,a++;break}44===t?a++:((n=x())&&"Compound"!==n.type||o("Expected comma",a),i.push(n))}return r||o("Expected "+String.fromCharCode(e),a),i},C=function(){var e,t;for(t=40===(e=g(a))?E():A(),w(),e=g(a);46===e||91===e||40===e;)a++,46===e?(w(),t={type:"MemberExpression",computed:!1,object:t,property:A()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:x()},w(),93!==(e=g(a))&&o("Unclosed [",a),a++):40===e&&(t={type:"CallExpression",arguments:$(41),callee:t}),w(),e=g(a);return t},E=function(){a++;var e=x();if(w(),41===g(a))return a++,e;o("Unclosed (",a)},T=function(){return a++,{type:"ArrayExpression",elements:$(93)}},M=[];a<y;)59===(t=g(a))||44===t?a++:(n=x())?M.push(n):a<y&&o('Unexpected "'+m(a)+'"',a);return 1===M.length?M[0]:{type:"Compound",body:M}};if(b.version="<%= version %>",b.toString=function(){return"JavaScript Expression Parser (JSEP) v"+b.version},b.addUnaryOp=function(e){return l=Math.max(e.length,l),i[e]=!0,this},b.addBinaryOp=function(e,t){return s=Math.max(e.length,s),r[e]=t,this},b.addLiteral=function(e,t){return d[e]=t,this},b.removeUnaryOp=function(e){return delete i[e],e.length===l&&(l=a(i)),this},b.removeBinaryOp=function(e){return delete r[e],e.length===s&&(s=a(r)),this},b.removeLiteral=function(e){return delete d[e],this},void 0===n){var v=e.jsep;e.jsep=b,b.noConflict=function(){return e.jsep===b&&(e.jsep=v),b}}else void 0!==t&&t.exports?n=t.exports=b:n.parse=b}(this)},{}],4:[function(e,t,n){"use strict";var o=e("./utils");t.exports=function(e){function t(t,r,l){function s(n,o){if(n.name){var i=n.name.toUpperCase();if(e[o+"Elements"].indexOf(i)>-1)for(var r in n.styleProps)if(n.styleProps[r].prop===o){if(n.styleProps[r].value.match(/px/)){var a=n.styleProps[r].value.replace("px","");return void t(n).attr(o,a)}if(e.tableElements.indexOf(i)>-1&&n.styleProps[r].value.match(/\%/))return void t(n).attr(o,n.styleProps[r].value)}}}l=l||{};var d=o.parseCSS(r),u=[],c="style";if(l.styleAttributeName&&(c=l.styleAttributeName),d.forEach(function(n){for(var r=n[0],s=n[1],d=new o.Selector(r),f=d.parsed(),p=i(f),h=0;h<f.length;++h){var b=f[h];if(b.pseudos)for(var v=0;v<b.pseudos.length;++v){var m=b.pseudos[v];if(e.ignoredPseudos.indexOf(m.name)>=0)return}}if(p){var g=f[f.length-1],y=g.pseudos;g.pseudos=a(g.pseudos),r=f.toString(),g.pseudos=y}var w;try{w=t(r)}catch(e){return}w.each(function(){function n(t,n){for(var r=0,a=t.length;r<a;r++)if("property"==t[r].type){var s=t[r].name,d=t[r].value,u=null!==t[r].value.match(/!important$/);u&&!l.preserveImportant&&(d=d.replace(/\s*!important$/,""));var c=[t[r].position.start.line,t[r].position.start.col],f=new o.Property(s,d,n,u?2:0,c),p=i.styleProps[s];e.excludedProperties.indexOf(s)<0&&(p&&p.compare(f)===f||!p)&&(p&&p.selector!==n?delete i.styleProps[s]:p&&(f.nextProp=p),i.styleProps[s]=f)}}var i=this;if(!(i.name&&e.nonVisualElements.indexOf(i.name.toUpperCase())>=0)){if(p){var r="pseudo"+p,a=i[r];a||((a=i[r]=t("<span />").get(0)).pseudoElementType=p,a.pseudoElementParent=i,i[r]=a),i=a}if(!i.styleProps){if(i.styleProps={},t(i).attr(c)){var f="* { "+t(i).attr(c)+" } ";n(o.parseCSS(f)[0][1],new o.Selector("<style>",!0))}u.push(i)}n(s,d)}})}),u.forEach(function(e){Object.keys(e.styleProps).length;var n=[];Object.keys(e.styleProps).forEach(function(t){for(var o=e.styleProps[t];void 0!==o;)n.push(o),o=o.nextProp}),n.sort(function(e,t){return e.compareFunc(t)});var o=n.filter(function(e){return"content"!==e.prop}).map(function(e){return e.prop+": "+e.value.replace(/["]/g,"'")+";"}).join(" ");o&&t(e).attr(c,o)}),l.inlinePseudoElements&&u.forEach(function(e){if(e.pseudoElementType&&e.styleProps.content){var o=n(e.styleProps.content.value);o.img?(e.name="img",t(e).attr("src",o.img)):t(e).text(o);var i=e.pseudoElementParent;"before"===e.pseudoElementType?t(i).prepend(e):t(i).append(e)}}),l.applyWidthAttributes&&u.forEach(function(e){s(e,"width")}),l.applyHeightAttributes&&u.forEach(function(e){s(e,"height")}),l.applyAttributesTableElements&&u.forEach(function(n){if(n.name){var o=n.name.toUpperCase(),i=Object.keys(e.styleToAttribute);if(e.tableElements.indexOf(o)>-1)for(var r in n.styleProps)i.indexOf(n.styleProps[r].prop)>-1&&t(n).attr(e.styleToAttribute[n.styleProps[r].prop],n.styleProps[r].value)}}),l.insertPreservedExtraCss&&l.extraCss){var f=o.getPreservedText(l.extraCss,{mediaQueries:l.preserveMediaQueries,fontFaces:l.preserveFontFaces});if(f){var p=null;!0!==l.insertPreservedExtraCss?p=t(l.insertPreservedExtraCss):((p=t("head")).length||(p=t("body")),p.length||(p=t.root())),p.first().append("<style>"+f+"</style>")}}}function n(e){if("none"===e||"normal"===e)return"";var t=e.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);return t?{img:t[1].replace(/^['"]|['"]$/g,"")}:(e=e.slice(1,e.length-1),e=e.replace(/\\/g,""))}function i(e){if(0!==e.length){var t=e[e.length-1].pseudos;if(t)for(var n=0;n<t.length;n++)if(r(t[n]))return t[n].name}}function r(e){return"before"===e.name||"after"===e.name}function a(e){return e.filter(function(e){return!r(e)})}function l(e,t){var n,i,r,a=[];return e("style").each(function(){if(r=this,1===(n=r.childNodes).length){if(i=n[0].data,t.applyStyleTags&&void 0===e(r).attr("data-embed")&&a.push(i),t.removeStyleTags&&void 0===e(r).attr("data-embed")){var l=o.getPreservedText(r.childNodes[0].nodeValue,{mediaQueries:t.preserveMediaQueries,fontFaces:t.preserveFontFaces});l?r.childNodes[0].nodeValue=l:e(r).remove()}e(r).removeAttr("data-embed")}}),a}function s(e,t){return l(e,t).join("\n")}return e.ignoredPseudos=["hover","active","focus","visited","link"],e.widthElements=["TABLE","TD","IMG"],e.heightElements=["TABLE","TD","IMG"],e.tableElements=["TABLE","TD","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],e.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],e.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},e.excludedProperties=[],e.juiceDocument=function(e,n){var i=s(e,n=o.getDefaultOptions(n));return i+="\n"+n.extraCss,t(e,i,n),e},e.inlineDocument=t,e}},{"./utils":7}],5:[function(e,t,n){"use strict";function o(e,t,n,o,i){this.prop=e,this.value=t,this.selector=n,this.priority=o||0,this.additionalPriority=i||[]}t.exports=o;var i=e("./utils");o.prototype.compareFunc=function(e){var t=[];t.push.apply(t,this.selector.specificity()),t.push.apply(t,this.additionalPriority),t[0]+=this.priority;var n=[];return n.push.apply(n,e.selector.specificity()),n.push.apply(n,e.additionalPriority),n[0]+=e.priority,i.compareFunc(t,n)},o.prototype.compare=function(e){return 1===this.compareFunc(e)?this:e},o.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},{"./utils":7}],6:[function(e,t,n){"use strict";function o(e,t){this.text=e,this.spec=void 0,this.styleAttribute=t||!1}function i(e){try{return r(e)[0]}catch(e){return[]}}var r=e("./../../slick/parser");t.exports=o,o.prototype.parsed=function(){return this.tokens||(this.tokens=i(this.text)),this.tokens},o.prototype.specificity=function(){function e(n,o){for(var r=o||i(n),a=[t?1:0,0,0,0],l=[],s=0;s<r.length;s++){var d=r[s],u=d.pseudos;if(d.id&&a[1]++,d.attributes&&(a[2]+=d.attributes.length),d.classList&&(a[2]+=d.classList.length),d.tag&&"*"!==d.tag&&a[3]++,u){a[3]+=u.length;for(var c=0;c<u.length;c++)"not"===u[c].name&&(l.push(u[c].value),a[3]--)}}for(var f=l.length;f--;)for(var p=e(l[f]),h=4;h--;)a[h]+=p[h];return a}var t=this.styleAttribute;return this.spec||(this.spec=e(this.text,this.parsed())),this.spec}},{"./../../slick/parser":17}],7:[function(e,t,n){"use strict";var o=e("./../../mensch/index.js"),i={}.hasOwnProperty,r=e("os"),a=e("./selector"),l=e("./property");n.Selector=a,n.Property=l,n.extract=function(e){for(var t=0,n=[],o="",i=0,r=e.length;i<r;i++){var a=e.charAt(i);t?("]"!==a&&")"!==a||t--,o+=a):","===a?(n.push(o),o=""):("["!==a&&"("!==a||t++,(o.length||","!==a&&"\n"!==a&&" "!==a)&&(o+=a))}return o.length&&n.push(o),n},n.parseCSS=function(e){for(var t=o.parse(e,{position:!0,comments:!0}),n=void 0!==t.stylesheet&&t.stylesheet.rules?t.stylesheet.rules:[],i=[],r=0,a=n.length;r<a;r++)if("rule"==n[r].type)for(var l=n[r],s=l.selectors,d=0,u=s.length;d<u;d++)i.push([s[d],l.declarations]);return i},n.getPreservedText=function(e,t){for(var n=o.parse(e,{position:!0,comments:!0}),i=void 0!==n.stylesheet&&n.stylesheet.rules?n.stylesheet.rules:[],a=[],l=i.length-1;l>=0;l--)(t.fontFaces&&"font-face"===i[l].type||t.mediaQueries&&"media"===i[l].type)&&a.push(o.stringify({stylesheet:{rules:[i[l]]}},{comments:!1,indentation:"  "})),i[l].position.start;return 0!==a.length&&r.EOL+a.join(r.EOL)+r.EOL},n.normalizeLineEndings=function(e){return e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")},n.compareFunc=function(e,t){for(var n=Math.min(e.length,t.length),o=0;o<n;o++)if(e[o]!==t[o])return e[o]>t[o]?1:-1;return e.length-t.length},n.compare=function(e,t){return 1==n.compareFunc(e,t)?e:t},n.extend=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.getDefaultOptions=function(e){var t=n.extend({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},e);return t.webResources=t.webResources||{},t}},{"./../../mensch/index.js":12,"./property":5,"./selector":6,os:25}],8:[function(e,t,n){(function(o){!function(i){if("function"==typeof e&&"object"==typeof n&&"object"==typeof t){var r="undefined"!=typeof window?window.ko:void 0!==o?o.ko:null,a="undefined"!=typeof window?window.jQuery:void 0!==o?o.jQuery:null;"undefined"!=typeof window?window.jQuery.ui.sortable:void 0!==o&&o.jQuery.ui.sortable,"undefined"!=typeof window?window.jQuery.ui.draggable:void 0!==o&&o.jQuery.ui.draggable,i(r,a)}else i(window.ko,window.jQuery)}(function(e,t){var n="ko_sortItem",o="ko_sourceIndex",i="ko_sortList",r="ko_parentList",a="ko_dragItem",l=e.utils.unwrapObservable,s=e.utils.domData.get,d=e.utils.domData.set,u=t.ui&&t.ui.version,c=u&&u.indexOf("1.6.")&&u.indexOf("1.7.")&&(u.indexOf("1.8.")||"1.8.24"===u),f=function(t,o){e.utils.arrayForEach(t,function(e){1===e.nodeType&&(d(e,n,o),d(e,r,s(e.parentNode,i)))})},p=function(t,n){var o,i={},r=l(t())||{};return r.data?(i[n]=r.data,i.name=r.template):i[n]=t(),e.utils.arrayForEach(["afterAdd","afterRender","as","beforeRemove","includeDestroyed","templateEngine","templateOptions","nodes"],function(t){r.hasOwnProperty(t)?i[t]=r[t]:e.bindingHandlers.sortable.hasOwnProperty(t)&&(i[t]=e.bindingHandlers.sortable[t])}),"foreach"===n&&(i.afterRender?(o=i.afterRender,i.afterRender=function(e,t){f.call(t,e,t),o.call(t,e,t)}):i.afterRender=f),i},h=function(e,t){var n=l(t);if(n)for(var o=0;e>o;o++)n[o]&&l(n[o]._destroy)&&e++;return e},b=function(n,o){var i,r;o?(r=document.getElementById(o))&&(i=new e.templateSources.domElement(r)).text(t.trim(i.text())):t(n).contents().each(function(){this&&1!==this.nodeType&&n.removeChild(this)})};e.bindingHandlers.sortable={init:function(u,f,v,m,g){var y,w,x=t(u),k=l(f())||{},_=p(f,"foreach"),j={};b(u,_.name),t.extend(!0,j,e.bindingHandlers.sortable),k.options&&j.options&&(e.utils.extend(j.options,k.options),delete k.options),e.utils.extend(j,k),j.connectClass&&(e.isObservable(j.allowDrop)||"function"==typeof j.allowDrop)?e.computed({read:function(){var t=l(j.allowDrop),n="function"==typeof t?t.call(this,_.foreach):t;e.utils.toggleDomNodeCssClass(u,j.connectClass,n)},disposeWhenNodeIsRemoved:u},this):e.utils.toggleDomNodeCssClass(u,j.connectClass,j.allowDrop),e.bindingHandlers.template.init(u,function(){return _},v,m,g),y=j.options.start,w=j.options.update,j.options.helper||(j.options.helper=function(e,n){return n.is("tr")&&n.children().each(function(){t(this).width(t(this).width())}),n});var O=setTimeout(function(){var f,p=j.options.receive;x.sortable(e.utils.extend(j.options,{start:function(t,n){var i=n.item[0];d(i,o,e.utils.arrayIndexOf(n.item.parent().children(),i)),n.item.find("input:focus").change(),y&&y.apply(this,arguments)},receive:function(e,t){"function"==typeof p&&p.call(this,e,t),(f=s(t.item[0],a))&&(f.clone&&(f=f.clone()),j.dragged&&(f=j.dragged.call(this,f,e,t)||f))},update:function(a,u){var p,b,v,m,g,y=u.item[0],x=u.item.parent()[0],k=s(y,n)||f;if(k||t(y).remove(),f=null,k&&this===x||!c&&t.contains(this,x)){if(p=s(y,r),v=s(y,o),b=s(y.parentNode,i),m=e.utils.arrayIndexOf(u.item.parent().children(),y),_.includeDestroyed||(v=h(v,p),m=h(m,b)),(j.beforeMove||j.afterMove)&&(g={item:k,sourceParent:p,sourceParentNode:p&&u.sender||y.parentNode,sourceIndex:v,targetParent:b,targetIndex:m,cancelDrop:!1},j.beforeMove&&j.beforeMove.call(this,g,a,u)),p?t(p===b?this:u.sender||this).sortable("cancel"):t(y).remove(),g&&g.cancelDrop)return;if(j.hasOwnProperty("strategyMove")&&!1!==j.strategyMove){if(m>=0)if(p)if(p!==b)p.splice(v,1),b.splice(m,0,k),d(y,n,null),u.item.remove();else{var O=l(p);p.valueWillMutate&&p.valueWillMutate(),O.splice(v,1),O.splice(m,0,k),p.valueHasMutated&&p.valueHasMutated()}else b.splice(m,0,k),d(y,n,null),u.item.remove()}else m>=0&&(p&&(p.splice(v,1),e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),e.options&&e.options.deferUpdates&&e.tasks.runEarly()),b.splice(m,0,k)),d(y,n,null);e.processAllDeferredBindingUpdates&&e.processAllDeferredBindingUpdates(),j.afterMove&&j.afterMove.call(this,g,a,u)}w&&w.apply(this,arguments)},connectWith:!!j.connectClass&&"."+j.connectClass})),void 0!==j.isEnabled&&e.computed({read:function(){x.sortable(l(j.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:u})},0);return e.utils.domNodeDisposal.addDisposeCallback(u,function(){(x.data("ui-sortable")||x.data("sortable"))&&x.sortable("destroy"),e.utils.toggleDomNodeCssClass(u,j.connectClass,!1),clearTimeout(O)}),{controlsDescendantBindings:!0}},update:function(t,n,o,r,a){var l=p(n,"foreach");d(t,i,l.foreach),e.bindingHandlers.template.update(t,function(){return l},o,r,a)},connectClass:"ko_container",allowDrop:!0,afterMove:null,beforeMove:null,options:{}},e.bindingHandlers.draggable={init:function(n,o,i,r,s){var u=l(o())||{},c=u.options||{},f=e.utils.extend({},e.bindingHandlers.draggable.options),h=p(o,"data"),b=u.connectClass||e.bindingHandlers.draggable.connectClass,v=void 0!==u.isEnabled?u.isEnabled:e.bindingHandlers.draggable.isEnabled;return u="data"in u?u.data:u,d(n,a,u),e.utils.extend(f,c),f.connectToSortable=!!b&&"."+b,t(n).draggable(f),void 0!==v&&e.computed({read:function(){t(n).draggable(l(v)?"enable":"disable")},disposeWhenNodeIsRemoved:n}),e.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).draggable("destroy")}),e.bindingHandlers.template.init(n,function(){return h},i,r,s)},update:function(t,n,o,i,r){var a=p(n,"data");return e.bindingHandlers.template.update(t,function(){return a},o,i,r)},connectClass:e.bindingHandlers.sortable.connectClass,options:{helper:"clone"}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){(function(o){!function(i){"function"==typeof e&&"object"==typeof n&&"object"==typeof t?t.exports=i("undefined"!=typeof window?window.ko:void 0!==o?o.ko:null,e("./../knockoutjs-reactor/src/knockout.reactor.js")):i(ko,ko.watch)}(function(e,t){return function(n,o){var i,r=e.observableArray(),a=e.observableArray(),l=0,s=0,d={levels:100,undoLabel:"undo (#COUNT#)",redoLabel:"redo (#COUNT#)"};o="object"==typeof o?e.utils.extend(d,o):d;var u=function(e){1==l?f(e,a):2==l?f(e,r):0==l&&(f(e,r),a.removeAll())},c=function(e,t){return void 0!==e.mergedAction?e.mergedAction(t):null},f=function(e,t){if(t().length>0){var n=c(t()[t().length-1],e);if(null!==n)return void(t()[t().length-1]=n)}t().length>=o.levels&&t.shift(),i=t,t.push(e)},p=function(t,n,o){return{name:e.computed(function(){return e.utils.unwrapObservable(t).replace(/#COUNT#/,o().length)}),enabled:e.computed(function(){return 0!==o().length}),execute:function(){var e=o.pop();if(e){var t=l;l=n;var r=s;s=3,e(),h(i),s=r,l=t}return!0}}},h=function(e){if(void 0===e)throw"Unexpected operation: stack cleaner called with undefined stack";e().length>0&&void 0!==e()[e().length-1].mergedAction&&delete e()[e().length-1].mergedAction},b=function(e,t){var n=function(e,t){e(),t()}.bind(void 0,e,t);return void 0!==e.mergedAction&&(n.mergedAction=e.mergedAction),n},v=function(e,t,n){if(void 0!==t)e(t);else{if(!n)throw"Unexpected condition: no item and no child.oldValues!";if("deleted"==n.status)e.splice(n.index,0,n.value);else{if("added"!=n.status)throw"Unsupproted item.status: "+n.status;e.splice(n.index,1)}}},m=function(e,t,n,o,i){return e.bind(void 0,n,o,i)},g={depth:-1,oldValues:1,mutable:!0,tagFields:!0},y={},w=("function"==typeof t?t:e.watch)(n,g,function(e,t,n){var o=void 0!==t.oldValues?t.oldValues[0]:void 0,i=m(v,e,t,o,n);1!=s&&(3==s?void 0!==i&&(i.mergedAction=function(e){return void 0!==e.mergeMe&&e.mergeMe?b(e,this):null},i.mergeMe=!0):void 0!==i&&(t.oldValues&&2==s&&(i.mergedAction=function(e,t,n){return"object"==typeof n.mergeableAction&&e==n.mergeableAction.child?this:null}.bind(i,t,n),i.mergeableAction={child:t,item:n}),n&&"deleted"==n.status&&(i.mergedAction=function(e,t,n){return"object"==typeof n.mergeableMove&&t.value==n.mergeableMove.item.value?b(n,this):null}.bind(i,t,n)),n&&"added"==n.status&&(i.mergeableMove={child:t,item:n})),void 0!==i&&u(i))},y);return{push:u,undoCommand:p(o.undoLabel,1,r),redoCommand:p(o.redoLabel,2,a),reset:function(){r.removeAll(),a.removeAll()},setModeOnce:function(){s=2,h(r)},setModeMerge:function(){s=3,h(r)},setModeNormal:function(){s=0,h(r)},setModeIgnore:function(){s=1,h(r)},setUndoActionMaker:function(e){m=e},dispose:function(){w.dispose()}}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../knockoutjs-reactor/src/knockout.reactor.js":11}],10:[function(e,t,n){(function(o){!function(i){"function"==typeof e&&"object"==typeof n&&"object"==typeof t?i("undefined"!=typeof window?window.ko:void 0!==o?o.ko:null,n):i(ko,ko.wrap={})}(function(e,t){function n(e){var t=typeof e;return"object"===t&&(e?e.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(e)&&(t="array"):t="null"),t}function o(t){var n={};for(var o in t){var i=t[o];e.isComputed(i)||(n[o]=r(i))}return n}function i(e){var t=[];if(!e||0==e.length)return t;for(var n=0,o=e.length;n<o;++n)t.push(r(e[n]));return t}function r(t){return e.isObservable(t)?r(t()):"array"==n(t)?i(t):"object"==n(t)?o(t):t}function a(){f=[{obj:null,wrapped:null,lvl:""}]}function l(t,n,o){for(var i=0;i<f.length;++i)if(f[i].obj===t)return f[i].wrapped;var r={};for(var a in t){var l=t[a];f.push({obj:t,wrapped:r,lvl:d()+"/"+a}),r[a]=u(l,n,o),f.pop()}return n&&n[d()]&&(r=n[d()](r)),c()&&e.track(r),o?e.observable(r):r}function s(t,n,o){var i=e.observableArray();if(!t||0==t.length)return i;for(var r=0,a=t.length;r<a;++r)i.push(u(t[r],n,o));return i}function d(){return f[f.length-1].lvl}function u(t,o,i){if("array"==n(t))return s(t,o,i);if("object"==n(t))return l(t,o,i);if(c()||"function"==typeof t)return t;var r=e.observable();return r(t),r}function c(){return null!=e.track}t.fromJS=function(e,t,n){return a(),u(e,t,n)},t.updateFromJS=function(t,n,o,i){return a(),t(e.utils.unwrapObservable(u(n,o,i)))},t.fromJSON=function(n,o,i){var r=e.utils.parseJson(n);return arguments[0]=r,t.fromJS.apply(this,o,i)},t.toJS=function(e){return r(e)},t.toJSON=function(n){var o=t.toJS(n);return e.utils.stringifyJson(o)};var f})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,n){(function(o){!function(i){i("function"==typeof e&&"object"==typeof n&&"object"==typeof t?"undefined"!=typeof window?window.ko:void 0!==o?o.ko:null:window.ko)}(function(e){e.subscribable.fn.watch=function(t,n,o,i){var r=typeof t;return"boolean"===r||"undefined"===r?e.watch(this,{enabled:!1!==t}):"function"!==r||e.isSubscribable(t)?e.watch(t,n,o,i||this):e.watch(this,n||{},t,i||this),this},e.watch=function(t,n,o,i){function r(s,d,u,c,f,p){if(s&&0!==n.depth&&(-1===n.depth||u.length<(n.depth||1))){if(n.watchedOnly&&!s.watchable&&s!=t)return;if(!1!==n.enabled&&!0!==n.enabled||(s.watchable=n.enabled),!1===s.watchable)return;!0===n.seal&&(s.watchable=!1);var h=typeof s;if("object"===h||"function"===h){if(s._watcher===i)return;if(n.hide&&e.utils.arrayIndexOf(n.hide,s)>-1)return;var b=[].concat(u,d&&d!==t?d:[]);if("function"!==h){if("[object Object]"===Object.prototype.toString.call(s))e.utils.objectForEach(s,function(t,o){if(o=n.getter?n.getter.call(i,b,s,t):o){if(n.wrap){var a=Object.prototype.toString.call(o);"[object Function]"!==a&&"[object Object]"!==a&&(n.beforeWrap&&!1===n.beforeWrap.call(i,b,s,o)||(o=s[t]="[object Array]"===a?e.observableArray(o):e.observable(o)))}n.unloop&&(o._watcher=c?void 0:i);var l=r(o,f?null:s,b,c,null,t);n.tagFields&&void 0===o._fieldName&&(l||"parentsOnly"!==n.tagFields&&"function"==typeof o||"object"==typeof o)&&(o._fieldName=t)}});else if(!0!==n.hideArrays)for(var v=0;v<s.length;v++)r(s[v],f?null:s,b,c);return!0}if("function"==typeof s.notifySubscribers&&o){if(!0===n.enabled&&!1===s.watchable)return;if(c||!n.beforeWatch||!1!==n.beforeWatch.call(i,b,s,p)){var m="function"==typeof s.pop;if(c?a(s):l(s,m,b,f),m)return r(s(),f?null:s,b,c,!0),!0;if(!0!==n.hideWrappedValues)return r(s(),f?null:s,b,c,!0)}}}}}function a(e){var t=e[s];if(!t)throw"Subscriptions field (."+s+") not defined for observable child "+(e._fieldName||"");if(t.change)for(o=t.change.length-1;o>=0;o--)t.change[o]._watcher===i&&t.change[o].dispose();if(t.beforeChange&&(n.mutable||n.oldValues>0))for(o=t.beforeChange.length-1;o>=0;o--)t.beforeChange[o]._watcher===i&&t.beforeChange[o].dispose();if(t.arrayChange)for(var o=t.arrayChange.length-1;o>=0;o--)t.arrayChange[o]._watcher===i&&t.arrayChange[o].dispose()}function l(t,a,l,s){a?t.subscribe(function(n){e.utils.arrayForEach(n,function(e){var n=o.call(i,l,t,e);void 0!==n&&i(n),e.moved||setTimeout(function(){r(e.value,s?null:t,l,"deleted"===e.status)},0)})},void 0,"arrayChange")._watcher=i:(t.subscribe(function(){if(!1!==t.watchable){var e=o.call(i,l,t);void 0!==e&&i(e),n.mutable&&"object"==typeof t()&&r(t(),s?null:t,l)}},null,"change")._watcher=i,(n.oldValues>0||n.mutable)&&(t.subscribe(function(e){if(n.oldValues>0){var o=t.oldValues?t.oldValues:t.oldValues=[];for(o.unshift(e);o.length>n.oldValues;)o.pop()}n.mutable&&"object"==typeof e&&r(e,s?null:t,l,!1,!0)},null,"beforeChange")._watcher=i))}"function"==typeof n&&(i=i||o,o=n,n={}),i=i||this;var s;switch("function"==typeof e.subscription||e.version){case!0:s="_subscriptions";break;case"3.0.0":s="F";break;case"3.1.0":s="H";break;case"3.2.0":s="M";break;case"3.3.0":s="G";break;case"3.4.0":case"3.4.1":s="K";break;default:throw"Unsupported Knockout version. Only v3.0.0 to v3.4.1 are supported when minified. Current version is "+e.version}return"function"!=typeof t||e.isSubscribable(t)?(r(t,null,[]),{dispose:function(){r(t,null,[],!0)}}):e.computed(t,o,n)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(e,t,n){t.exports={lex:e("./lib/lexer"),parse:e("./lib/parser"),stringify:e("./lib/stringify")}},{"./lib/lexer":14,"./lib/parser":15,"./lib/stringify":16}],13:[function(e,t,n){(function(e){function o(t){var n=[].slice.call(arguments,1);n.unshift("["+t+"]"),e.stderr.write(n.join(" ")+"\n")}n=t.exports=function(e){return o.bind(null,e)}}).call(this,e("_process"))},{_process:26}],14:[function(e,t,n){var o=!1,i=!1,r=e("./debug")("lex");t.exports=function(e){function t(e){return e?x[x.length-1-e]:w}function n(e){return e===a(1)}function a(t){return e[m+(t||1)]}function l(){var e=x.pop();return w=x[x.length-1],e}function s(e){return w=e,x.push(w),x.length}function d(e){var t=w;return x[x.length-1]=w=e,t}function u(t){if(1==(t||1))"\n"==e[m]?(y++,v=1):v++,m++;else{var n=e.slice(m,m+t).split("\n");n.length>1&&(y+=n.length-1,v=1),v+=n[n.length-1].length,m+=t}}function c(){k.end={line:y,col:v},o&&r("addToken:",JSON.stringify(k,null,2)),_.push(k),b="",k={}}function f(e){k={type:e,start:{line:y,col:v}}}var p,h,b="",v=0,m=-1,g=0,y=1,w="before-selector",x=[w],k={},_=[],j=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];for(i&&(p=Date.now());u(),h=e[m];)switch(o&&r(h,t()),h){case" ":switch(t()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":b+=h}break;case"\n":case"\t":case"\r":case"\f":switch(t()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":b+=h;break;case"at-value":"\n"===h&&(k.value=b.trim(),c(),l())}break;case":":switch(t()){case"name":k.name=b.trim(),b="",d("before-value");break;case"before-selector":b+=h,f("selector"),s("selector");break;case"before-value":d("value"),b+=h;break;default:b+=h}break;case";":switch(t()){case"name":case"before-value":case"value":b.trim().length>0&&(k.value=b.trim(),c()),d("before-name");break;case"value-paren":b+=h;break;case"at-value":k.value=b.trim(),c(),l();break;case"before-name":break;default:b+=h}break;case"{":switch(t()){case"selector":if("\\"===a(-1)){b+=h;break}k.text=b.trim(),c(),d("before-name"),g+=1;break;case"at-group":switch(k.name=b.trim(),k.type){case"font-face":case"viewport":case"page":s("before-name");break;default:s("before-selector")}c(),g+=1;break;case"name":case"at-rule":k.name=b.trim(),c(),s("before-name"),g+=1;break;case"comment":case"double-string":case"single-string":b+=h;break;case"before-value":d("value"),b+=h}break;case"}":switch(t()){case"before-name":case"name":case"before-value":case"value":b&&(k.value=b.trim()),k.name&&k.value&&c(),f("end"),c(),l(),"at-group"===t()&&(f("at-group-end"),c(),l()),g>0&&(g-=1);break;case"at-group":case"before-selector":case"selector":if("\\"===a(-1)){b+=h;break}g>0&&"at-group"===t(1)&&(f("at-group-end"),c()),g>1&&l(),g>0&&(g-=1);break;case"double-string":case"single-string":case"comment":b+=h}break;case'"':case"'":switch(t()){case"double-string":'"'===h&&"\\"!==a(-1)&&l();break;case"single-string":"'"===h&&"\\"!==a(-1)&&l();break;case"before-at-value":d("at-value"),s('"'===h?"double-string":"single-string");break;case"before-value":d("value"),s('"'===h?"double-string":"single-string");break;case"comment":break;default:"\\"!==a(-1)&&s('"'===h?"double-string":"single-string")}b+=h;break;case"/":switch(t()){case"comment":case"double-string":case"single-string":b+=h;break;case"before-value":case"selector":case"name":case"value":if(n("*")){var O=function(t){var n=e.slice(m).indexOf(t);return n>0&&n}("*/");O&&u(O+1)}else"before-value"==t()&&d("value"),b+=h;break;default:n("*")?(f("comment"),s("comment"),u()):b+=h}break;case"*":switch(t()){case"comment":n("/")?(k.text=b,u(),c(),l()):b+=h;break;case"before-selector":b+=h,f("selector"),s("selector");break;case"before-value":d("value"),b+=h;break;default:b+=h}break;case"@":switch(t()){case"comment":case"double-string":case"single-string":b+=h;break;case"before-value":d("value"),b+=h;break;default:for(var S,A,$=!1,C=0,E=j.length;!$&&C<E;++C)(function(t){var n=m+1;return t===e.slice(n,n+t.length)})(S=(A=j[C]).name||A)&&($=!0,f(S),s(A.state||"at-group"),u(S.length),A.prefix&&(k.prefix=A.prefix),A.type&&(k.type=A.type));$||(b+=h)}break;case"(":switch(t()){case"value":s("value-paren");break;case"before-value":d("value")}b+=h;break;case")":switch(t()){case"value-paren":l();break;case"before-value":d("value")}b+=h;break;default:switch(t()){case"before-selector":f("selector"),s("selector");break;case"before-name":f("property"),d("name");break;case"before-value":d("value");break;case"before-at-value":d("at-value")}b+=h}return i&&r("ran in",Date.now()-p+"ms"),_}},{"./debug":13}],15:[function(e,t,n){function o(e,t){t||(t={});for(var n,o=["type","name","value"],i={},r=0;r<o.length;++r)e[n=o[r]]&&(i[n]=t[n]||e[n]);for(o=Object.keys(t),r=0;r<o.length;++r)i[n=o[r]]||(i[n]=t[n]);return k&&(i.position={start:e.start,end:e.end}),v&&g("astNode:",JSON.stringify(i,null,2)),i}function i(){var e=_.shift();return v&&g("next:",JSON.stringify(e,null,2)),e}function r(e){x+=1;var t={};switch(e.type){case"font-face":case"viewport":t.declarations=h();break;case"page":t.prefix=e.prefix,t.declarations=h();break;default:t.prefix=e.prefix,t.rules=b()}return o(e,t)}function a(e){return o(e)}function l(e){return o(e)}function s(e){return o(e,{text:e.text})}function d(e){return o(e)}function u(e){return o(e)}function c(e){return o(e,{type:"rule",selectors:e.text.split(",").map(function(e){return e.trim()}),declarations:h()})}function f(e){switch(e.type){case"property":return u(e);case"selector":return c(e);case"at-group-end":return void(x-=1);case"media":case"keyframes":return r(e);case"comment":if(w)return s(e);break;case"charset":return l(e);case"import":return a(e);case"namespace":return d(e);case"font-face":case"supports":case"viewport":case"document":case"page":return r(e)}v&&g("parseToken: unexpected token:",JSON.stringify(e))}function p(e){for(var t,n,o=[];(n=i())&&e&&e(n);)(t=f(n))&&o.push(t);return n&&"end"!==n.type&&_.unshift(n),o}function h(){return p(function(e){return"property"===e.type||"comment"===e.type})}function b(){return p(function(){return x})}var v=!1,m=!1,g=e("./debug")("parse"),y=e("./lexer");t.exports=function(e,t){var n;t||(t={}),w=!!t.comments,k=!!t.position,x=0,_=Array.isArray(e)?e.slice():y(e);var o,r,a=[];for(m&&(n=Date.now());r=i();)(o=f(r))&&a.push(o);return m&&g("ran in",Date.now()-n+"ms"),{type:"stylesheet",stylesheet:{rules:a}}};var w,x,k,_},{"./debug":13,"./lexer":14}],16:[function(e,t,n){function o(e){this.level||(this.level=1);{if(!e)return b?"":Array(this.level).join(v||"");this.level+=e}}function i(e){return"@"+e.type+" "+e.value+";"+m}function r(e){var t="",n=e.prefix||"";e.name&&(t=" "+e.name);var o="page"!==e.type;return"@"+n+e.type+t+g+d(e,o)+m}function a(e){return h?"/*"+(e.text||"")+"*/"+m:""}function l(e){var t;return e.selectors?t=e.selectors.join(","+m):(t="@"+e.type,t+=e.name?" "+e.name:""),o()+t+g+d(e)+m}function s(e,t){return e.reduce(function(e,n){var o="comment"===n.type?a(n):t(n);return o&&e.push(o),e},[])}function d(e,t){var n=e.declarations,i=c;return e.rules&&(n=e.rules,i=l),(n=u(n,i))&&(n=m+n+(t?"":m)),"{"+n+o()+"}"}function u(e,t){if(!e)return"";o(1);var n=s(e,t);return o(-1),n.length?n.join(m):""}function c(e){if("property"===e.type)return p(e);y&&x("stringifyDeclaration: unexpected node:",JSON.stringify(e))}function f(e){switch(e.type){case"rule":return l(e);case"media":case"keyframes":return r(e);case"comment":return a(e);case"import":case"charset":case"namespace":return i(e);case"font-face":case"supports":case"viewport":case"document":case"page":return r(e)}y&&x("stringifyNode: unexpected node: "+JSON.stringify(e))}function p(e){var t=e.name?e.name+":"+g:"";return o()+t+e.value+";"}var h,b,v,m,g,y=!1,w=!1,x=e("./debug")("stringify");t.exports=function(e,t){var n;t||(t={}),v=t.indentation||"",b=!!t.compress,h=!!t.comments,b?m=g="":(m="\n",g=" "),w&&(n=Date.now());var o=s(e.stylesheet.rules,f).join("\n").trim();return w&&x("ran in",Date.now()-n+"ms"),o}},{"./debug":13}],17:[function(e,t,n){"use strict";var o=/([-.*+?^${}()|[\]\/\\])/g,i=/\\/g,r=function(e){return(e+"").replace(o,"\\$1")},a=function(e){return(e+"").replace(i,"")},l=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+r(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),s=function(e){this.combinator=e||" ",this.tag="*"};s.prototype.toString=function(){if(!this.raw){var e,t,n="";if(n+=this.tag||"*",this.id&&(n+="#"+this.id),this.classes&&(n+="."+this.classList.join(".")),this.attributes)for(e=0;t=this.attributes[e++];)n+="["+t.name+(t.operator?t.operator+'"'+t.value+'"':"")+"]";if(this.pseudos)for(e=0;t=this.pseudos[e++];)n+=":"+t.name,t.value&&(n+="("+t.value+")");this.raw=n}return this.raw};var d=function(){this.length=0};d.prototype.toString=function(){if(!this.raw){for(var e,t="",n=0;e=this[n++];)1!==n&&(t+=" ")," "!==e.combinator&&(t+=e.combinator+" "),t+=e;this.raw=t}return this.raw};var u=function(e,t,n,o,i,l,u,c,f,p,h,b,v,m,g,y){var w,x;if((t||!this.length)&&(w=this[this.length++]=new d,t))return"";if(w||(w=this[this.length-1]),(n||o||!w.length)&&(x=w[w.length++]=new s(n)),x||(x=w[w.length-1]),i)x.tag=a(i);else if(l)x.id=a(l);else if(u){var k=a(u),_=x.classes||(x.classes={});if(!_[k]){_[k]=r(u);var j=x.classList||(x.classList=[]);j.push(k),j.sort()}}else v?(y=y||g,(x.pseudos||(x.pseudos=[])).push({type:1==b.length?"class":"element",name:a(v),escapedName:r(v),value:y?a(y):null,escapedValue:y?r(y):null})):c&&(h=h?r(h):null,(x.attributes||(x.attributes=[])).push({operator:f,name:a(c),escapedName:r(c),value:h?a(h):null,escapedValue:h?r(h):null}));return""},c=function(e){this.length=0;for(var t,n=this,o=e;e;){if((t=e.replace(l,function(){return u.apply(n,arguments)}))===e)throw new Error(o+" is an invalid expression");e=t}};c.prototype.toString=function(){if(!this.raw){for(var e,t=[],n=0;e=this[n++];)t.push(e);this.raw=t.join(", ")}return this.raw};var f={};t.exports=function(e){return null==e?null:(e=(""+e).replace(/^\s+|\s+$/g,""),f[e]||(f[e]=new c(e)))}},{}],18:[function(e,t,n){!function(e){function n(e,t){if(e=e||"",t=t||{},e instanceof n)return e;if(!(this instanceof n))return new n(e,t);var i=o(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=L(100*this._a)/100,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=L(this._r)),this._g<1&&(this._g=L(this._g)),this._b<1&&(this._b=L(this._b)),this._ok=i.ok,this._tc_id=z++}function o(e){var t={r:0,g:0,b:0},n=1,o=null,r=null,l=null,d=!1,u=!1;return"string"==typeof e&&(e=D(e)),"object"==typeof e&&(B(e.r)&&B(e.g)&&B(e.b)?(t=i(e.r,e.g,e.b),d=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):B(e.h)&&B(e.s)&&B(e.v)?(o=M(e.s),r=M(e.v),t=s(e.h,o,r),d=!0,u="hsv"):B(e.h)&&B(e.s)&&B(e.l)&&(o=M(e.s),l=M(e.l),t=a(e.h,o,l),d=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=O(n),{ok:d,format:e.format||u,r:R(255,U(t.r,0)),g:R(255,U(t.g,0)),b:R(255,U(t.b,0)),a:n}}function i(e,t,n){return{r:255*S(e,255),g:255*S(t,255),b:255*S(n,255)}}function r(e,t,n){e=S(e,255),t=S(t,255),n=S(n,255);var o,i,r=U(e,t,n),a=R(e,t,n),l=(r+a)/2;if(r==a)o=i=0;else{var s=r-a;switch(i=l>.5?s/(2-r-a):s/(r+a),r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:i,l:l}}function a(e,t,n){function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,r,a;if(e=S(e,360),t=S(t,100),n=S(n,100),0===t)i=r=a=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;i=o(s,l,e+1/3),r=o(s,l,e),a=o(s,l,e-1/3)}return{r:255*i,g:255*r,b:255*a}}function l(e,t,n){e=S(e,255),t=S(t,255),n=S(n,255);var o,i,r=U(e,t,n),a=R(e,t,n),l=r,s=r-a;if(i=0===r?0:s/r,r==a)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:i,v:l}}function s(t,n,o){t=6*S(t,360),n=S(n,100),o=S(o,100);var i=e.floor(t),r=t-i,a=o*(1-n),l=o*(1-r*n),s=o*(1-(1-r)*n),d=i%6;return{r:255*[o,l,a,a,s,o][d],g:255*[s,o,o,l,a,a][d],b:255*[a,a,s,o,o,l][d]}}function d(e,t,n,o){var i=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(n).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function u(e,t,n,o,i){var r=[T(L(e).toString(16)),T(L(t).toString(16)),T(L(n).toString(16)),T(I(o))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function c(e,t,n,o){return[T(I(o)),T(L(e).toString(16)),T(L(t).toString(16)),T(L(n).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var o=n(e).toHsl();return o.s-=t/100,o.s=A(o.s),n(o)}function p(e,t){t=0===t?0:t||10;var o=n(e).toHsl();return o.s+=t/100,o.s=A(o.s),n(o)}function h(e){return n(e).desaturate(100)}function b(e,t){t=0===t?0:t||10;var o=n(e).toHsl();return o.l+=t/100,o.l=A(o.l),n(o)}function v(e,t){t=0===t?0:t||10;var o=n(e).toRgb();return o.r=U(0,R(255,o.r-L(-t/100*255))),o.g=U(0,R(255,o.g-L(-t/100*255))),o.b=U(0,R(255,o.b-L(-t/100*255))),n(o)}function m(e,t){t=0===t?0:t||10;var o=n(e).toHsl();return o.l-=t/100,o.l=A(o.l),n(o)}function g(e,t){var o=n(e).toHsl(),i=(o.h+t)%360;return o.h=i<0?360+i:i,n(o)}function y(e){var t=n(e).toHsl();return t.h=(t.h+180)%360,n(t)}function w(e){var t=n(e).toHsl(),o=t.h;return[n(e),n({h:(o+120)%360,s:t.s,l:t.l}),n({h:(o+240)%360,s:t.s,l:t.l})]}function x(e){var t=n(e).toHsl(),o=t.h;return[n(e),n({h:(o+90)%360,s:t.s,l:t.l}),n({h:(o+180)%360,s:t.s,l:t.l}),n({h:(o+270)%360,s:t.s,l:t.l})]}function k(e){var t=n(e).toHsl(),o=t.h;return[n(e),n({h:(o+72)%360,s:t.s,l:t.l}),n({h:(o+216)%360,s:t.s,l:t.l})]}function _(e,t,o){t=t||6,o=o||30;var i=n(e).toHsl(),r=360/o,a=[n(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,a.push(n(i));return a}function j(e,t){t=t||6;for(var o=n(e).toHsv(),i=o.h,r=o.s,a=o.v,l=[],s=1/t;t--;)l.push(n({h:i,s:r,v:a})),a=(a+s)%1;return l}function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function S(t,n){C(t)&&(t="100%");var o=E(t);return t=R(n,U(0,parseFloat(t))),o&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function A(e){return R(1,U(0,e))}function $(e){return parseInt(e,16)}function C(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function E(e){return"string"==typeof e&&-1!=e.indexOf("%")}function T(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(t){return e.round(255*parseFloat(t)).toString(16)}function H(e){return $(e)/255}function B(e){return!!Q.CSS_UNIT.exec(e)}function D(e){e=e.replace(F,"").replace(N,"").toLowerCase();var t=!1;if(G[e])e=G[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Q.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Q.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Q.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Q.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Q.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Q.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Q.hex8.exec(e))?{r:$(n[1]),g:$(n[2]),b:$(n[3]),a:H(n[4]),format:t?"name":"hex8"}:(n=Q.hex6.exec(e))?{r:$(n[1]),g:$(n[2]),b:$(n[3]),format:t?"name":"hex"}:(n=Q.hex4.exec(e))?{r:$(n[1]+""+n[1]),g:$(n[2]+""+n[2]),b:$(n[3]+""+n[3]),a:H(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Q.hex3.exec(e))&&{r:$(n[1]+""+n[1]),g:$(n[2]+""+n[2]),b:$(n[3]+""+n[3]),format:t?"name":"hex"}}function P(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var F=/^\s+/,N=/\s+$/,z=0,L=e.round,R=e.min,U=e.max,q=e.random;n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,o,i,r,a,l=this.toRgb();return t=l.r/255,n=l.g/255,o=l.b/255,i=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),r=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=o<=.03928?o/12.92:e.pow((o+.055)/1.055,2.4),.2126*i+.7152*r+.0722*a},setAlpha:function(e){return this._a=O(e),this._roundA=L(100*this._a)/100,this},toHsv:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=l(this._r,this._g,this._b),t=L(360*e.h),n=L(100*e.s),o=L(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=L(360*e.h),n=L(100*e.s),o=L(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return u(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:L(this._r),g:L(this._g),b:L(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+L(this._r)+", "+L(this._g)+", "+L(this._b)+")":"rgba("+L(this._r)+", "+L(this._g)+", "+L(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:L(100*S(this._r,255))+"%",g:L(100*S(this._g,255))+"%",b:L(100*S(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+L(100*S(this._r,255))+"%, "+L(100*S(this._g,255))+"%, "+L(100*S(this._b,255))+"%)":"rgba("+L(100*S(this._r,255))+"%, "+L(100*S(this._g,255))+"%, "+L(100*S(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+c(this._r,this._g,this._b,this._a),o=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=n(e);o="#"+c(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+o+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(h,arguments)},spin:function(){return this._applyModification(g,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},n.fromRatio=function(e,t){if("object"==typeof e){var o={};for(var i in e)e.hasOwnProperty(i)&&(o[i]="a"===i?e[i]:M(e[i]));e=o}return n(e,t)},n.equals=function(e,t){return!(!e||!t)&&n(e).toRgbString()==n(t).toRgbString()},n.random=function(){return n.fromRatio({r:q(),g:q(),b:q()})},n.mix=function(e,t,o){o=0===o?0:o||50;var i=n(e).toRgb(),r=n(t).toRgb(),a=o/100;return n({r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a})},n.readability=function(t,o){var i=n(t),r=n(o);return(e.max(i.getLuminance(),r.getLuminance())+.05)/(e.min(i.getLuminance(),r.getLuminance())+.05)},n.isReadable=function(e,t,o){var i,r,a=n.readability(e,t);switch(r=!1,(i=P(o)).level+i.size){case"AAsmall":case"AAAlarge":r=a>=4.5;break;case"AAlarge":r=a>=3;break;case"AAAsmall":r=a>=7}return r},n.mostReadable=function(e,t,o){var i,r,a,l,s=null,d=0;r=(o=o||{}).includeFallbackColors,a=o.level,l=o.size;for(var u=0;u<t.length;u++)(i=n.readability(e,t[u]))>d&&(d=i,s=n(t[u]));return n.isReadable(e,s,{level:a,size:l})||!r?s:(o.includeFallbackColors=!1,n.mostReadable(e,["#fff","#000"],o))};var G=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=n.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(G),Q=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==t&&t.exports?t.exports=n:window.tinycolor=n}(Math)},{}],19:[function(e,t,n){(function(e){!function(e){e(["jquery"],function(e){return function(){function t(t,n){return t||(t=s()),(u=e("#"+t.containerId)).length?u:(n&&(u=i(t)),u)}function n(t){for(var n=u.children(),i=n.length-1;i>=0;i--)o(e(n[i]),t)}function o(t,n,o){var i=!(!o||!o.force)&&o.force;return!(!t||!i&&0!==e(":focus",t).length)&&(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){d(t)}}),!0)}function i(t){return(u=e("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(e(t.target)),u}function r(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function a(e){c&&c(e)}function l(n){function o(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}O.attr("aria-live",e)}function r(){n.iconClass&&O.addClass(k.toastClass).addClass(_)}function l(){k.newestOnTop?u.prepend(O):u.append(O)}function c(){if(n.title){var e=n.title;k.escapeHtml&&(e=o(n.title)),S.append(e).addClass(k.titleClass),O.append(S)}}function h(){if(n.message){var e=n.message;k.escapeHtml&&(e=o(n.message)),A.append(e).addClass(k.messageClass),O.append(A)}}function b(){k.closeButton&&(C.addClass(k.closeClass).attr("role","button"),O.prepend(C))}function v(){k.progressBar&&($.addClass(k.progressClass),O.prepend($))}function m(){k.rtl&&O.addClass("rtl")}function g(t){var n=t&&!1!==k.closeMethod?k.closeMethod:k.hideMethod,o=t&&!1!==k.closeDuration?k.closeDuration:k.hideDuration,i=t&&!1!==k.closeEasing?k.closeEasing:k.hideEasing;if(!e(":focus",O).length||t)return clearTimeout(E.intervalId),O[n]({duration:o,easing:i,complete:function(){d(O),clearTimeout(j),k.onHidden&&"hidden"!==T.state&&k.onHidden(),T.state="hidden",T.endTime=new Date,a(T)}})}function y(){(k.timeOut>0||k.extendedTimeOut>0)&&(j=setTimeout(g,k.extendedTimeOut),E.maxHideTime=parseFloat(k.extendedTimeOut),E.hideEta=(new Date).getTime()+E.maxHideTime)}function w(){clearTimeout(j),E.hideEta=0,O.stop(!0,!0)[k.showMethod]({duration:k.showDuration,easing:k.showEasing})}function x(){var e=(E.hideEta-(new Date).getTime())/E.maxHideTime*100;$.width(e+"%")}var k=s(),_=n.iconClass||k.iconClass;if(void 0!==n.optionsOverride&&(k=e.extend(k,n.optionsOverride),_=n.optionsOverride.iconClass||_),!function(e,t){if(e.preventDuplicates){if(t.message===f)return!0;f=t.message}return!1}(k,n)){p++,u=t(k,!0);var j=null,O=e("<div/>"),S=e("<div/>"),A=e("<div/>"),$=e("<div/>"),C=e(k.closeHtml),E={intervalId:null,hideEta:null,maxHideTime:null},T={toastId:p,state:"visible",startTime:new Date,options:k,map:n};return r(),c(),h(),b(),v(),m(),l(),i(),O.hide(),O[k.showMethod]({duration:k.showDuration,easing:k.showEasing,complete:k.onShown}),k.timeOut>0&&(j=setTimeout(g,k.timeOut),E.maxHideTime=parseFloat(k.timeOut),E.hideEta=(new Date).getTime()+E.maxHideTime,k.progressBar&&(E.intervalId=setInterval(x,10))),k.closeOnHover&&O.hover(w,y),!k.onclick&&k.tapToDismiss&&O.click(g),k.closeButton&&C&&C.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),k.onCloseClick&&k.onCloseClick(e),g(!0)}),k.onclick&&O.click(function(e){k.onclick(e),g()}),a(T),k.debug&&console,O}}function s(){return e.extend({},r(),b.options)}function d(e){u||(u=t()),e.is(":visible")||(e.remove(),e=null,0===u.children().length&&(u.remove(),f=void 0))}var u,c,f,p=0,h={error:"error",info:"info",success:"success",warning:"warning"},b={clear:function(e,i){var r=s();u||t(r),o(e,r,i)||n(r)},remove:function(n){var o=s();u||t(o),n&&0===e(":focus",n).length?d(n):u.children().length&&u.remove()},error:function(e,t,n){return l({type:h.error,iconClass:s().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:t,info:function(e,t,n){return l({type:h.info,iconClass:s().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){c=e},success:function(e,t,n){return l({type:h.success,iconClass:s().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.3",warning:function(e,t,n){return l({type:h.warning,iconClass:s().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return b}()})}(function(n,o){void 0!==t&&t.exports?t.exports=o("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null):window.toastr=o(window.jQuery)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){var o=e("../src/js/bindings/choose-template.js");document.addEventListener("DOMContentLoaded",function(e){o.addTemplate("array","\x3c!-- ko foreach: $data --\x3e\x3c!-- ko block: $data --\x3e\x3c!-- /ko --\x3e\x3c!-- /ko --\x3e"),o.addTemplate("block-show","\x3c!-- ko block: $data, scrollIntoView: $root.selectedBlock() === $data --\x3e\x3c!-- /ko --\x3e"),o.addTemplate("block-wysiwyg",'<div class="editable block" data-drop-content="Drop here" data-bind="attr: { \'data-drop-content\': $root.t(\'Drop here\') }, click: function(obj, evt) { $root.selectBlock(obj); return true }, clickBubble: false, css: { selected: $root.selectedBlock() === $data }, scrollIntoView: $root.selectedBlock() === $data">  <div class="mo-blockselectionhelper"></div>  <div class="tools" data-bind="tooltips: {}">    \x3c!-- ko if: typeof $index != \'undefined\' --\x3e    <div title="Drag this handle to move the block" data-bind="attr: { title: $root.t(\'Drag this handle to move the block\') }" class="tool handle"><i class="fa fa-fw fa-sort"></i></div>    \x3c!-- ko if: $index() > 0 --\x3e    <div title="Move this block upside" data-bind="attr: { title: $root.t(\'Move this block upside\') }" class="tool moveup"><i class="fa fa-fw fa-sort-asc" data-bind=\'click: $root.moveBlock.bind($element, $index, $parent, true)\'></i></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: $index() < $parent.blocks().length -1 --\x3e    <div title="Move this block downside" data-bind="attr: { title: $root.t(\'Move this block downside\') }" class="tool movedown"><i class="fa fa-fw fa-sort-desc" data-bind=\'click: $root.moveBlock.bind($element, $index, $parent, false)\'></i></div>    \x3c!-- /ko --\x3e    <div title="Delete block" class="tool delete" data-bind="attr: { title: $root.t(\'Delete block\') }, click: $root.removeBlock.bind($element, $rawData, $parent)"><i class="fa fa-fw fa-trash-o"></i></div>    <div title="Duplicate block" class="tool clone" data-bind="attr: { title: $root.t(\'Duplicate block\') }, click: $root.duplicateBlock.bind($element, $index, $parent)"><i class="fa fa-fw fa-files-o"></i></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: typeof $data._nextVariant != \'undefined\' --\x3e<div title="Switch block variant" class="tool variant" data-bind="attr: { title: $root.t(\'Switch block variant\') }, click: $data._nextVariant"><i class="fa fa-fw fa-magic"></i></div>\x3c!-- /ko --\x3e  </div>  \x3c!-- ko block: $data --\x3e\x3c!-- /ko --\x3e</div>'),o.addTemplate("blocks-show","\x3c!-- ko template: { name: 'block-show', foreach: blocks } --\x3e\x3c!-- /ko --\x3e"),o.addTemplate("blocks-wysiwyg","<div class=\"sortable-blocks-edit\" data-drop-content=\"Drop here\" data-empty-content=\"Drop here blocks from the Blocks tab\" data-bind=\"attr: { 'data-drop-content': $root.t('Drop here'), 'data-empty-content': $root.t('Drop here blocks from the &quot;Blocks&quot; tab') }, css: { 'empty': ko.utils.unwrapObservable(blocks).length == 0 }, extsortable: { connectClass: 'sortable-blocks-edit', template: 'block-wysiwyg', data: blocks, dragging: $root.dragging, beforeMove: $root.startMultiple, afterMove: $root.stopMultiple, options: { handle: '.handle', placeholder: $root.placeholderHelper } }\"></div>"),o.addTemplate("customstyle",'<div class="customStyleHelp" data-bind="html: $root.t(\'Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class=&quot;customStyled&quot;><span>&quot;small cube&quot; </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul>\')">Customized block.<ul><li>In this status changes to properties will be specific to the current block (instead of being global to all blocks in the same section)</li><li>A <span class="customStyled"><span>"small cube" </span></span> icon beside the property will mark the customization. By clicking this icon the property value will be reverted to the value defined for the section.</li></ul></div>'),o.addTemplate("empty",""),o.addTemplate("error",'[<div style="background-color: #fff0f0" data-bind="text: ko.toJS($data)"></div>]'),o.addTemplate("img-wysiwyg",'<table tabfocus="0" cellspacing="0" cellpadding="0" data-drop-content="Drop here" data-bind="style: _stylebind, click: function(obj, evt) { $root.selectItem(_item, _data); return true; }, clickBubble: false, fudroppable: { activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }, droppable: { options: { accept: \'.image\', activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }, data: _src, dragged: $root.fileToImage }, css: { selecteditem: $root.isSelectedItem(_item) }, scrollIntoView: $root.isSelectedItem(_item), attr: { \'data-drop-content\': $root.t(\'Drop here\'), width: _width, height: _height, align: _align }"  class="img-wysiwyg selectable-img" style="display: table;"><tr><td class="uploadzone">  <div class="mo-imgselectionhelper"></div>  <div class="mo-uploadzone"></div>  <div class="img-size" data-bind="text: _size">size</div>  <div class="midtools" data-bind="tooltips: {}">    \x3c!-- ko if: _src() != \'\' --\x3e    <div title="Remove image" class="tool delete" data-bind="attr: { title: $root.t(\'Remove image\') }, click: _src.bind(_src, \'\'), clickBubble: false"><i class="fa fa-fw fa-trash-o"></i></div>    \x3c!-- ko if: typeof $root.editImage !== \'undefined\' --\x3e    <div title="Open the image editing tool" class="tool edit" data-bind="attr: { title: $root.t(\'Open the image editing tool\') }, click: $root.editImage.bind($element, _src), clickBubble: false"><i class="fa fa-fw fa-pencil"></i></div>    \x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e    \x3c!-- ko if: _src() == \'\' --\x3e    <div title="Upload a new image" data-bind="attr: { title: $root.t(\'Upload a new image\') }" class="tool upload" style="position: relative; overflow: hidden;"><i class="fa fa-fw fa-upload"></i>      <input class="fileupload nofile" type="file" name="files[]" data-bind="fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.loadMailingImage, canvasPreview: true }" style="z-index: 20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-size: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">    </div>    \x3c!-- /ko --\x3e  </div>  \x3c!-- ko template: _template --\x3e\x3c!-- /ko --\x3e  \x3c!-- ko if: _src() == \'\' --\x3e    \x3c!--    <img style="display: block;" class="imgplaceholder" width="200" src="" alt="Insert an image here" data-bind="wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }" />    --\x3e    <span class="fileuploadtext" style="text-align: center; display: -ms-flexbox; display: flex; align-items: center; flex-align: center; justify-content: center; padding: 1em; position: absolute; top: 0; left: 0; right: 0; bottom: 0;"><span class="textMiddle" style=" text-shadow: 1px 1px 0 #FFFFFF, 0 0 10px #FFFFFF; font-weight: bold;" data-bind="text: $root.t(\'Drop an image here\')">Drop an image here</span></span>  \x3c!-- /ko --\x3e  \x3c!-- ko if: _src() != \'\' --\x3e  \x3c!--    <img style="display: block;" width="200" src="" data-bind="preloader: _src, wysiwygSrc: { src: _src.preloaded, placeholder: _placeholdersrc, width: _width, height: _height, method: _method }" />    --\x3e  \x3c!-- /ko --\x3e  \x3c!-- pulsante per la cancellazione --\x3e  <div title="Drop an image here or click the upload button" data-bind="attr: { title: $root.t(\'Drop an image here or click the upload button\') }, tooltips: {}" class="workzone" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; overflow: hidden;">    \x3c!-- ko if: _src.preloaded && _src() != _src.preloaded() --\x3ePRELOADING....\x3c!-- /ko --\x3e    \x3c!-- ko if: _src() != \'\' --\x3e      <input class="fileupload withfile" type="file" name="files[]" data-bind="fileupload: { data: _src, onerror: $root.notifier.error, onfile: $root.mailingGallery.unshift.bind($root.mailingGallery), canvasPreview: true }" style="z-index: -20; position: absolute; top: 0; left: 0; right: 0; bottom: 0; min-width: 100%; min-height: 100%; font-zie: 999px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; cursor: inherit; display: block">    \x3c!-- /ko --\x3e    <div class="progress" style="opacity: .5; width: 80%; margin-left: 10%; position: absolute; bottom: 30%; height: 20px; border: 2px solid black;">      <div class="progress-bar progress-bar-success" style="height: 20px; background-color: black; "></div>    </div>  </div></table>'),o.addTemplate("main",'<div id="page" style="display: none;" data-bind="visible: true, css: { withToolbox: $root.showToolbox, withPreviewFrame: showPreviewFrame }">  <div id="main-edit-area" data-bind="click: function(obj, evt) { $root.selectBlock(null); return true; }, clickBubble: false">    \x3c!-- ko withProperties: { templateMode: \'wysiwyg\', templateModeFallback: \'show\' } --\x3e    <div id="main-wysiwyg-area" data-bind="wysiwygScrollfix: true, scrollable: true, fudroppable: { active: draggingImage }, css: { isdragging: dragging, isdraggingimg: draggingImage }, block: content"></div>    \x3c!-- /ko --\x3e  </div>  <div id="toolbar" class="mo" data-bind="tooltips: {}">    \x3c!-- ko if: typeof $root.undo != \'undefined\' --\x3e    <span data-bind="buttonset: { }" class="leftButtons">    <a title="Undo last operation" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Undo last operation\') }, click: $root.undo.execute, clickBubble: false, button: { disabled: !$root.undo.enabled(), icons: { primary: \'fa fa-reply\' }, label: $root.undo.name, text: true }">UNDO</a>    <a title="Redo last operation" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Redo last operation\') }, click: $root.redo.execute, clickBubble: false, button: { disabled: !$root.redo.enabled(), icons: { primary: \'fa fa-share\' }, label: $root.redo.name, text: true }">REDO</a>    </span>    \x3c!-- ko if: $root.debug --\x3e    <a href="javascript:void(0)" data-bind="click: $root.undoReset, clickBubble: false, button: { disabled: !$root.undo.enabled() && !$root.redo.enabled(), label: \'reset\', text: true }">RESET</a>    \x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e    <span>    <input id="showGallery" type="checkbox" data-bind="checked: $root.showGallery, button: { refreshOn: $root.showGallery,    icons: { primary: \'fa fa-fw fa-picture-o\', secondary: null }, text: true, label: $root.t(\'Gallery\') }"><label title="Show image gallery" for="showGallery" data-bind="attr: { title: $root.t(\'Show image gallery\') }">show gallery</label></input>    </span>    \x3c!-- ko template: {name: \'edit-name\' } --\x3e# mailing name #\x3c!-- /ko --\x3e    <input id="previewFrameToggle" type="checkbox" data-bind="checked: $root.showPreviewFrame, button: { refreshOn: $root.showPreviewFrame, icons: { primary: \'fa fa-fw fa-tablet\', secondary: null }, text: false, label: $root.t(\'Preview\') }"><label title="Show live preview" for="previewFrameToggle" data-bind="attr: { title: $root.t(\'Show live preview\') }">PREVIEW</label></input>    \x3c!-- ko if: $root.debug --\x3e    <a href="javascript:void(0)" data-bind="click: $root.export, clickBubble: false, button: { label: \'export\', text: true }">EXPORT</a>    <input type="checkbox" data-bind="checked: $root.debug" /> debug    <a href="javascript:void(0)" data-bind="click: $root.loadDefaultBlocks, clickBubble: false, button: { icons: { primary: \'fa fa-fw fa-upload\' }, label: \'Default\', text: true }">LOAD BLOCKS</a>    [<a id="subscriptionsCount" href="javascript:viewModel.loopSubscriptionsCount()">subs</a>]    \x3c!-- /ko --\x3e    <span data-bind="visible: false">    <input type="checkbox" data-bind="checked: $root.showToolbox" /> toolbox    </span>    <div class="rightButtons">    \x3c!-- ko if: typeof $root.save !== \'undefined\' --\x3e    <a title="Save template" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Save template\') }, click: $root.save.execute, clickBubble: false, button: { disabled: !$root.save.enabled(), icons: { primary: \'fa fa-fw fa-cloud-upload\' }, label: $root.t($root.save.name), text: true }">SALVA</a>    \x3c!-- /ko --\x3e    \x3c!-- ko if: typeof $root.test !== \'undefined\' --\x3e    <a title="Show preview and send test" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show preview and send test\') }, click: $root.test.execute, clickBubble: false, button: { disabled: !$root.test.enabled(), icons: { primary: \'fa fa-fw fa-paper-plane\' }, label: $root.t($root.test.name), text: true }">TEST</a>    \x3c!-- /ko --\x3e    \x3c!-- ko if: typeof $root.download !== \'undefined\' --\x3e    <form id="downloadForm" action="#" method="POST">    <input type="hidden" name="action" value="download" />    <input type="hidden" name="filename" value="email.html" id="downloadHtmlFilename" />    <input type="hidden" name="html" id="downloadHtmlTextarea" />    <a title="Download template" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Download template\') }, click: $root.download.execute, clickBubble: false, button: { disabled: !$root.download.enabled(), icons: { primary: \'fa fa-fw fa-download\' }, label: $root.t($root.download.name), text: true }">DOWNLOAD</a>    </form>    \x3c!-- /ko --\x3e    </div>  </div>  \x3c!-- ko template: {name: \'dialog-select-image\' } --\x3e# dialog image selection #\x3c!-- /ko --\x3e  \x3c!-- ko if: $root.showToolbox --\x3e  <div id="main-toolbox" class="mo" data-bind="scrollable: true, withProperties: { templateMode: \'edit\' }">    <div data-bind="template: { name: \'toolbox\' }"></div>  </div>  \x3c!-- /ko --\x3e  <div id="main-preview" class="mo" data-bind="scrollable: true, if: $root.showPreviewFrame">    <div id="preview-toolbar">      <div data-bind="visible: $root.showPreviewFrame, buttonset: { }" style="display: inline-block">        <input id="previewLarge" type="radio" name="previewMode" value="large" data-bind="checked: $root.previewMode, button: { text: false, label: \'large\', icons: { primary: \'fa fa-fw fa-desktop\' } }" />        <label for="previewLarge" title="Large screen" data-bind="attr: { title: $root.t(\'Large screen\') }">Large screen</label>        <input id="previewDesktop" type="radio" name="previewMode" value="desktop" data-bind="checked: $root.previewMode, button: { text: false, label: \'desktop\', icons: { primary: \'fa fa-fw fa-tablet\' } }" />        <label for="previewDesktop" title="Tablet" data-bind="attr: { title: $root.t(\'Tablet\') }">Tablet</label>        <input id="previewMobile" type="radio" name="previewMode" value="mobile" data-bind="checked: $root.previewMode, button: { text: false, label: \'mobile\', icons: { primary: \'fa fa-fw fa-mobile\' } }" />        <label for="previewMobile" title="Smartphone" data-bind="attr: { title: $root.t(\'Smartphone\') }">Smartphone</label>      </div>    </div>    <div id="frame-container" data-bind="css: { desktop: $root.previewMode() == \'desktop\', mobile: $root.previewMode() == \'mobile\', large: $root.previewMode() == \'large\' }">      <iframe data-bind="bindIframe: $data"></iframe>    </div>  </div>  <div class="mo" id="mo-body"></div>  \x3c!-- TODO REMOVE ME  <div id="incompatible-browser" title="Unsupported browser" style="display: none" data-bind="attr: { title: $root.t(\'Usupported browser\') }, html: \'<p>Your browser is not supported.</p><p>Use a different browser or try updaring your browser.</p><p>Supported browsers: <ul><li>Internet Explorer &gt;= 10</li><li>Google Chrome &gt;= 30</li><li>Apple Safari &gt;= 5</li><li>Mozilla Firefix &gt;= 20</li></ul></p>\'">    Unsupported browser  </div>  --\x3e  <div id="incompatible-template" title="Saved model is obsolete" style="display: none" data-bind="attr: { title: $root.t(\'Saved model is obsolete\') }, html: $root.t(\'<p>The saved model has been created with a previous, non completely compatible version, of the template</p><p>Some content or style in the model <b>COULD BE LOST</b> if you will <b>save</b></p><p>Contact us for more informations!</p>\')">    Incompatible template  </div>  <div id="fake-image-editor" title="Fake image editor" style="display: none" data-bind="attr: { title: $root.t(\'Fake image editor\') }, html: $root.t(\'<p>Fake image editor</p>\')">    <p>Fake image editor</p>  </div></div>\x3c!-- ko if: $root.logoPath --\x3e<div id="loading" class="loading" style="display: block; width: 300px; text-align: center; height: 32px; position: absolute; top:0; bottom: 0; left: 0; right: 0;  margin: auto;" data-bind="attr: { style: \'position: absolute; top: 5px; left: 6px; z-index: 150;\'}, css: { loading: false }">  <a href="/" data-bind="attr: { href: $root.logoUrl, alt: $root.logoAlt }"><img data-bind="attr: { src: $root.logoPath }" width="32" height="32" alt="mosaico" border="0" /></a>  <div style="opacity: 0" data-bind="visible: false">Oppps... !!</div></div>\x3c!-- /ko --\x3e\x3c!-- ko template: {name: \'home-icon\' } --\x3e# home-icon #\x3c!-- /ko --\x3e'),o.addTemplate("toolbox",'<div id="tooltabs" class="tabs_horizontal button_color" data-bind="tabs: { active: $root.selectedTool }">  <ul>    <li data-bind="tooltips: {}"><a title="Blocks ready to be added to the template" data-local="true" href="#toolblocks" data-bind="attr: { title: $root.t(\'Blocks ready to be added to the template\') }"><i class="fa fa-fw fa-cubes"></i> <span data-bind="html: $root.t(\'Blocks\')">Blocks</span></a></li>    <li data-bind="tooltips: {}"><a title="Edit content options" href="#toolcontents" data-local="true" data-bind="attr: { title: $root.t(\'Edit content options\') }"><i class="fa fa-fw fa-pencil"></i> <span data-bind="html: $root.t(\'Content\')">Content</span></a></li>    <li data-bind="tooltips: {}"><a title="Edit style options" href="#toolstyles" data-local="true" data-bind="attr: { title: $root.t(\'Edit style options\') }"><i class="fa fa-fw fa-paint-brush"></i> <span data-bind="html: $root.t(\'Style\')">Style</span></a></li>  </ul>  <div id="toolblocks" data-bind="scrollable: true">    <div class="block-list" data-bind="foreach: blockDefs" style="text-align: center">      <div class="draggable-item" data-bind="withProperties: { templateMode: \'show\' }">        <div class="block" data-bind="extdraggable: { connectClass: \'sortable-blocks-edit\', data: $data, dropContainer: \'#main-wysiwyg-area\', dragging: $root.dragging, \'options\': { handle: \'.handle\', distance: 10, \'appendTo\': \'#page\' } }, click: $root.addBlock" style="position: relative;">          <div title="Click or drag to add this block to the template" class="handle" data-bind="attr: { title: $root.t(\'Click or drag to add this block to the template\') }, tooltips: {}"></div>          <img data-bind="attr: { alt: $root.t(\'Block __name__\', { name: ko.utils.unwrapObservable(type) }), src: $root.templatePath(\'edres/\'+ko.utils.unwrapObservable(type)+\'.png\') }" alt="Block __name__" />        </div>        <a href="javascript:void(0)" class="addblockbutton" data-bind="click: $root.addBlock, button: { label: $root.t(\'Add\') }">Add</a>      </div>    </div>  </div>  <div id="toolcontents" data-bind="scrollable: true">    \x3c!-- ko if: $root.selectedBlock() !== null --\x3e    <div data-bind="block: $root.selectedBlock"></div>    \x3c!-- /ko --\x3e    \x3c!-- ko if: $root.selectedBlock() == null --\x3e    <div class="noSelectedBlock" data-bind="text: $root.t(\'By clicking on message parts you will select a block and content options, if any, will show here\')">By clicking on message parts you will select a block and content options, if any, will show here</div>    \x3c!-- /ko --\x3e    \x3c!-- ko block: content --\x3e\x3c!-- /ko --\x3e  </div>  <div id="toolstyles" data-bind="scrollable: true, withProperties: { templateMode: \'styler\' }">    \x3c!-- ko if: typeof $root.content().theme === \'undefined\' || typeof $root.content().theme().scheme === \'undefined\' || $root.content().theme().scheme() === \'custom\' --\x3e      \x3c!-- ko if: $root.selectedBlock() !== null --\x3e      <div data-bind="block: $root.selectedBlock, css: { workLocal: $root.selectedBlock().customStyle, workGlobal: typeof $root.selectedBlock().customStyle === \'undefined\' || !$root.selectedBlock().customStyle() }"></div>      \x3c!-- /ko --\x3e      \x3c!-- ko if: $root.selectedBlock() == null --\x3e      <div class="noSelectedBlock" data-bind="text: $root.t(\'By clicking on message parts you will select a block and style options, if available, will show here\')">By clicking on message parts you will select a block and style options, if available, will show here</div>      \x3c!-- /ko --\x3e      <div class="workGlobalContent">      \x3c!-- ko block: content --\x3e\x3c!-- /ko --\x3e      </div>    \x3c!-- /ko --\x3e  </div></div><div id="toolimages" class="slidebar" data-bind="scrollable: true, css: { hidden: $root.showGallery() === false }">  <div class="close" data-bind="click: $root.showGallery.bind($element, false);">X</div>  <span class="pane-title" data-bind="text: $root.t(\'gallery-title\')">Galleries:</span>  \x3c!-- ko if: $root.showGallery() --\x3e  <div id="toolimagestab" class="tabs_horizontal" data-bind="tabs: { active: $root.selectedImageTab }">    <ul>      <li data-bind="tooltips: {}"><a title="gallery-mailing" data-local="true" href="#toolimagesgallery" data-bind="attr: { title: $root.t(\'gallery-mailing\') }, text: $root.t(\'gallery-mailing\')">gallery-mailing</a></li>      <li data-bind="tooltips: {}"><a title="gallery-template" data-local="true" href="#toolimagesgallerytemplate" data-bind="attr: { title: $root.t(\'gallery-template\') }, text: $root.t(\'gallery-template\')">gallery-template</a></li>    </ul>    <div id="toolimagesgallery" class="gallery-panel">      \x3c!-- ko template: {name: \'gallery-upload\', data: { type: \'mailing\' } } --\x3e# mailing gallery fileupload #\x3c!-- /ko --\x3e    \x3c!-- ko if: $root.mailingGalleryStatus() === false --\x3e<a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show images from the gallery\') }, click: $root.loadMailingGallery, button: { disabled: $root.mailingGalleryStatus, icons: { primary: \'fa fa-fw fa-picture-o\' }, label: $root.mailingGalleryStatus() == \'loading\' ? $root.t(\'Loading...\') : $root.t(\'Load gallery\'), text: true }"># load gallery #</a>\x3c!-- /ko --\x3e    \x3c!-- ko if: $root.mailingGalleryStatus() === \'loading\' --\x3e<div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-loading\')">Loading mailing gallery</div>\x3c!-- /ko --\x3e    \x3c!-- ko if: $root.mailingGalleryStatus() === 0 --\x3e<div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-empty\')">The mailing gallery is empty</div>\x3c!-- /ko --\x3e    \x3c!-- ko template: {name: \'gallery-images\', data: { items: mailingGallery, type: \'mailing\' } } --\x3e# mailing gallery #\x3c!-- /ko --\x3e    </div>    <div id="toolimagesgallerytemplate" class="gallery-panel">      \x3c!-- ko template: {name: \'gallery-upload\', data: { type: \'template\' } } --\x3e# mailing template fileupload #\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === false --\x3e<a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show images from the gallery\') }, click: $root.loadTemplateGallery, button: { disabled: $root.templateGalleryStatus, icons: { primary: \'fa fa-fw fa-picture-o\' }, label: $root.templateGalleryStatus() == \'loading\' ? $root.t(\'Loading...\') : $root.t(\'Load gallery\'), text: true }"># load gallery #</a>\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === \'loading\' --\x3e<div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-loading\')">Loading template gallery...</div>\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === 0 --\x3e<div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-empty\')">The template gallery is empty</div>\x3c!-- /ko --\x3e      \x3c!-- ko template: {name: \'gallery-images\', data: { items: templateGallery, type: \'template\' } } --\x3e# template gallery #\x3c!-- /ko --\x3e    </div>  </div>  \x3c!-- /ko --\x3e</div><div id="tooldebug" class="slidebar" data-bind="css: { hidden: $root.debug() === false }">  <div class="close" data-bind="click: $root.debug.bind($element, false);">X</div>  \x3c!-- ko if: $root.debug --\x3e  Content:  <pre data-bind=\'text: ko.toJSON(content, null, 2)\' style="overflow: auto; height: 20%"></pre>  BlockDefs:  <pre data-bind=\'text: ko.toJSON(blockDefs, null, 2)\' style="overflow: auto; height: 20%"></pre>  \x3c!-- /ko --\x3e  <a href="javascript:void(0)" data-bind="click: $root.exportHTMLtoTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Generate\' }">Output</a>  <a href="javascript:void(0)" data-bind="click: $root.exportJSONtoTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Export\' }">Export</a>  <a href="javascript:void(0)" data-bind="click: $root.importJSONfromTextarea.bind($element, \'#outputhtml\'); clickBubble: false, button: { text: true, label:\'Import\' }">Import</a>  <textarea id="outputhtml" rows="10" style="width: 100%;"></textarea></div><div id="tooltheme" class="ui-widget slidebar" data-bind="css: { hidden: $root.showTheme() === false }">  <div class="close" data-bind="click: $root.showTheme.bind($element, false);">X</div>  \x3c!-- ko withProperties: { templateMode: \'styler\' } --\x3e    \x3c!-- ko if: $root.showTheme --\x3e      \x3c!-- ko block: $root.content().theme --\x3e\x3c!-- /ko --\x3e    \x3c!-- /ko --\x3e  \x3c!-- /ko --\x3e</div>'),o.addTemplate("dialog-select-image",'\x3c!-- ko if: $root.showDialogGallery() --\x3e\x3c!-- should use ui-dialog --\x3e<aside id="dialogGallery" class="mo">  <div class="tabs_horizontal" data-bind="tabs: { active: $root.selectedImageTab }">    <div class="close" data-bind="click: $root.closeDialogGallery;">X</div>    <ul>      <li data-bind="tooltips: {}"><a title="gallery-mailing" data-local="true" href="#dialoggallerymailing" data-bind="attr: { title: $root.t(\'gallery-mailing\') }, text: $root.t(\'gallery-mailing\')">gallery-mailing</a></li>      <li data-bind="tooltips: {}"><a title="gallery-template" data-local="true" href="#dialoggallerytemplate" data-bind="attr: { title: $root.t(\'gallery-template\') }, text: $root.t(\'gallery-template\')">gallery-template</a></li>    </ul>    <div id="dialoggallerymailing" class="gallery-panel">      \x3c!-- ko template: {name: \'gallery-upload\', data: { type: \'mailing\' } } --\x3e# mailing gallery fileupload #\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.mailingGalleryStatus() === false --\x3e<a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show images from the gallery\') }, click: $root.loadMailingGallery, button: { disabled: $root.mailingGalleryStatus, icons: { primary: \'fa fa-fw fa-picture-o\' }, label: $root.mailingGalleryStatus() == \'loading\' ? $root.t(\'Loading...\') : $root.t(\'Load gallery\'), text: true }"># load gallery #</a>\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.mailingGalleryStatus() === \'loading\' --\x3e        <div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-loading\')">Loading mailing gallery</div>      \x3c!-- /ko --\x3e      \x3c!-- ko if: $root.mailingGalleryStatus() === 0 --\x3e        <div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-empty\')">The mailing gallery is empty</div>      \x3c!-- /ko --\x3e      <div class="dialog-gallery-wrapper">        <ul data-bind="foreach: mailingGallery">          \x3c!-- ko if: typeof thumbnailUrl != \'undefined\' --\x3e          <li data-bind="click: $root.setBgImage.bind($element, name);">            <img style="display: block;" data-bind="attr: { src: thumbnailUrl }"/>          </li>          \x3c!-- /ko --\x3e        </ul>      </div>    </div>    <div id="dialoggallerytemplate" class="gallery-panel">      \x3c!-- ko template: {name: \'gallery-upload\', data: { type: \'template\' } } --\x3e# mailing template fileupload #\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === false --\x3e<a class="loadbutton" title="Show images from the gallery" href="javascript:void(0)" data-bind="attr: { title: $root.t(\'Show images from the gallery\') }, click: $root.loadTemplateGallery, button: { disabled: $root.templateGalleryStatus, icons: { primary: \'fa fa-fw fa-picture-o\' }, label: $root.templateGalleryStatus() == \'loading\' ? $root.t(\'Loading...\') : $root.t(\'Load gallery\'), text: true }"># load gallery #</a>\x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === \'loading\' --\x3e        <div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-loading\')">Loading template gallery...</div>      \x3c!-- /ko --\x3e      \x3c!-- ko if: $root.templateGalleryStatus() === 0 --\x3e        <div class="galleryEmpty" data-bind="text: $root.t(\'gallery-mailing-empty\')">The template gallery is empty</div>      \x3c!-- /ko --\x3e      <div class="dialog-gallery-wrapper">        <ul data-bind="foreach: templateGallery">          \x3c!-- ko if: typeof thumbnailUrl != \'undefined\' --\x3e          <li data-bind="click: $root.setBgImage.bind($element, name);">            <img style="display: block;" data-bind="attr: { src: thumbnailUrl }"/>          </li>          \x3c!-- /ko --\x3e        </ul>      </div>    </div>  </div></aside>\x3c!-- /ko --\x3e'),o.addTemplate("edit-name",'\x3c!-- ko if: $root.titleMode() == \'edit\' || $root.titleMode() == \'saving\' --\x3e<form class="mailing-name" data-bind="submit: saveEditMailingName, submitBubble: false">  <input type="text" data-bind="value: $root.metadata.name, disable: $root.titleMode() == \'saving\', hasFocus: $root.titleMode() == \'edit\'"/>  <button type="button" data-bind="click: cancelEditMailingName, clickBubble: false, disable: $root.titleMode() == \'saving\',  button: { refreshOn: $root.showPreviewFrame, icons: { primary: \'fa fa-fw fa-times\', secondary: null }, text: false, label: $root.t(\'edit-title-cancel\') }">cancel</button>  <button type="submit" data-bind="disable: $root.titleMode() == \'saving\',    button: { refreshOn: $root.showPreviewFrame, icons: { primary: \'fa fa-fw fa-check-circle\', secondary: null }, text: false, label: $root.t(\'edit-title-save\') }">save</button></form>\x3c!-- /ko --\x3e\x3c!-- ko if: $root.titleMode() == \'show\' --\x3e<div class="mailing-name">  <p class="ui-button" data-bind="event: { dblclick: enableEditMailingName }, dblclickBubble: false,    attr: { title: $root.t(\'edit-title-double-click\') }">    <span class="ui-button-text" data-bind="text: $root.mailingName"></span>  </p></div>\x3c!-- /ko --\x3e'),o.addTemplate("gallery-images",'<aside class="gallery-thumbs gallery-thumbs--custom" data-bind="attr: {\'data-type\': type}">  <div data-bind="foreach: items">    <div class="draggable-item" data-bind="if: typeof thumbnailUrl != \'undefined\'">      <button class="gallery-thumbs__remove" data-bind="click: $root.removeImage.bind($data, $data, $parent.type)">        <i class="fa fa-times"></i>      </button>      <div class="draggable image" data-bind="click: $root.addImage, extdraggable: { data: $data, dropContainer: \'#main-wysiwyg-area\', dragging: $root.draggingImage, \'options\': { \'appendTo\': \'#page\' } }, style: { backgroundImage: \'url(\\\'\' + thumbnailUrl + \'\\\')\' }">        <img title="Drag this image and drop it on any template image placeholder" style="display: block;" data-bind="tooltips: {}, attr: { src: thumbnailUrl, \'title\': $root.t(\'Drag this image and drop it on any template image placeholder\') }"/>      </div>    </div>  </div></aside>'),o.addTemplate("gallery-upload",'<div data-drop-content="Drop here" class="img-dropzone pane uploadzone" data-bind="attr: { \'data-drop-content\': $root.t(\'Drop here\') }, fudroppable: { activeClass: \'ui-state-highlight\', hoverClass: \'ui-state-draghover\' }">  <div class="mo-uploadzone">    \x3c!-- ko if: type === \'mailing\' --\x3e      <input class="fileupload" type="file" multiple name="files[]" data-bind="fileupload: { onerror: $root.notifier.error, onfile: $root.loadMailingImage }">    \x3c!-- /ko --\x3e    \x3c!-- ko if: type === \'template\' --\x3e      <input class="fileupload" type="file" multiple name="files[]" data-bind="fileupload: { onerror: $root.notifier.error, onfile: $root.loadTemplateImage, uploadToTemplate: true }">    \x3c!-- /ko --\x3e    <span data-bind="text: $root.t(\'Click or drag files here\')">Click or drag files here</span>      <div class="workzone">        <div class="progress">          <div class="progress-bar progress-bar-success"></div>        </div>      </div>  </div></div>'),o.addTemplate("home-icon",'<div id="loading" class="loading" data-bind="css: { loading: false }">  <a href="/" alt="mosaic-backend" data-bind="attr: { alt: $root.brandName }">    <i class="fa fa-home fa-2x" aria-hidden="true"></i>  </a>  <div style="opacity: 0" data-bind="visible: false">Oppps... !!</div></div>')})},{"../src/js/bindings/choose-template.js":47}],21:[function(e,t,n){(function(n){"use strict";function o(e,t){if(e===t)return 0;for(var n=e.length,o=t.length,i=0,r=Math.min(n,o);i<r;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function r(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function l(e){if(w.isFunction(e)){if(_)return e.name;var t=e.toString().match(O);return t&&t[1]}}function s(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function d(e){if(_||!w.isFunction(e))return w.inspect(e);var t=l(e);return"[Function"+(t?": "+t:"")+"]"}function u(e){return s(d(e.actual),128)+" "+e.operator+" "+s(d(e.expected),128)}function c(e,t,n,o,i){throw new j.AssertionError({message:n,actual:e,expected:t,operator:o,stackStartFunction:i})}function f(e,t){e||c(e,!0,t,"==",j.ok)}function p(e,t,n,l){if(e===t)return!0;if(i(e)&&i(t))return 0===o(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&r(e)===r(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var s=(l=l||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===l.expected.indexOf(t)||(l.actual.push(e),l.expected.push(t),b(e,t,n,l))}return n?e===t:e==t}function h(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t,n,o){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=h(e),r=h(t);if(i&&!r||!i&&r)return!1;if(i)return e=k.call(e),t=k.call(t),p(e,t,n);var a,l,s=S(e),d=S(t);if(s.length!==d.length)return!1;for(s.sort(),d.sort(),l=s.length-1;l>=0;l--)if(s[l]!==d[l])return!1;for(l=s.length-1;l>=0;l--)if(a=s[l],!p(e[a],t[a],n,o))return!1;return!0}function v(e,t,n){p(e,t,!0)&&c(e,t,n,"notDeepStrictEqual",v)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function g(e){var t;try{e()}catch(e){t=e}return t}function y(e,t,n,o){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(o=n,n=null),i=g(t),o=(n&&n.name?" ("+n.name+").":".")+(o?" "+o:"."),e&&!i&&c(i,n,"Missing expected exception"+o);var r="string"==typeof o,a=!e&&w.isError(i),l=!e&&i&&!n;if((a&&r&&m(i,n)||l)&&c(i,n,"Got unwanted exception"+o),e&&i&&n&&!m(i,n)||!e&&i)throw i}var w=e("util/"),x=Object.prototype.hasOwnProperty,k=Array.prototype.slice,_="foo"===function(){}.name,j=t.exports=f,O=/\s*function\s+([^\(\s]*)\s*/;j.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=u(this),this.generatedMessage=!0);var t=e.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var o=n.stack,i=l(t),r=o.indexOf("\n"+i);if(r>=0){var a=o.indexOf("\n",r+1);o=o.substring(a+1)}this.stack=o}}},w.inherits(j.AssertionError,Error),j.fail=c,j.ok=f,j.equal=function(e,t,n){e!=t&&c(e,t,n,"==",j.equal)},j.notEqual=function(e,t,n){e==t&&c(e,t,n,"!=",j.notEqual)},j.deepEqual=function(e,t,n){p(e,t,!1)||c(e,t,n,"deepEqual",j.deepEqual)},j.deepStrictEqual=function(e,t,n){p(e,t,!0)||c(e,t,n,"deepStrictEqual",j.deepStrictEqual)},j.notDeepEqual=function(e,t,n){p(e,t,!1)&&c(e,t,n,"notDeepEqual",j.notDeepEqual)},j.notDeepStrictEqual=v,j.strictEqual=function(e,t,n){e!==t&&c(e,t,n,"===",j.strictEqual)},j.notStrictEqual=function(e,t,n){e===t&&c(e,t,n,"!==",j.notStrictEqual)},j.throws=function(e,t,n){y(!0,e,t,n)},j.doesNotThrow=function(e,t,n){y(!1,e,t,n)},j.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)x.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":37}],22:[function(e,t,n){(function(e){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==typeof e}function i(e){return"symbol"==typeof e||o(e)&&m.call(e)==s}function r(e){if("number"==typeof e)return e;if(i(e))return l;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var o=c.test(e);return o||f.test(e)?p(e.slice(2),o?2:8):u.test(e)?l:+e}var a="Expected a function",l=NaN,s="[object Symbol]",d=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,v=h||b||Function("return this")(),m=Object.prototype.toString,g=Math.max,y=Math.min,w=function(){return v.Date.now()};t.exports=function(e,t,o){function i(t){var n=p,o=h;return p=h=void 0,k=t,v=e.apply(o,n)}function l(e){return k=e,m=setTimeout(u,t),_?i(e):v}function s(e){var n=e-k,o=t-(e-x);return j?y(o,b-n):o}function d(e){var n=e-x,o=e-k;return void 0===x||n>=t||n<0||j&&o>=b}function u(){var e=w();if(d(e))return c(e);m=setTimeout(u,s(e))}function c(e){return m=void 0,O&&p?i(e):(p=h=void 0,v)}function f(){var e=w(),n=d(e);if(p=arguments,h=this,x=e,n){if(void 0===m)return l(x);if(j)return m=setTimeout(u,t),i(x)}return void 0===m&&(m=setTimeout(u,t)),v}var p,h,b,v,m,x,k=0,_=!1,j=!1,O=!0;if("function"!=typeof e)throw new TypeError(a);return t=r(t)||0,n(o)&&(_=!!o.leading,b=(j="maxWait"in o)?g(r(o.maxWait)||0,t):b,O="trailing"in o?!!o.trailing:O),f.cancel=function(){void 0!==m&&clearTimeout(m),k=0,p=x=h=m=void 0},f.flush=function(){return void 0===m?v:c(w())},f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){(function(e){function o(e,t){for(var n=-1,o=e?e.length:0;++n<o;)if(t(e[n],n,e))return!0;return!1}function i(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function r(e){return function(t){return null==t?void 0:t[e]}}function a(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function l(e,t){return null==e?void 0:e[t]}function s(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function d(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}function u(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function f(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function h(e){var t=-1,n=e?e.length:0;for(this.__data__=new p;++t<n;)this.add(e[t])}function b(e){this.__data__=new f(e)}function v(e,t){var n=Pt(e)||W(e)?a(e.length,String):[],o=n.length,i=!!o;for(var r in e)!t&&!ct.call(e,r)||i&&("length"==r||F(r,o))||n.push(r);return n}function m(e,t){for(var n=e.length;n--;)if(J(e[n][0],t))return n;return-1}function g(e,t){for(var n=0,o=(t=N(t,e)?[t]:E(t)).length;null!=e&&n<o;)e=e[G(t[n++])];return n&&n==o?e:void 0}function y(e,t){return null!=e&&t in Object(e)}function w(e,t,n,o,i){return e===t||(null==e||null==t||!ee(e)&&!te(t)?e!==e&&t!==t:x(e,t,w,n,o,i))}function x(e,t,n,o,i,r){var a=Pt(e),l=Pt(t),d=ke,u=ke;a||(d=(d=Ht(e))==xe?Ee:d),l||(u=(u=Ht(t))==xe?Ee:u);var c=d==Ee&&!s(e),f=u==Ee&&!s(t),p=d==u;if(p&&!c)return r||(r=new b),a||Ft(e)?T(e,t,n,o,i,r):M(e,t,d,n,o,i,r);if(!(i&ve)){var h=c&&ct.call(e,"__wrapped__"),v=f&&ct.call(t,"__wrapped__");if(h||v){var m=h?e.value():e,g=v?t.value():t;return r||(r=new b),n(m,g,o,i,r)}}return!!p&&(r||(r=new b),I(e,t,n,o,i,r))}function k(e,t,n,o){var i=n.length,r=i,a=!o;if(null==e)return!r;for(e=Object(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<r;){var s=(l=n[i])[0],d=e[s],u=l[1];if(a&&l[2]){if(void 0===d&&!(s in e))return!1}else{var c=new b;if(o)var f=o(d,u,s,e,t,c);if(!(void 0===f?w(u,d,o,be|ve,c):f))return!1}}return!0}function _(e){return!(!ee(e)||L(e))&&(K(e)||s(e)?pt:Ve).test(V(e))}function j(e){return"function"==typeof e?e:null==e?ue:"object"==typeof e?Pt(e)?A(e[0],e[1]):S(e):ce(e)}function O(e){if(!R(e))return gt(e);var t=[];for(var n in Object(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function S(e){var t=B(e);return 1==t.length&&t[0][2]?q(t[0][0],t[0][1]):function(n){return n===e||k(n,e,t)}}function A(e,t){return N(e)&&U(t)?q(G(e),t):function(n){var o=le(n,e);return void 0===o&&o===t?se(n,e):w(t,o,void 0,be|ve)}}function $(e){return function(t){return g(t,e)}}function C(e){if("string"==typeof e)return e;if(ne(e))return It?It.call(e):"";var t=e+"";return"0"==t&&1/e==-me?"-0":t}function E(e){return Pt(e)?e:Bt(e)}function T(e,t,n,i,r,a){var l=r&ve,s=e.length,d=t.length;if(s!=d&&!(l&&d>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,f=!0,p=r&be?new h:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var b=e[c],v=t[c];if(i)var m=l?i(v,b,c,t,e,a):i(b,v,c,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!o(t,function(e,t){if(!p.has(t)&&(b===e||n(b,e,i,r,a)))return p.add(t)})){f=!1;break}}else if(b!==v&&!n(b,v,i,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function M(e,t,n,o,i,r,a){switch(n){case De:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Be:return!(e.byteLength!=t.byteLength||!o(new bt(e),new bt(t)));case _e:case je:case Ce:return J(+e,+t);case Oe:return e.name==t.name&&e.message==t.message;case Te:case Ie:return e==t+"";case $e:var l=d;case Me:var s=r&ve;if(l||(l=u),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=be,a.set(e,t);var f=T(l(e),l(t),o,i,r,a);return a.delete(e),f;case He:if(Mt)return Mt.call(e)==Mt.call(t)}return!1}function I(e,t,n,o,i,r){var a=i&ve,l=de(e),s=l.length;if(s!=de(t).length&&!a)return!1;for(var d=s;d--;){var u=l[d];if(!(a?u in t:ct.call(t,u)))return!1}var c=r.get(e);if(c&&r.get(t))return c==t;var f=!0;r.set(e,t),r.set(t,e);for(var p=a;++d<s;){var h=e[u=l[d]],b=t[u];if(o)var v=a?o(b,h,u,t,e,r):o(h,b,u,e,t,r);if(!(void 0===v?h===b||n(h,b,o,i,r):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var m=e.constructor,g=t.constructor;m!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g)&&(f=!1)}return r.delete(e),r.delete(t),f}function H(e,t){var n=e.__data__;return z(t)?n["string"==typeof t?"string":"hash"]:n.map}function B(e){for(var t=de(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,U(i)]}return t}function D(e,t){var n=l(e,t);return _(n)?n:void 0}function P(e,t,n){for(var o,i=-1,r=(t=N(t,e)?[t]:E(t)).length;++i<r;){var a=G(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||!!(r=e?e.length:0)&&X(r)&&F(a,r)&&(Pt(e)||W(e))}function F(e,t){return!!(t=null==t?ge:t)&&("number"==typeof e||Je.test(e))&&e>-1&&e%1==0&&e<t}function N(e,t){if(Pt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ne(e))||(Fe.test(e)||!Pe.test(e)||null!=t&&e in Object(t))}function z(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function L(e){return!!dt&&dt in e}function R(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lt)}function U(e){return e===e&&!ee(e)}function q(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function G(e){if("string"==typeof e||ne(e))return e;var t=e+"";return"0"==t&&1/e==-me?"-0":t}function V(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(pe);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=e.apply(this,o);return n.cache=r.set(i,a),a};return n.cache=new(Q.Cache||p),n}function J(e,t){return e===t||e!==e&&t!==t}function W(e){return Z(e)&&ct.call(e,"callee")&&(!vt.call(e,"callee")||ft.call(e)==xe)}function Y(e){return null!=e&&X(e.length)&&!K(e)}function Z(e){return te(e)&&Y(e)}function K(e){var t=ee(e)?ft.call(e):"";return t==Se||t==Ae}function X(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ge}function ee(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function te(e){return!!e&&"object"==typeof e}function ne(e){return"symbol"==typeof e||te(e)&&ft.call(e)==He}function oe(e){return e?(e=re(e))===me||e===-me?(e<0?-1:1)*ye:e===e?e:0:0===e?e:0}function ie(e){var t=oe(e),n=t%1;return t===t?n?t-n:t:0}function re(e){if("number"==typeof e)return e;if(ne(e))return we;if(ee(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ee(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Re,"");var n=Ge.test(e);return n||Qe.test(e)?Ye(e.slice(2),n?2:8):qe.test(e)?we:+e}function ae(e){return null==e?"":C(e)}function le(e,t,n){var o=null==e?void 0:g(e,t);return void 0===o?n:o}function se(e,t){return null!=e&&P(e,t,y)}function de(e){return Y(e)?v(e):O(e)}function ue(e){return e}function ce(e){return N(e)?r(G(e)):$(e)}var fe=200,pe="Expected a function",he="__lodash_hash_undefined__",be=1,ve=2,me=1/0,ge=9007199254740991,ye=1.7976931348623157e308,we=NaN,xe="[object Arguments]",ke="[object Array]",_e="[object Boolean]",je="[object Date]",Oe="[object Error]",Se="[object Function]",Ae="[object GeneratorFunction]",$e="[object Map]",Ce="[object Number]",Ee="[object Object]",Te="[object RegExp]",Me="[object Set]",Ie="[object String]",He="[object Symbol]",Be="[object ArrayBuffer]",De="[object DataView]",Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/,Ne=/^\./,ze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Le=/[\\^$.*+?()[\]{}|]/g,Re=/^\s+|\s+$/g,Ue=/\\(\\)?/g,qe=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Qe=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,We={};We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We[xe]=We[ke]=We[Be]=We[_e]=We[De]=We[je]=We[Oe]=We[Se]=We[$e]=We[Ce]=We[Ee]=We[Te]=We[Me]=We[Ie]=We["[object WeakMap]"]=!1;var Ye=parseInt,Ze="object"==typeof e&&e&&e.Object===Object&&e,Ke="object"==typeof self&&self&&self.Object===Object&&self,Xe=Ze||Ke||Function("return this")(),et="object"==typeof n&&n&&!n.nodeType&&n,tt=et&&"object"==typeof t&&t&&!t.nodeType&&t,nt=tt&&tt.exports===et&&Ze.process,ot=function(){try{return nt&&nt.binding("util")}catch(e){}}(),it=ot&&ot.isTypedArray,rt=Array.prototype,at=Function.prototype,lt=Object.prototype,st=Xe["__core-js_shared__"],dt=function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ut=at.toString,ct=lt.hasOwnProperty,ft=lt.toString,pt=RegExp("^"+ut.call(ct).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=Xe.Symbol,bt=Xe.Uint8Array,vt=lt.propertyIsEnumerable,mt=rt.splice,gt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),yt=Math.max,wt=D(Xe,"DataView"),xt=D(Xe,"Map"),kt=D(Xe,"Promise"),_t=D(Xe,"Set"),jt=D(Xe,"WeakMap"),Ot=D(Object,"create"),St=V(wt),At=V(xt),$t=V(kt),Ct=V(_t),Et=V(jt),Tt=ht?ht.prototype:void 0,Mt=Tt?Tt.valueOf:void 0,It=Tt?Tt.toString:void 0;c.prototype.clear=function(){this.__data__=Ot?Ot(null):{}},c.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},c.prototype.get=function(e){var t=this.__data__;if(Ot){var n=t[e];return n===he?void 0:n}return ct.call(t,e)?t[e]:void 0},c.prototype.has=function(e){var t=this.__data__;return Ot?void 0!==t[e]:ct.call(t,e)},c.prototype.set=function(e,t){return this.__data__[e]=Ot&&void 0===t?he:t,this},f.prototype.clear=function(){this.__data__=[]},f.prototype.delete=function(e){var t=this.__data__,n=m(t,e);return!(n<0||(n==t.length-1?t.pop():mt.call(t,n,1),0))},f.prototype.get=function(e){var t=this.__data__,n=m(t,e);return n<0?void 0:t[n][1]},f.prototype.has=function(e){return m(this.__data__,e)>-1},f.prototype.set=function(e,t){var n=this.__data__,o=m(n,e);return o<0?n.push([e,t]):n[o][1]=t,this},p.prototype.clear=function(){this.__data__={hash:new c,map:new(xt||f),string:new c}},p.prototype.delete=function(e){return H(this,e).delete(e)},p.prototype.get=function(e){return H(this,e).get(e)},p.prototype.has=function(e){return H(this,e).has(e)},p.prototype.set=function(e,t){return H(this,e).set(e,t),this},h.prototype.add=h.prototype.push=function(e){return this.__data__.set(e,he),this},h.prototype.has=function(e){return this.__data__.has(e)},b.prototype.clear=function(){this.__data__=new f},b.prototype.delete=function(e){return this.__data__.delete(e)},b.prototype.get=function(e){return this.__data__.get(e)},b.prototype.has=function(e){return this.__data__.has(e)},b.prototype.set=function(e,t){var n=this.__data__;if(n instanceof f){var o=n.__data__;if(!xt||o.length<fe-1)return o.push([e,t]),this;n=this.__data__=new p(o)}return n.set(e,t),this};var Ht=function(e){return ft.call(e)};(wt&&Ht(new wt(new ArrayBuffer(1)))!=De||xt&&Ht(new xt)!=$e||kt&&"[object Promise]"!=Ht(kt.resolve())||_t&&Ht(new _t)!=Me||jt&&"[object WeakMap]"!=Ht(new jt))&&(Ht=function(e){var t=ft.call(e),n=t==Ee?e.constructor:void 0,o=n?V(n):void 0;if(o)switch(o){case St:return De;case At:return $e;case $t:return"[object Promise]";case Ct:return Me;case Et:return"[object WeakMap]"}return t});var Bt=Q(function(e){e=ae(e);var t=[];return Ne.test(e)&&t.push(""),e.replace(ze,function(e,n,o,i){t.push(o?i.replace(Ue,"$1"):n||e)}),t}),Dt=function(e){return function(t,n,o){var i=Object(t);if(!Y(t)){var r=j(n,3);t=de(t),n=function(e){return r(i[e],e,i)}}var a=e(t,n,o);return a>-1?i[r?t[a]:a]:void 0}}(function(e,t,n){var o=e?e.length:0;if(!o)return-1;var r=null==n?0:ie(n);return r<0&&(r=yt(o+r,0)),i(e,j(t,3),r)});Q.Cache=p;var Pt=Array.isArray,Ft=it?function(e){return function(t){return e(t)}}(it):function(e){return te(e)&&X(e.length)&&!!We[ft.call(e)]};t.exports=Dt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(e,t,n){(function(e){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){return!!(e?e.length:0)&&s(e,t,0)>-1}function i(e,t,n){for(var o=-1,i=e?e.length:0;++o<i;)if(n(t,e[o]))return!0;return!1}function r(e,t){for(var n=-1,o=e?e.length:0,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}function a(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}function l(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function s(e,t,n){if(t!==t)return l(e,d,n);for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}function d(e){return e!==e}function u(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function c(e){return function(t){return e(t)}}function f(e,t){return e.has(t)}function p(e,t){return null==e?void 0:e[t]}function h(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function b(e,t){return function(n){return e(t(n))}}function v(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function y(e){var t=-1,n=e?e.length:0;for(this.__data__=new g;++t<n;)this.add(e[t])}function w(e,t){var n=Te(e)||L(e)?u(e.length,String):[],o=n.length,i=!!o;for(var r in e)!t&&!me.call(e,r)||i&&("length"==r||I(r,o))||n.push(r);return n}function x(e,t){for(var n=e.length;n--;)if(z(e[n][0],t))return n;return-1}function k(e,t,n,a){var l=-1,s=o,d=!0,u=e.length,p=[],h=t.length;if(!u)return p;n&&(t=r(t,c(n))),a?(s=i,d=!1):t.length>=Z&&(s=f,d=!1,t=new y(t));e:for(;++l<u;){var b=e[l],v=n?n(b):b;if(b=a||0!==b?b:0,d&&v===v){for(var m=h;m--;)if(t[m]===v)continue e;p.push(b)}else s(t,v,a)||p.push(b)}return p}function _(e,t,n,o,i){var r=-1,l=e.length;for(n||(n=M),i||(i=[]);++r<l;){var s=e[r];t>0&&n(s)?t>1?_(s,t-1,n,o,i):a(i,s):o||(i[i.length]=s)}return i}function j(e,t,n){var o=t(e);return Te(e)?o:a(o,n(e))}function O(e){return!(!V(e)||B(e))&&(q(e)||h(e)?ye:ae).test(N(e))}function S(e){if(!V(e))return P(e);var t=D(e),n=[];for(var o in e)("constructor"!=o||!t&&me.call(e,o))&&n.push(o);return n}function A(e,t){return e=Object(e),$(e,t,function(t,n){return n in e})}function $(e,t,n){for(var o=-1,i=t.length,r={};++o<i;){var a=t[o],l=e[a];n(l,a)&&(r[a]=l)}return r}function C(e){return j(e,W,Ee)}function E(e,t){var n=e.__data__;return H(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var n=p(e,t);return O(n)?n:void 0}function M(e){return Te(e)||L(e)||!!(je&&e&&e[je])}function I(e,t){return!!(t=null==t?ee:t)&&("number"==typeof e||le.test(e))&&e>-1&&e%1==0&&e<t}function H(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function B(e){return!!be&&be in e}function D(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pe)}function P(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function F(e){if("string"==typeof e||J(e))return e;var t=e+"";return"0"==t&&1/e==-X?"-0":t}function N(e){if(null!=e){try{return ve.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function z(e,t){return e===t||e!==e&&t!==t}function L(e){return U(e)&&me.call(e,"callee")&&(!ke.call(e,"callee")||ge.call(e)==te)}function R(e){return null!=e&&G(e.length)&&!q(e)}function U(e){return Q(e)&&R(e)}function q(e){var t=V(e)?ge.call(e):"";return t==ne||t==oe}function G(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=ee}function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(e){return!!e&&"object"==typeof e}function J(e){return"symbol"==typeof e||Q(e)&&ge.call(e)==ie}function W(e){return R(e)?w(e,!0):S(e)}function Y(){return[]}var Z=200,K="__lodash_hash_undefined__",X=1/0,ee=9007199254740991,te="[object Arguments]",ne="[object Function]",oe="[object GeneratorFunction]",ie="[object Symbol]",re=/[\\^$.*+?()[\]{}|]/g,ae=/^\[object .+?Constructor\]$/,le=/^(?:0|[1-9]\d*)$/,se="object"==typeof e&&e&&e.Object===Object&&e,de="object"==typeof self&&self&&self.Object===Object&&self,ue=se||de||Function("return this")(),ce=Array.prototype,fe=Function.prototype,pe=Object.prototype,he=ue["__core-js_shared__"],be=function(){var e=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ve=fe.toString,me=pe.hasOwnProperty,ge=pe.toString,ye=RegExp("^"+ve.call(me).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=ue.Symbol,xe=b(Object.getPrototypeOf,Object),ke=pe.propertyIsEnumerable,_e=ce.splice,je=we?we.isConcatSpreadable:void 0,Oe=Object.getOwnPropertySymbols,Se=Math.max,Ae=T(ue,"Map"),$e=T(Object,"create");v.prototype.clear=function(){this.__data__=$e?$e(null):{}},v.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},v.prototype.get=function(e){var t=this.__data__;if($e){var n=t[e];return n===K?void 0:n}return me.call(t,e)?t[e]:void 0},v.prototype.has=function(e){var t=this.__data__;return $e?void 0!==t[e]:me.call(t,e)},v.prototype.set=function(e,t){return this.__data__[e]=$e&&void 0===t?K:t,this},m.prototype.clear=function(){this.__data__=[]},m.prototype.delete=function(e){var t=this.__data__,n=x(t,e);return!(n<0||(n==t.length-1?t.pop():_e.call(t,n,1),0))},m.prototype.get=function(e){var t=this.__data__,n=x(t,e);return n<0?void 0:t[n][1]},m.prototype.has=function(e){return x(this.__data__,e)>-1},m.prototype.set=function(e,t){var n=this.__data__,o=x(n,e);return o<0?n.push([e,t]):n[o][1]=t,this},g.prototype.clear=function(){this.__data__={hash:new v,map:new(Ae||m),string:new v}},g.prototype.delete=function(e){return E(this,e).delete(e)},g.prototype.get=function(e){return E(this,e).get(e)},g.prototype.has=function(e){return E(this,e).has(e)},g.prototype.set=function(e,t){return E(this,e).set(e,t),this},y.prototype.add=y.prototype.push=function(e){return this.__data__.set(e,K),this},y.prototype.has=function(e){return this.__data__.has(e)};var Ce=Oe?b(Oe,Object):Y,Ee=Oe?function(e){for(var t=[];e;)a(t,Ce(e)),e=xe(e);return t}:Y,Te=Array.isArray,Me=function(e,t){return t=Se(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,r=Se(o.length-t,0),a=Array(r);++i<r;)a[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=a,n(e,this,l)}}(function(e,t){return null==e?{}:(t=r(_(t,1),F),A(e,k(C(e),t)))});t.exports=Me}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(e,t,n){n.endianness=function(){return"LE"},n.hostname=function(){return"undefined"!=typeof location?location.hostname:""},n.loadavg=function(){return[]},n.uptime=function(){return 0},n.freemem=function(){return Number.MAX_VALUE},n.totalmem=function(){return Number.MAX_VALUE},n.cpus=function(){return[]},n.type=function(){return"Browser"},n.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},n.networkInterfaces=n.getNetworkInterfaces=function(){return{}},n.arch=function(){return"javascript"},n.platform=function(){return"browser"},n.tmpdir=n.tmpDir=function(){return"/tmp"},n.EOL="\n"},{}],26:[function(e,t,n){function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===o||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function l(){v&&h&&(v=!1,h.length?b=h.concat(b):m=-1,b.length&&s())}function s(){if(!v){var e=r(l);v=!0;for(var t=b.length;t;){for(h=b,b=[];++m<t;)h&&h[m].run();m=-1,t=b.length}h=null,v=!1,a(e)}}function d(e,t){this.fun=e,this.array=t}function u(){}var c,f,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:o}catch(e){c=o}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var h,b=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];b.push(new d(e,t)),1!==b.length||v||r(s)},d.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],27:[function(e,t,n){(function(e){!function(o){function i(e){throw new RangeError(T[e])}function r(e,t){for(var n=e.length,o=[];n--;)o[n]=t(e[n]);return o}function a(e,t){var n=e.split("@"),o="";return n.length>1&&(o=n[0]+"@",e=n[1]),o+r((e=e.replace(E,".")).split("."),t).join(".")}function l(e){for(var t,n,o=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--):o.push(t);return o}function s(e){return r(e,function(e){var t="";return e>65535&&(t+=H((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=H(e)}).join("")}function d(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function u(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function c(e,t,n){var o=0;for(e=n?I(e/j):e>>1,e+=I(e/t);e>M*k>>1;o+=w)e=I(e/M);return I(o+(M+1)*e/(e+_))}function f(e){var t,n,o,r,a,l,u,f,p,h,b=[],v=e.length,m=0,g=S,_=O;for((n=e.lastIndexOf(A))<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&i("not-basic"),b.push(e.charCodeAt(o));for(r=n>0?n+1:0;r<v;){for(a=m,l=1,u=w;r>=v&&i("invalid-input"),((f=d(e.charCodeAt(r++)))>=w||f>I((y-m)/l))&&i("overflow"),m+=f*l,p=u<=_?x:u>=_+k?k:u-_,!(f<p);u+=w)l>I(y/(h=w-p))&&i("overflow"),l*=h;_=c(m-a,t=b.length+1,0==a),I(m/t)>y-g&&i("overflow"),g+=I(m/t),m%=t,b.splice(m++,0,g)}return s(b)}function p(e){var t,n,o,r,a,s,d,f,p,h,b,v,m,g,_,j=[];for(v=(e=l(e)).length,t=S,n=0,a=O,s=0;s<v;++s)(b=e[s])<128&&j.push(H(b));for(o=r=j.length,r&&j.push(A);o<v;){for(d=y,s=0;s<v;++s)(b=e[s])>=t&&b<d&&(d=b);for(d-t>I((y-n)/(m=o+1))&&i("overflow"),n+=(d-t)*m,t=d,s=0;s<v;++s)if((b=e[s])<t&&++n>y&&i("overflow"),b==t){for(f=n,p=w;h=p<=a?x:p>=a+k?k:p-a,!(f<h);p+=w)_=f-h,g=w-h,j.push(H(u(h+_%g,0))),f=I(_/g);j.push(H(u(f,0))),a=c(n,m,o==r),n=0,++o}++n,++t}return j.join("")}var h="object"==typeof n&&n&&!n.nodeType&&n,b="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(o=v);var m,g,y=2147483647,w=36,x=1,k=26,_=38,j=700,O=72,S=128,A="-",$=/^xn--/,C=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=w-x,I=Math.floor,H=String.fromCharCode;if(m={version:"1.4.1",ucs2:{decode:l,encode:s},decode:f,encode:p,toASCII:function(e){return a(e,function(e){return C.test(e)?"xn--"+p(e):e})},toUnicode:function(e){return a(e,function(e){return $.test(e)?f(e.slice(4).toLowerCase()):e})}},h&&b)if(t.exports==h)b.exports=m;else for(g in m)m.hasOwnProperty(g)&&(h[g]=m[g]);else o.punycode=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,n){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var l=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var d=e.length;s>0&&d>s&&(d=s);for(var u=0;u<d;++u){var c,f,p,h,b=e[u].replace(l,"%20"),v=b.indexOf(n);v>=0?(c=b.substr(0,v),f=b.substr(v+1)):(c=b,f=""),p=decodeURIComponent(c),h=decodeURIComponent(f),o(a,p)?i(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],29:[function(e,t,n){"use strict";function o(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var l=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],function(e){return l+encodeURIComponent(i(e))}).join(t):l+encodeURIComponent(i(e[a]))}).join(t):l?encodeURIComponent(i(l))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],30:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":28,"./encode":29}],31:[function(e,t,n){t.exports=e("./lib/speakingurl")},{"./lib/speakingurl":32}],32:[function(e,t,n){!function(e){"use strict";var n={"":"A","":"A","":"A","":"A","":"Ae","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"Oe","":"O","":"O","":"U","":"U","":"U","":"Ue","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"ae","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"oe","":"o","":"o","":"u","":"u","":"u","":"ue","":"u","":"y","":"th","":"y","":"SS","":"a","":"a","":"i","":"aa","":"u","":"e","":"a","":"b","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"y","":"a","":"h","":"la","":"laa","":"lai","":"laa","":"g","":"ch","":"p","":"zh","":"k","":"y","":"a","":"an","":"e","":"en","":"u","":"on","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"k","":"kh","":"g","":"ga","":"ng","":"s","":"sa","":"z","":"za","":"ny","":"t","":"ta","":"d","":"da","":"na","":"t","":"ta","":"d","":"da","":"n","":"p","":"pa","":"b","":"ba","":"m","":"y","":"ya","":"l","":"w","":"th","":"h","":"la","":"a","":"y","":"ya","":"w","":"yw","":"ywa","":"h","":"e","":"-e","":"i","":"-i","":"u","":"-u","":"aw","":"aw","":"aw","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"","":"","":"","":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z","":"h","":"sh","":"n","":"r","":"b","":"lh","":"k","":"a","":"v","":"m","":"f","":"dh","":"th","":"l","":"g","":"gn","":"s","":"d","":"z","":"t","":"y","":"p","":"j","":"ch","":"tt","":"hh","":"kh","":"th","":"z","":"sh","":"s","":"d","":"t","":"z","":"a","":"gh","":"q","":"w","":"a","":"aa","":"i","":"ee","":"u","":"oo","":"e","":"ey","":"o","":"oa","":"","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"p","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"a","":"v","":"g","":"d","":"e","":"z","":"i","":"th","":"i","":"k","":"l","":"m","":"n","":"ks","":"o","":"p","":"r","":"s","":"t","":"y","":"f","":"x","":"ps","":"o","":"a","":"e","":"i","":"o","":"y","":"i","":"o","":"s","":"i","":"y","":"y","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"I","":"TH","":"I","":"K","":"L","":"M","":"N","":"KS","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"O","":"A","":"E","":"I","":"O","":"Y","":"I","":"O","":"I","":"Y","":"a","":"e","":"g","":"i","":"k","":"l","":"n","":"u","":"A","":"E","":"G","":"I","":"k","":"L","":"N","":"U","":"Kj","":"kj","":"Lj","":"lj","":"Nj","":"nj","":"Ts","":"ts","":"a","":"c","":"e","":"l","":"n","":"s","":"z","":"z","":"A","":"C","":"E","":"L","":"N","":"S","":"Z","":"Z","":"Ye","":"I","":"Yi","":"G","":"ye","":"i","":"yi","":"g","":"a","":"A","":"s","":"S","":"t","":"T","":"t","":"T","":"a","":"b","":"v","":"g","":"d","":"e","":"yo","":"zh","":"z","":"i","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"kh","":"c","":"ch","":"sh","":"sh","":"","":"y","":"","":"e","":"yu","":"ya","":"A","":"B","":"V","":"G","":"D","":"E","":"Yo","":"Zh","":"Z","":"I","":"I","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"Kh","":"C","":"Ch","":"Sh","":"Sh","":"","":"Y","":"","":"E","":"Yu","":"Ya","":"dj","":"j","":"c","":"dz","":"Dj","":"j","":"C","":"Dz","":"l","":"l","":"r","":"L","":"L","":"R","":"s","":"S","":"i","":"I","":"g","":"G","":"a","":"A","":"a","":"A","":"a","":"A","":"d","":"D","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"o","":"o","":"o","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"o","":"i","":"I","":"i","":"I","":"i","":"i","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"","":"y","":"y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"18","":"18","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"10","":"0","":"11","":"12","":"13","":"14","":"15","":"16","":"17","":"18","":"19","":"20","":"A","":"B","":"C","":"D","":"E","":"F","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"Q","":"R","":"S","":"T","":"U","":"V","":"W","":"X","":"Y","":"Z","":"a","":"b","":"c","":"d","":"e","":"f","":"g","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"q","":"r","":"s","":"t","":"u","":"v","":"w","":"x","":"y","":"z","":'"',"":'"',"":"'","":"'","":"d","":"f","":"(TM)","":"(C)","":"oe","":"OE","":"(R)","":"+","":"(SM)","":"...","":"o","":"o","":"a","":"*","":",","":".",$:"USD","":"EUR","":"BRN","":"FRF","":"GBP","":"ITL","":"NGN","":"ESP","":"KRW","":"ILS","":"VND","":"LAK","":"MNT","":"GRD","":"ARS","":"PYG","":"ARA","":"UAH","":"GHS","":"cent","":"CNY","":"CNY","":"YEN","":"IRR","":"EWE","":"THB","":"INR","":"INR","":"PF","":"TRY","":"AFN","":"AZN","":"BGN","":"KHR","":"CRC","":"KZT","":"MKD","z":"PLN","":"RUB","":"GEL"},o=["",""],i={"":"a","":"a","":"e","":"e","":"i","":"i","":"o","":"u","":"u","":"aung","":"aw","":"aw","":"aw","":"aw","":"","":"et","":"aik","":"auk","":"in","":"aing","":"aung","":"it","":"i","":"at","":"eik","":"ok","":"ut","":"it","":"d","":"ok","":"ait","":"an","":"an","":"ein","":"on","":"un","":"at","":"eik","":"ok","":"ut","":"nub","":"an","":"ein","":"on","":"un","":"e","":"ol","":"in","":"an","":"ein","":"on","":"ah","":"ah"},r={en:{},az:{"":"c","":"e","":"g","":"i","":"o","":"s","":"u","":"C","":"E","":"G","":"I","":"O","":"S","":"U"},cs:{"":"c","":"d","":"e","":"n","":"r","":"s","":"t","":"u","":"z","":"C","":"D","":"E","":"N","":"R","":"S","":"T","":"U","":"Z"},fi:{"":"a","":"A","":"o","":"O"},hu:{"":"a","":"A","":"o","":"O","":"u","":"U","":"u","":"U"},lt:{"":"a","":"c","":"e","":"e","":"i","":"s","":"u","":"u","":"z","":"A","":"C","":"E","":"E","":"I","":"S","":"U","":"U"},lv:{"":"a","":"c","":"e","":"g","":"i","":"k","":"l","":"n","":"s","":"u","":"z","":"A","":"C","":"E","":"G","":"i","":"k","":"L","":"N","":"S","":"u","":"Z"},pl:{"":"a","":"c","":"e","":"l","":"n","":"o","":"s","":"z","":"z","":"A","":"C","":"e","":"L","":"N","":"O","":"S","":"Z","":"Z"},sv:{"":"a","":"A","":"o","":"O"},sk:{"":"a","":"A"},sr:{"":"lj","":"nj","":"Lj","":"Nj","":"dj","":"Dj"},tr:{"":"U","":"O","":"u","":"o"}},a={ar:{"":"delta","":"la-nihaya","":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","":"majmou","":"omla"},az:{},ca:{"":"delta","":"infinit","":"amor","&":"i","|":"o","<":"menys que",">":"mes que","":"suma dels","":"moneda"},cs:{"":"delta","":"nekonecno","":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","":"soucet","":"mena"},de:{"":"delta","":"unendlich","":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","":"Summe von","":"Waehrung"},dv:{"":"delta","":"kolunulaa","":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","":"jumula","":"faisaa"},en:{"":"delta","":"infinity","":"love","&":"and","|":"or","<":"less than",">":"greater than","":"sum","":"currency"},es:{"":"delta","":"infinito","":"amor","&":"y","|":"u","<":"menos que",">":"mas que","":"suma de los","":"moneda"},fa:{"":"delta","":"bi-nahayat","":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","":"majmooe","":"vahed"},fi:{"":"delta","":"aarettomyys","":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","":"summa","":"valuutta"},fr:{"":"delta","":"infiniment","":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","":"somme des","":"monnaie"},ge:{"":"delta","":"usasruloba","":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","":"jami","":"valuta"},gr:{},hu:{"":"delta","":"vegtelen","":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","":"szumma","":"penznem"},it:{"":"delta","":"infinito","":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","":"somma","":"moneta"},lt:{"":"delta","":"begalybe","":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","":"suma","":"valiuta"},lv:{"":"delta","":"bezgaliba","":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","":"summa","":"valuta"},my:{"":"kwahkhyaet","":"asaonasme","":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","":"paungld","":"ngwekye"},mk:{},nl:{"":"delta","":"oneindig","":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","":"som","":"valuta"},pl:{"":"delta","":"nieskonczonosc","":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","":"suma","":"waluta"},pt:{"":"delta","":"infinito","":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","":"soma","":"moeda"},ro:{"":"delta","":"infinit","":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","":"suma","":"valuta"},ru:{"":"delta","":"beskonechno","":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","":"summa","":"valjuta"},sk:{"":"delta","":"nekonecno","":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","":"sucet","":"mena"},sr:{},tr:{"":"delta","":"sonsuzluk","":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","":"toplam","":"para birimi"},uk:{"":"delta","":"bezkinechnist","":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","":"suma","":"valjuta"},vn:{"":"delta","":"vo cuc","":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","":"tong","":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),s=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),u=function(e,t){var u,c,h,b,v,m,g,y,w,x,k,_,j,O,S="-",A="",$="",C=!0,E={},T="";if("string"!=typeof e)return"";if("string"==typeof t&&(S=t),g=a.en,y=r.en,"object"==typeof t){u=t.maintainCase||!1,E=t.custom&&"object"==typeof t.custom?t.custom:E,h=+t.truncate>1&&t.truncate||!1,b=t.uric||!1,v=t.uricNoSlash||!1,m=t.mark||!1,C=!1!==t.symbols&&!1!==t.lang,S=t.separator||S,b&&(T+=l),v&&(T+=s),m&&(T+=d),g=t.lang&&a[t.lang]&&C?a[t.lang]:C?a.en:{},y=t.lang&&r[t.lang]?r[t.lang]:!1===t.lang||!0===t.lang?{}:r.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach(function(e){E[e+""]=e+""}),c=!0):c=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach(function(e){E[e+""]=e+""}),Object.keys(E).forEach(function(t){var n;n=t.length>1?new RegExp("\\b"+f(t)+"\\b","gi"):new RegExp(f(t),"gi"),e=e.replace(n,E[t])});for(k in E)T+=k}for(T=f(T+=S),j=!1,O=!1,x=0,_=(e=e.replace(/(^\s+|\s+$)/g,"")).length;x<_;x++)k=e[x],p(k,E)?j=!1:y[k]?(k=j&&y[k].match(/[A-Za-z0-9]/)?" "+y[k]:y[k],j=!1):k in n?(x+1<_&&o.indexOf(e[x+1])>=0?($+=k,k=""):!0===O?(k=i[$]+n[k],$=""):k=j&&n[k].match(/[A-Za-z0-9]/)?" "+n[k]:n[k],j=!1,O=!1):k in i?($+=k,k="",x===_-1&&(k=i[$]),O=!0):!g[k]||b&&-1!==l.indexOf(k)||v&&-1!==s.indexOf(k)?(!0===O?(k=i[$]+k,$="",O=!1):j&&(/[A-Za-z0-9]/.test(k)||A.substr(-1).match(/A-Za-z0-9]/))&&(k=" "+k),j=!1):(k=j||A.substr(-1).match(/[A-Za-z0-9]/)?S+g[k]:g[k],k+=void 0!==e[x+1]&&e[x+1].match(/[A-Za-z0-9]/)?S:"",j=!0),A+=k.replace(new RegExp("[^\\w\\s"+T+"_-]","g"),S);return c&&(A=A.replace(/(\w)(\S*)/g,function(e,t,n){var o=t.toUpperCase()+(null!==n?n:"");return Object.keys(E).indexOf(o.toLowerCase())<0?o:o.toLowerCase()})),A=A.replace(/\s+/g,S).replace(new RegExp("\\"+S+"+","g"),S).replace(new RegExp("(^\\"+S+"+|\\"+S+"+$)","g"),""),h&&A.length>h&&(w=A.charAt(h)===S,A=A.slice(0,h),w||(A=A.slice(0,A.lastIndexOf(S)))),u||c||(A=A.toLowerCase()),A},c=function(e){return function(t){return u(t,e)}},f=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},p=function(e,t){for(var n in t)if(t[n]===e)return!0};if(void 0!==t&&t.exports)t.exports=u,t.exports.createSlug=c;else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=u,e.createSlug=c}catch(e){}}(this)},{}],33:[function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&a.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}var r=e("punycode"),a=e("./util");n.parse=i,n.resolve=function(e,t){return i(e,!1,!0).resolve(t)},n.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},n.format=function(e){return a.isString(e)&&(e=i(e)),e instanceof o?e.format():o.prototype.format.call(e)},n.Url=o;var l=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(u),f=["'"].concat(c),p=["%","/","?",";","#"].concat(f),h=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=e("querystring");o.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),i=-1!==o&&o<e.indexOf("#")?"?":"#",s=e.split(i),u=/\\/g;s[0]=s[0].replace(u,"/");var c=e=s.join(i);if(c=c.trim(),!n&&1===e.split("#").length){var x=d.exec(c);if(x)return this.path=c,this.href=c,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var k=l.exec(c);if(k){var _=(k=k[0]).toLowerCase();this.protocol=_,c=c.substr(k.length)}if(n||k||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var j="//"===c.substr(0,2);!j||k&&g[k]||(c=c.substr(2),this.slashes=!0)}if(!g[k]&&(j||k&&!y[k])){for(var O=-1,S=0;S<h.length;S++)-1!==(C=c.indexOf(h[S]))&&(-1===O||C<O)&&(O=C);var A,$;-1!==($=-1===O?c.lastIndexOf("@"):c.lastIndexOf("@",O))&&(A=c.slice(0,$),c=c.slice($+1),this.auth=decodeURIComponent(A)),O=-1;for(S=0;S<p.length;S++){var C=c.indexOf(p[S]);-1!==C&&(-1===O||C<O)&&(O=C)}-1===O&&(O=c.length),this.host=c.slice(0,O),c=c.slice(O),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var T=this.hostname.split(/\./),S=0,M=T.length;S<M;S++){var I=T[S];if(I&&!I.match(b)){for(var H="",B=0,D=I.length;B<D;B++)I.charCodeAt(B)>127?H+="x":H+=I[B];if(!H.match(b)){var P=T.slice(0,S),F=T.slice(S+1),N=I.match(v);N&&(P.push(N[1]),F.unshift(N[2])),F.length&&(c="/"+F.join(".")+c),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=r.toASCII(this.hostname));var z=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+z,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==c[0]&&(c="/"+c))}if(!m[_])for(var S=0,M=f.length;S<M;S++){var R=f[S];if(-1!==c.indexOf(R)){var U=encodeURIComponent(R);U===R&&(U=escape(R)),c=c.split(R).join(U)}}var q=c.indexOf("#");-1!==q&&(this.hash=c.substr(q),c=c.slice(0,q));var G=c.indexOf("?");if(-1!==G?(this.search=c.substr(G),this.query=c.substr(G+1),t&&(this.query=w.parse(this.query)),c=c.slice(0,G)):t&&(this.search="",this.query={}),c&&(this.pathname=c),y[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",V=this.search||"";this.path=z+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",o=this.hash||"",i=!1,r="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(r=w.stringify(this.query));var l=this.search||r&&"?"+r||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),o&&"#"!==o.charAt(0)&&(o="#"+o),l&&"?"!==l.charAt(0)&&(l="?"+l),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),l=l.replace("#","%23"),t+i+n+l+o},o.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),r=0;r<i.length;r++){var l=i[r];n[l]=this[l]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),d=0;d<s.length;d++){var u=s[d];"protocol"!==u&&(n[u]=e[u])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var p=c[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(_=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==_[0]&&_.unshift(""),_.length<2&&_.unshift(""),n.pathname=_.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",b=n.search||"";n.path=h+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=m||v||n.host&&e.pathname,x=w,k=n.pathname&&n.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],j=n.protocol&&!y[n.protocol];if(j&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===_[0]?_[0]=e.host:_.unshift(e.host)),e.host=null),w=w&&(""===_[0]||""===k[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=_;else if(_.length)k||(k=[]),k.pop(),k=k.concat(_),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return j&&(n.hostname=n.host=k.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=k.slice(-1)[0],S=(n.host||e.host||k.length>1)&&("."===O||".."===O)||""===O,A=0,$=k.length;$>=0;$--)"."===(O=k[$])?k.splice($,1):".."===O?(k.splice($,1),A++):A&&(k.splice($,1),A--);if(!w&&!x)for(;A--;A)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),S&&"/"!==k.join("/").substr(-1)&&k.push("");var C=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(j){n.hostname=n.host=C?"":k.length?k.shift():"";var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return(w=w||n.host&&k.length)&&!C&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":34,punycode:27,querystring:30}],34:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],35:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],36:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],37:[function(e,t,n){(function(t,o){function i(e,t){var o={seen:[],stylize:a};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),b(t)?o.showHidden=t:t&&n._extend(o,t),y(o.showHidden)&&(o.showHidden=!1),y(o.depth)&&(o.depth=2),y(o.colors)&&(o.colors=!1),y(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=r),s(o,e,o.depth)}function r(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function l(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,t,o){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(o,e);return g(i)||(i=s(e,i,o)),i}var r=d(e,t);if(r)return r;var a=Object.keys(t),b=l(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),_(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(t);if(0===a.length){if(j(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(k(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return u(t)}var m="",y=!1,x=["{","}"];if(h(t)&&(y=!0,x=["[","]"]),j(t)&&(m=" [Function"+(t.name?": "+t.name:"")+"]"),w(t)&&(m=" "+RegExp.prototype.toString.call(t)),k(t)&&(m=" "+Date.prototype.toUTCString.call(t)),_(t)&&(m=" "+u(t)),0===a.length&&(!y||0==t.length))return x[0]+m+x[1];if(o<0)return w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var O;return O=y?c(e,t,o,b,a):a.map(function(n){return f(e,t,o,b,n,y)}),e.seen.pop(),p(O,m,x)}function d(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,o,i){for(var r=[],a=0,l=t.length;a<l;++a)S(t,String(a))?r.push(f(e,t,n,o,String(a),!0)):r.push("");return i.forEach(function(i){i.match(/^\d+$/)||r.push(f(e,t,n,o,i,!0))}),r}function f(e,t,n,o,i,r){var a,l,d;if((d=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?l=d.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):d.set&&(l=e.stylize("[Setter]","special")),S(o,i)||(a="["+i+"]"),l||(e.seen.indexOf(d.value)<0?(l=v(n)?s(e,d.value,null):s(e,d.value,n-1)).indexOf("\n")>-1&&(l=r?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n")):l=e.stylize("[Circular]","special")),y(a)){if(r&&i.match(/^\d+$/))return l;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}function p(e,t,n){var o=0;return e.reduce(function(e,t){return o++,t.indexOf("\n")>=0&&o++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function w(e){return x(e)&&"[object RegExp]"===O(e)}function x(e){return"object"==typeof e&&null!==e}function k(e){return x(e)&&"[object Date]"===O(e)}function _(e){return x(e)&&("[object Error]"===O(e)||e instanceof Error)}function j(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,o=arguments,r=o.length,a=String(e).replace(A,function(e){if("%%"===e)return"%";if(n>=r)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}}),l=o[n];n<r;l=o[++n])v(l)||!x(l)?a+=" "+l:a+=" "+i(l);return a},n.deprecate=function(e,i){if(y(o.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation,r=!0}return e.apply(this,arguments)}};var $,C={};n.debuglog=function(e){if(y($)&&($=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!C[e])if(new RegExp("\\b"+e+"\\b","i").test($)){t.pid;C[e]=function(){n.format.apply(n,arguments)}}else C[e]=function(){};return C[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=b,n.isNull=v,n.isNullOrUndefined=function(e){return null==e},n.isNumber=m,n.isString=g,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=y,n.isRegExp=w,n.isObject=x,n.isDate=k,n.isError=_,n.isFunction=j,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");n.log=function(){},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":36,_process:26,inherits:35}],38:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,t){(0,i.default)(e);var n=void 0,r=void 0;"object"===(void 0===t?"undefined":o(t))?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=n&&(void 0===r||a<=r)};var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./util/assertString"));t.exports=n.default},{"./util/assertString":41}],39:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){if((0,i.default)(e),(t=(0,r.default)(t,s)).require_display_name||t.allow_display_name){var n=e.match(d);if(n)e=n[1];else if(t.require_display_name)return!1}var o=e.split("@"),h=o.pop(),b=o.join("@"),v=h.toLowerCase();if("gmail.com"!==v&&"googlemail.com"!==v||(b=b.replace(/\./g,"").toLowerCase()),!(0,a.default)(b,{max:64})||!(0,a.default)(h,{max:254}))return!1;if(!(0,l.default)(h,{require_tld:t.require_tld}))return!1;if('"'===b[0])return b=b.slice(1,b.length-1),t.allow_utf8_local_part?p.test(b):c.test(b);for(var m=t.allow_utf8_local_part?f:u,g=b.split("."),y=0;y<g.length;y++)if(!m.test(g[y]))return!1;return!0};var i=o(e("./util/assertString")),r=o(e("./util/merge")),a=o(e("./isByteLength")),l=o(e("./isFQDN")),s={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,u=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,c=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=n.default},{"./isByteLength":38,"./isFQDN":40,"./util/assertString":41,"./util/merge":42}],40:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){(0,i.default)(e),(t=(0,r.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));var n=e.split(".");if(t.require_tld){var o=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(o))return!1}for(var l,s=0;s<n.length;s++){if(l=n[s],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var i=o(e("./util/assertString")),r=o(e("./util/merge")),a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.exports=n.default},{"./util/assertString":41,"./util/merge":42}],41:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!("string"==typeof e||e instanceof String))throw new TypeError("This library (validator.js) validates strings only")},t.exports=n.default},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},t.exports=n.default},{}],43:[function(e,t,n){"use strict";var o=e("speakingurl"),i=/\.[0-9a-z]+$/;t.exports=function(e){var t=e.toLowerCase().trim();if(!i.test(t))return!1;var n=i.exec(t)[0];return t=t.replace(n,""),t=o(t.trim())+n}},{speakingurl:31}],44:[function(e,t,n){(function(n){"use strict";e("url"),e("./../../bower_components/console-browserify/index.js");var o="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,i="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r=e("./template-loader.js");e("./ko-bindings.js");var a=e("./timed-call.js").timedCall,l=e("./undomanager/undomain.js"),s=e("./ext/color.js"),d=e("./ext/inliner.js");e("./ext/localstorage.js");if(void 0===o)throw"Cannot find knockout.js library!";if(void 0===i)throw"Cannot find jquery library!";var u=function(e,t,u,f,p){r.fixPageEvents();var h=[function(t){e&&e.strings&&(t.t=function(n,o){var i=e.strings[n];return void 0===i&&(i=n),t.tt(i,o)})},l(a),s,d];if(void 0!==p)for(var b=0;b<p.length;b++)h.push(p[b]);h.push(function(t){var n={messages:{unknownError:t.t("Unknown error"),uploadedBytes:t.t("Uploaded bytes exceed file size"),maxNumberOfFiles:t.t("Maximum number of files exceeded"),acceptFileTypes:t.t("File type not allowed"),maxFileSize:t.t("File is too large"),minFileSize:t.t("File is too small"),post_max_size:t.t("The uploaded file exceeds the post_max_size directive in php.ini"),max_file_size:t.t("File is too big"),min_file_size:t.t("File is too small"),accept_file_types:t.t("Filetype not allowed"),max_number_of_files:t.t("Maximum number of files exceeded"),max_width:t.t("Image exceeds maximum width"),min_width:t.t("Image requires a minimum width"),max_height:t.t("Image exceeds maximum height"),min_height:t.t("Image requires a minimum height"),abort:t.t("File upload aborted"),image_resize:t.t("Failed to resize image"),generic:t.t("Unexpected upload error")}};e&&e.fileuploadConfig&&(n=i.extend(!0,n,e.fileuploadConfig)),o.bindingHandlers.fileupload.extendOptions=n});var v=e.fileuploadConfig?e.fileuploadConfig.url:"/upload/";c(e,o),i("\x3c!-- ko template: 'main' --\x3e\x3c!-- /ko --\x3e").appendTo(n.document.body),void 0===t&&void 0!==u&&(t=u.template),r.load(a,t,u,f,h,v)},c=i.noop,f=e("./ext/custom-extensions"),p=function(e,t){return!!(e&&e.metadata&&e.data)&&(f.extendViewModel(e,t),f.extendKnockout(e),u(e,void 0,e.metadata,e.data,t),!0)};t.exports={isCompatible:r.isCompatible,init:p,start:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../bower_components/console-browserify/index.js":1,"./ext/color.js":76,"./ext/custom-extensions":78,"./ext/inliner.js":84,"./ext/localstorage.js":85,"./ko-bindings.js":86,"./template-loader.js":87,"./timed-call.js":88,"./undomanager/undomain.js":89,url:33}],45:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,o=(e("./../../../bower_components/console-browserify/index.js"),function(e,t,n){var o=e.createElement("script");return o.setAttribute("type","text/html"),o.setAttribute("id",t),o.text=n,e.body.appendChild(o),o});n.bindingHandlers.bindIframe={tpl:'<!DOCTYPE html>\r\n<html>\r\n<head>\r\n</head>\r\n<body><div data-bind="block: content"></div></body>\r\n</html>\r\n',init:function(e,t){!function(i){try{var r=e.contentDocument;r.open(),r.write(n.bindingHandlers.bindIframe.tpl),r.close();try{var a=r.body;if(a){for(var l=e.contentWindow.parent.document.getElementsByTagName("script"),s=0;s<l.length;s++)"text/html"==l[s].getAttribute("type")&&l[s].getAttribute("id")&&o(r,l[s].getAttribute("id"),l[s].innerHTML);var d=r.getElementsByTagName("HTML");n.utils.domNodeDisposal.addDisposeCallback(e,function(){n.cleanNode(d[0]||a)}),n.applyBindings(t(),d[0]||a)}}catch(e){throw e}}catch(e){throw e}}()}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],46:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null;e("./../../../bower_components/console-browserify/index.js");n.bindingHandlers.withProperties={init:function(e,t,o,i,r){var a=r.createChildContext(r.$rawData,null,function(e){n.utils.extend(e,t())});return n.applyBindingsToDescendants(a,e),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.withProperties=!0,n.bindingHandlers.log={init:function(e,t,n,o,i){}},n.bindingHandlers.block={templateExists:function(e){return!!t.document.getElementById(e)},_chooseTemplate:function(e,t,o,i){var r=t+"-"+o;if(n.bindingHandlers.block.templateExists(r))return r;if(void 0!==i&&null!==i)return n.bindingHandlers.block._chooseTemplate(e,t,i);var a=e?"array":"object-"+o;if(n.bindingHandlers.block.templateExists(a))return a;throw"cannot find template for "+r+"/"+a},_displayMode:function(e,t){var o=void 0!==e.type?n.utils.unwrapObservable(e.type):"notablock-"+typeof e,i=void 0!==e.splice,r=t.templateMode?t.templateMode:"show";return n.bindingHandlers.block._chooseTemplate(i,o,r,t.templateModeFallback)},_makeTemplateValueAccessor:function(e,t){return function(){var o,i,r=e(),a=n.utils.peekObservable(r);if(!a||"object"!=typeof a.data&&"function"!=typeof a.data)o=r;else if(o=a.data,void 0!==a.template){var l=n.utils.unwrapObservable(a.template),s=t.templateMode?t.templateMode:"show";i=n.bindingHandlers.block._chooseTemplate(!1,l,s,t.templateModeFallback)}var d=n.utils.unwrapObservable(o);if(n.isObservable(d),void 0===i)if(void 0===o)i="empty";else try{i=n.bindingHandlers.block._displayMode(d,t)}catch(e){throw e}return{name:i,data:o,templateEngine:n.nativeTemplateEngine.instance}}},init:function(e,t,o,i,r){t();var a=n.bindingHandlers.block._makeTemplateValueAccessor(t,r);return n.bindingHandlers.template.init(e,a)},update:function(e,t,o,i,r){var a=n.bindingHandlers.block._makeTemplateValueAccessor(t,r);return n.bindingHandlers.template.update(e,a,o,i,r)}},n.expressionRewriting.bindingRewriteValidators.block=!1,n.virtualElements.allowedBindings.block=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],47:[function(e,t,n){"use strict";t.exports=e("./string-template.js")},{"./string-template.js":61}],48:[function(e,t,n){(function(t){"use strict";e("./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js");var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,i="undefined"!=typeof window?window.kojqui:void 0!==t?t.kojqui:null,r=function(){i.BindingHandler.call(this,"colorpicker")};(r.prototype=i.utils.createObject(i.BindingHandler.prototype)).constructor=r,r.prototype.init=function(e,t,i){var r=t(),a=r.color,l=o.computed({read:a,write:a,disposeWhenNodeIsRemoved:e});o.bindingHandlers.value.init(e,function(){return l},i);var s=function(e,t){void 0!==t&&l(t)};n(e).on("change.color",s),o.computed({read:function(){var t={color:o.utils.unwrapObservable(l),showOn:"button"};for(var i in r)"color"!==i&&r.hasOwnProperty(i)&&(t[i]=o.utils.unwrapObservable(r[i]));n(e).colorpicker(t)},disposeWhenNodeIsRemoved:e}),o.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).off("change.color",s),n(e).colorpicker("destroy")})},i.utils.register(r)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/evol-colorpicker/js/evol.colorpicker.min.js":2}],49:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window.ko:void 0!==e?e.ko:null;t.bindingHandlers.cssText={update:function(e,n,o){var i=t.utils.unwrapObservable(n());try{e.innerText=i}catch(t){e.styleSheet||(e.innerHTML="a{}"),e.styleSheet.cssText=i}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null,n="undefined"!=typeof window?window.ko:void 0!==e?e.ko:null;!function(e){e(n,t)}(function(e,t){e.utils.unwrapObservable;var n=e.utils.domData.get;e.utils.domData.set;e.bindingHandlers.droppable={init:function(o,i,r,a,l){var s,d=t(o),u=e.utils.unwrapObservable(i())||{},c={};t.extend(!0,c,e.bindingHandlers.droppable),u.data?(u.options&&c.options&&(e.utils.extend(c.options,u.options),delete u.options),e.utils.extend(c,u)):c.data=u,s=c.options.drop,d.droppable(e.utils.extend(c.options,{drop:function(e,t){var o=t.draggable[0],i=n(o,"ko_sortItem")||n(o,"ko_dragItem");i&&(i.clone&&(i=i.clone()),c.dragged&&(i=c.dragged.call(this,i,e,t)||i),c.data&&c.data(i)),s&&s.apply(this,arguments)}})),void 0!==c.isEnabled&&e.computed({read:function(){d.droppable(e.utils.unwrapObservable(c.isEnabled)?"enable":"disable")},disposeWhenNodeIsRemoved:o})},update:function(e,t,n,o,i){},targetIndex:null,afterMove:null,beforeMove:null,options:{}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,o="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null;e("./../../../bower_components/console-browserify/index.js");n.bindingHandlers.focusable={focus:function(){},blur:function(){},init:function(e){n.utils.domNodeDisposal.addDisposeCallback(e,function(){o(e).off("focusin",n.bindingHandlers.focusable.focus),o(e).off("focusout",n.bindingHandlers.focusable.blur)}),o(e).on("focusin",n.bindingHandlers.focusable.focus),o(e).on("focusout",n.bindingHandlers.focusable.blur)}},n.bindingHandlers.scrollable={scroll:function(){},init:function(e){n.utils.domNodeDisposal.addDisposeCallback(e,function(){o(e).off("scroll",n.bindingHandlers.scrollable.scroll)}),o(e).on("scroll",n.bindingHandlers.scrollable.scroll)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],52:[function(e,t,n){(function(e){"use strict";var t="undefined"!=typeof window?window.ko:void 0!==e?e.ko:null;t.extenders.paging=function(e,n){var o=t.observable(n||10),i=t.observable(1);return e.pageSize=t.computed({read:o,write:function(e){o(e>0?e:10)}}),e.currentPage=t.computed({read:i,write:function(t){i(t>e.pageCount()?e.pageCount():t<=0?1:t)}}),e.pageCount=t.computed(function(){return Math.ceil(e().length/e.pageSize())||1}),e.currentPageData=t.computed(function(){var t=o(),n=i(),r=t*(n-1),a=t*n;return e().slice(r,a)}),e.moveFirst=function(){e.currentPage(1)},e.movePrevious=function(){e.currentPage(e.currentPage()-1)},e.moveNext=function(){e.currentPage(e.currentPage()+1)},e.moveLast=function(){e.currentPage(e.pageCount())},e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],53:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,i="undefined"!=typeof window?window.jQuery.ui.sortable:void 0!==t?t.jQuery.ui.sortable:null,r="undefined"!=typeof window?window.jQuery.ui.draggable:void 0!==t?t.jQuery.ui.draggable:null;e("./../../../bower_components/console-browserify/index.js");if(e("./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js"),void 0===i)throw"Cannot find jquery-ui sortable widget dependency!";if(void 0===r)throw"Cannot find jquery-ui sortable widget dependency!";var a=function(e,t){e()?t.type==e()+"stop"&&e(!1):"dragstart"!=t.type&&"sortstart"!=t.type||e(t.type.substring(0,4))},l=function(e){return function(){var i=e();o.utils.peekObservable(i);o.utils.unwrapObservable(i),"undefined"==i.options&&(i.options={});var r=i.options.start;i.options.start=function(e,l){if(void 0!==i.dragging&&o.isWritableObservable(i.dragging)&&a(i.dragging,e),void 0!==i.dropContainer&&(i.scrollInterval=t.setInterval(function(){var e=n(i.dropContainer).scrollTop();n(i.dropContainer).scrollTop(e+i.adding)},20)),void 0!==r)return r(e,l)};var l=i.options.stop;i.options.stop=function(e,n){if(void 0!==i.dragging&&o.isWritableObservable(i.dragging)&&a(i.dragging,e),void 0!==i.dropContainer&&t.clearInterval(i.scrollInterval),void 0!==l)return l(e,n)};var s=i.options.drag;return i.options.drag=function(e,t){if(void 0!==i.dropContainer){var o=e.pageY-n(i.dropContainer).offset().top,r=o-n(i.dropContainer).height();i.adding=o<-20?-20:o<0?-10:o<10?-5:r>20?20:r>0?10:r>-10?5:0}if(void 0!==s)return s(e,t)},i}};o.bindingHandlers.extsortable={init:function(e,t,n,i,r){return o.bindingHandlers.sortable.init(e,l(t),n,i,r)},update:function(e,t,n,i,r){return o.bindingHandlers.sortable.update(e,l(t),n,i,r)}},o.bindingHandlers.extdraggable={init:function(e,t,n,i,r){return o.bindingHandlers.draggable.init(e,l(t),n,i,r)},update:function(e,t,n,i,r){return o.bindingHandlers.draggable.update(e,l(t),n,i,r)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/knockout-sortable/build/knockout-sortable.min.js":8}],54:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null;e("./../../../bower_components/console-browserify/index.js");o.bindingHandlers.preloader={init:function(e,t){var n=t();if(void 0===n.preloaded){n.preloaded=o.observable("");var i=function(e){if(e!=n.preloaded())if(""!==e){var t=new Image;t.onload=function(){n.preloaded(e)},t.onerror=function(){n.preloaded(e)},t.src=e}else n.preloaded(e)};n.subscribe(i),i(n())}}},o.bindingHandlers.domlog={init:function(e,t){o.utils.domNodeDisposal.addDisposeCallback(e,function(){})}},o.bindingHandlers.fudroppable={init:function(e,n){var i=n()||{},r={},a=function(e,n,i,r,a,l){e[n]?t.clearTimeout(e[n]):(void 0!==r&&i.classList.add(r),o.isWriteableObservable(a)&&!a()&&a(!0));var s=function(){e[n]=null,void 0!==r&&i.classList.remove(r),o.isWriteableObservable(a)&&a()&&a(!1)};"dragleave"==l.type?s():e[n]=t.setTimeout(s,500)};(i.active||i.activeClass)&&o.utils.registerEventHandler(t,"dragover",a.bind(void 0,r,"activeTimeout",e,i.activeClass,i.active)),i.hoverClass&&o.utils.registerEventHandler(e,"dragover dragenter dragleave",a.bind(void 0,r,"hoverTimeout",e,i.hoverClass,void 0))}},o.bindingHandlers.fileupload={extendOptions:{},init:function(e,i){o.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).fileupload("destroy")}),t.webkitURL?n(e).attr("title"," "):n(e).attr("title","")},update:function(e,i){var r=i()||{},a=n(e),l=a.parents(".uploadzone"),s=r.data;r.data=void 0;var d=r.canvasPreview;o.utils.extend(r,{url:"/upload/",dataType:"json",dropZone:l.find(".mo-uploadzone")[0],autoUpload:!0,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:1048576,disableImageResize:/Android(?!.*Chrome)|Opera/.test(t.navigator.userAgent),previewMaxWidth:200,previewMaxHeight:200,previewCrop:!1,replaceFileInput:!1,messages:{unknownError:"Unknown error",uploadedBytes:"Uploaded bytes exceed file size",maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small",post_max_size:"The uploaded file exceeds the post_max_size directive in php.ini",max_file_size:"File is too big",min_file_size:"File is too small",accept_file_types:"Filetype not allowed",max_number_of_files:"Maximum number of files exceeded",max_width:"Image exceeds maximum width",min_width:"Image requires a minimum width",max_height:"Image exceeds maximum height",min_height:"Image requires a minimum height",abort:"File upload aborted",image_resize:"Failed to resize image",generic:"Unexpected upload error"}}),o.utils.extend(r,o.bindingHandlers.fileupload.extendOptions);var u=0,c="",f=function(){0==--u&&(s&&s(c),c="",d&&(l.find("img").show(),l.find("canvas").remove()),l.removeClass("uploading"),l.find(".progress-bar").css("width",0))},p=function(e){if("object"==typeof r.messages&&null!==r.messages){var t=e.match(/^([^ ]+)(.*)$/);if(t&&void 0!==r.messages[t[1]])return r.messages[t[1]]+t[2]}return e};r.uploadToTemplate?r.url=o.bindingHandlers.fileupload.extendOptions.url.template:r.url=o.bindingHandlers.fileupload.extendOptions.url.mailing,a.fileupload(r);for(var h=["fileuploadadd","fileuploadprocessalways","fileuploadprogressall","fileuploaddone","fileuploadfail"],b=h.length-1;b>=0;b--){var v=h[b];a.on(v,function(e,t){if("fileuploadadd"==e.type&&u++,"fileuploadfail"==e.type&&(r.onerror&&(""===t.errorThrown&&"error"==t.textStatus?r.onerror(p("generic")):r.onerror(p("generic ("+t.errorThrown+")"))),f()),"fileuploaddone"==e.type)if(void 0!==t.result.files[0].url){if(r.onfile)for(var i=0;i<t.result.files.length;i++)t.result.files[i]=o.bindingHandlers.fileupload.remoteFilePreprocessor(t.result.files[i]),r.onfile(t.result.files[i]);if(""===c&&(c=t.result.files[0].url),d){var a=new Image;a.onload=f,a.onerror=f,a.src=t.result.files[0].url}else f()}else void 0!==t.result.files[0].error?(r.onerror&&r.onerror(p(t.result.files[0].error)),f()):(r.onerror&&r.onerror(p("generic (Unexpected Error retrieving uploaded file)")),f());if("fileuploadprocessalways"==e.type){var s=t.index,h=t.files[s];if(h.preview&&0===s&&0===l.find("canvas").length){if(d){var b=n(h.preview).css("width","100%");l.find("img").hide(),l.prepend(b)}l.addClass("uploading"),l.find(".progress-bar").css("width",0)}h.error&&(r.onerror&&r.onerror(p(h.error)),f())}if("fileuploadprogressall"==e.type){var v=parseInt(t.loaded/t.total*100,10);l.find(".progress-bar").css("width",v+"%")}})}n.support.fileInput||a.prop("disabled",!0).parent().addClass("disabled")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],55:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null;e("./../../../bower_components/console-browserify/index.js");n.bindingHandlers.ifSubs={cloneNodes:function(e,t){for(var o=0,i=e.length,r=[];o<i;o++){var a=e[o].cloneNode(!0);r.push(t?n.cleanNode(a):a)}return r},init:function(e,t,o,i,r){var a,l,s=t();return void 0===s.data.subsCount&&n.extenders.subscriptionsCount(s.data),n.computed(function(){var o,i,d=n.utils.unwrapObservable(t().data.subsCount),u=!l;i=-(void 0!==t().gutter?t().gutter:1),o=d+(a?i:0)>=n.utils.unwrapObservable(s.threshold),void 0!==t().not&&t().not&&(o=!o),(u||o!==a)&&(u&&n.computedContext.getDependenciesCount()&&(l=n.bindingHandlers.ifSubs.cloneNodes(n.virtualElements.childNodes(e),!0)),o?(u||n.virtualElements.setDomNodeChildren(e,n.bindingHandlers.ifSubs.cloneNodes(l)),n.applyBindingsToDescendants(r,e)):n.virtualElements.emptyNode(e),a=o)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.ifSubs=!0;var o,i;if("function"==typeof n.subscription&&void 0!==n.isWritableObservable)o="beforeSubscriptionAdd",i="afterSubscriptionRemove";else if("3.2.0"==n.version)o="va",i="nb";else if("3.3.0"==n.version)o="ja",i="ua";else if("3.4.0"==n.version)o="sa",i="Ia";else{if("3.4.1"!=n.version)throw"Unsupported minimized Knockout version "+n.version+" (supported DEBUG or minimized 3.2.0 ... 3.4.1)";o="sa",i="Ia"}n.extenders.subscriptionsCount=function(e,t,r){if(void 0===e.subsCount){e.subsCount=n.observable(e.getSubscriptionsCount()).extend({notify:"always"});var a=e[o],l=e[i];e[o]=function(n){a&&a.call(e,n);var o=e.getSubscriptionsCount()+1;void 0!==t&&o!=t&&void 0!==r&&o!=r||e.subsCount(o)},e[i]=function(n){l&&l.call(e,n);var o=e.getSubscriptionsCount();void 0!==t&&o!=t&&void 0!==r&&o!=r||e.subsCount(o)}}return null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],56:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o="undefined"!=typeof window?window.jQuery.ui.spinner:void 0!==t?t.jQuery.ui.spinner:null;e("./../../../bower_components/console-browserify/index.js");if(void 0===o)throw"Cannot find jquery-ui spinner widget dependency!";n.widget("ui.spinner",o,{_adjustValue:function(e){this._super(e);var t=this.options;return e=parseFloat(e.toFixed(this._precision())),null!==t.max&&e>t.max?t.max:null!==t.min&&e<t.min?t.min:e}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],57:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o=(e("./../../../bower_components/console-browserify/index.js"),"undefined"!=typeof window?window.jQuery.ui.tabs:void 0!==t?t.jQuery.ui.tabs:null);if(void 0===o)throw"Cannot find jquery-ui tabs widget dependency!";n.widget("ui.tabs",o,{_isLocal:function(e){return"true"==e.getAttribute("data-local")||this._superApply(arguments)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],58:[function(e,t,n){(function(e){"use strict";t.exports={init:function(){},addTemplate:function(t,n){var o=e.document.createElement("script");o.setAttribute("type","text/html"),o.setAttribute("id",t),o.text=n,e.document.body.appendChild(o)},removeTemplate:function(t){var n=e.document.getElementById(t);n&&n.parentNode.removeChild(n)},getTemplateContent:function(t){var n=e.document.getElementById(t);return n?n.innerHTML:void 0}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){(function(t){"use strict";var n,o="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,i="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,r=(e("./../../../bower_components/console-browserify/index.js"),"undefined"!=typeof window?window.tinymce:void 0!==t?t.tinymce:null),a=function(){n=void 0,void 0!==r.activeEditor&&null!==r.activeEditor&&void 0!==r.activeEditor.theme&&null!==r.activeEditor.theme&&void 0!==r.activeEditor.theme.panel&&null!==r.activeEditor.theme.panel&&void 0!==r.activeEditor.theme.panel.visible&&((void 0!==r.activeEditor.theme.panel._visible&&r.activeEditor.theme.panel._visible&&r.activeEditor.theme.panel._fixed||void 0!==r.activeEditor.theme.panel.state&&r.activeEditor.theme.panel.state.get("visible")&&r.activeEditor.theme.panel.state.get("fixed"))&&r.activeEditor.theme.panel.fixed(!1),r.activeEditor.nodeChanged(),r.activeEditor.theme.panel.layoutRect().y<=40&&r.activeEditor.theme.panel.moveBy(0,40-r.activeEditor.theme.panel.layoutRect().y))};o.bindingHandlers.wysiwygScrollfix={scroll:function(e){n&&t.clearTimeout(n),n=t.setTimeout(a,50)},init:function(e){o.utils.domNodeDisposal.addDisposeCallback(e,function(){i(e).off("scroll",o.bindingHandlers.wysiwygScrollfix.scroll)}),i(e).on("scroll",o.bindingHandlers.wysiwygScrollfix.scroll)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],60:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,o="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,i=(e("./../../../bower_components/console-browserify/index.js"),function(e,t,n,o){var i=n.scrollTop(),r=i-o-(t?20:-20);if(void 0!==n[0].nodeType){var a={scrollTop:Math.round(r)+"px"},l=Math.round(Math.abs(r-i));n.stop().animate(a,l)}else n.scrollTop(r)});o.bindingHandlers.scrollIntoView={update:function(e,t,r,a,l){if(o.utils.unwrapObservable(t()))try{for(;8===e.nodeType;)e=e.nextSibling;if(8!==e.nodeType){var s,d=n(e).scrollParent(),u=!1;9==d[0].nodeType?(d=n(d[0].defaultView),s=0,u=!0):s=d.offset().top;var c=d.height(),f=d.scrollTop(),p=s+c,h=n(e),b=h.offset().top;u&&(b-=f);var v=h.height(),m=b+v;b>s&&b+v<p||(v<c?(b<s&&i(0,!0,d,s-b),m>p&&i(0,!1,d,p-m)):(b<s&&m<p&&i(0,!1,d,p-m),b>s&&m>p&&i(0,!0,d,s-b)))}}catch(e){}}},o.virtualElements.allowedBindings.scrollIntoView=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],61:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.makeTemplateSource;return e.makeTemplateSource=function(e){return void 0!==a[e]?new i.templateSources.stringTemplate(e,a[e]):t(e)},e}var i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,r=e("./script-template.js"),a={};i.templateSources.stringTemplate=function(e,t){this.templateName=e,this.template=t,this._data={}},i.utils.extend(i.templateSources.stringTemplate.prototype,{data:function(e,t){if(1===arguments.length)return this._data[e];this._data[e]=t},text:function(e){if(0===arguments.length)return this.template;this.template=e}}),t.exports={init:function(){i.setTemplateEngine(o(new i.nativeTemplateEngine))},addTemplate:function(e,t){a[e]=t},removeTemplate:function(e){void 0!==a[e]?a[e]=void 0:r.removeTemplate(e)},getTemplateContent:function(e){return void 0!==a[e]?a[e]:r.getTemplateContent(e)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./script-template.js":58}],62:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null,o="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null,i=("undefined"!=typeof window?window.kojqui:void 0!==t&&t.kojqui,e("./../../../bower_components/console-browserify/index.js"),function(e,t){return function(){return n.utils.extend(t,e()),t}}),r={show:{delay:500},track:!0,items:'[title][title!=""][title!=" "]'};n.bindingHandlers.tooltips={init:function(e,t,a,l,s){if(void 0!==o.fn.tooltip&&void 0!==n.bindingHandlers.tooltip)return n.bindingHandlers.tooltip.init(e,i(t,r),a,l,s)},update:function(e,t,a,l,s){if(void 0!==o.fn.tooltip&&void 0!==n.bindingHandlers.tooltip)return n.bindingHandlers.tooltip.update(e,i(t,r),a,l,s)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],63:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null;e("./../../../bower_components/console-browserify/index.js");n.bindingHandlers.validatedValue={init:function(e,t,o){var i=t;if(void 0!==e.pattern){var r=new RegExp("^(?:"+e.pattern+")$"),a=n.computed({read:function(){var o=n.utils.unwrapObservable(t());return null===o||""===o||r.test(o)?e.classList.remove("invalid"):e.classList.add("invalid"),o},write:n.isWriteableObservable(t())&&function(o){n.selectExtensions.writeValue(e,o);var i=n.selectExtensions.readValue(e);t()(i)},disposeWhenNodeIsRemoved:e});i=function(){return a}}n.bindingHandlers.value.init(e,i,o)}},n.expressionRewriting._twoWayBindings.validatedValue=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],64:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.ko:void 0!==t?t.ko:null;e("./../../../bower_components/console-browserify/index.js");n.bindingHandlers.uniqueId={currentIndex:0,init:function(e,o){var i=n.utils.unwrapObservable(o())||{};if(""===i.id()){var r,a,l;l="ko_"+(void 0!==i.type?n.utils.unwrapObservable(i.type):"block");do{r=l+"_"+ ++n.bindingHandlers.uniqueId.currentIndex,a=t.document.getElementById(r)}while(a);i.id(r)}}},n.virtualElements.allowedBindings.uniqueId=!0,n.bindingHandlers.virtualAttr={update:function(e,t){8!==e.nodeType&&n.bindingHandlers.attr.update(e,t)}},n.virtualElements.allowedBindings.virtualAttr=!0,n.bindingHandlers.virtualAttrStyle={update:function(e,t,o,i,r){if(8!==e.nodeType){var a=["style"];(void 0===r.templateMode||"wysiwyg"!=r.templateMode)&&a.push("replacedstyle");for(var l=n.utils.unwrapObservable(t()),s=0;s<a.length;s++){var d=a[s];!1===l||null===l||void 0===l?e.removeAttribute(d):e.setAttribute(d,l.toString())}}}},n.virtualElements.allowedBindings.virtualAttrStyle=!0,n.bindingHandlers.virtualStyle={update:function(e,t){8!==e.nodeType&&n.bindingHandlers.style.update(e,t)}},n.virtualElements.allowedBindings.virtualStyle=!0,n.bindingHandlers.virtualHtml={init:n.bindingHandlers.html.init,update:function(e,t){if(8===e.nodeType){var o=n.utils.unwrapObservable(t());if(n.virtualElements.emptyNode(e),null!==o&&void 0!==o){"string"!=typeof o&&(o=o.toString());var i=n.utils.parseHtmlFragment(o);if(i)for(var r=e.nextSibling,a=0,l=i.length;a<l;a++)r.parentNode.insertBefore(i[a],r)}}else n.bindingHandlers.html.update(e,t);return{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings.virtualHtml=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],65:[function(e,t,n){(function(t){"use strict";var n="undefined"!=typeof window?window.tinymce:void 0!==t?t.tinymce:null,o=("undefined"!=typeof window?window.jQuery:void 0!==t&&t.jQuery,"undefined"!=typeof window?window.ko:void 0!==t?t.ko:null);e("./../../../bower_components/console-browserify/index.js");e("./eventable.js"),o.bindingHandlers.wysiwygOrHtml={init:function(e,t,n,i,r){return void 0===r.templateMode||"wysiwyg"!=r.templateMode?o.bindingHandlers.virtualHtml.init():o.bindingHandlers.wysiwyg.init(e,t,n,i,r)},update:function(e,t,n,i,r){if(void 0===r.templateMode||"wysiwyg"!=r.templateMode)return o.bindingHandlers.virtualHtml.update(e,t,n,i,r)}},o.virtualElements.allowedBindings.wysiwygOrHtml=!0,o.bindingHandlers.wysiwygHref={init:function(e,t,n,o,i){if(8!==e.nodeType){t();void 0===i.templateMode||"wysiwyg"!=i.templateMode?e.setAttribute("target","_new"):void 0!==n().wysiwygOrHtml?e.setAttribute("href","javascript:void(0)"):(e.removeAttribute("href"),e.setAttribute("disabledhref","#"))}},update:function(e,t,n,i,r){if(8!==e.nodeType){var a=void 0===r.templateMode||"wysiwyg"!=r.templateMode,l=o.utils.unwrapObservable(t());a&&(!1===l||null===l||void 0===l?e.removeAttribute("href"):e.setAttribute("href",l.toString()))}}},o.virtualElements.allowedBindings.wysiwygHref=!0,o.bindingHandlers.wysiwygSrc={convertedUrl:function(e,t,n,o){return e+(-1==e.indexOf("?")?"?":"&")+"method="+t+"&width="+n+(null!==o?"&height="+o:"")},placeholderUrl:function(e,t,n){},update:function(e,t,n,i,r){var a=o.utils.unwrapObservable(t()),l=o.utils.unwrapObservable(a.src),s=o.utils.unwrapObservable(a.placeholder),d=o.utils.unwrapObservable(a.width),u=o.utils.unwrapObservable(a.height);if(!1===l||null===l||void 0===l||""===l)"object"==typeof s&&null!==s?e.setAttribute("src",o.bindingHandlers.wysiwygSrc.placeholderUrl(s.width,s.height,s.text)):e.removeAttribute("src");else{var c=o.utils.unwrapObservable(a.method);c||(c=d>0&&u>0?"cover":"resize");var f=o.bindingHandlers.wysiwygSrc.convertedUrl(l.toString(),c,d,u);e.setAttribute("src",f)}void 0!==d&&null!==d?e.setAttribute("width",d):e.removeAttribute("width"),void 0!==u&&null!==u?e.setAttribute("height",u):e.removeAttribute("height")}},o.bindingHandlers.wysiwygId={init:function(e,t,n,i,r){void 0===r.templateMode||"wysiwyg"!=r.templateMode||e.setAttribute("id",o.utils.unwrapObservable(t()))},update:function(e,t,n,i,r){void 0===r.templateMode||"wysiwyg"!=r.templateMode||e.setAttribute("id",o.utils.unwrapObservable(t()))}},o.virtualElements.allowedBindings.wysiwygId=!0,o.bindingHandlers.wysiwygClick={init:function(e,t,n,i,r){void 0===r.templateMode||"wysiwyg"!=r.templateMode||o.bindingHandlers.click.init(e,t,n,i,r)}},o.virtualElements.allowedBindings.wysiwygClick=!0,o.bindingHandlers.wysiwygCss={update:function(e,t,n,i,r){void 0===r.templateMode||"wysiwyg"!=r.templateMode||o.bindingHandlers.css.update(e,t,n,i,r)}},o.virtualElements.allowedBindings.wysiwygCss=!0,o.bindingHandlers.wysiwygImg={makeTemplateValueAccessor:function(e,t){return function(){var n=void 0!==t.templateMode&&"wysiwyg"==t.templateMode,i=e(),r=o.utils.peekObservable(i);return o.utils.unwrapObservable(i),{name:n?r._editTemplate:r._template,templateEngine:o.nativeTemplateEngine.instance}}},init:function(e,t,n,i,r){return o.bindingHandlers.template.init(e,o.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,r))},update:function(e,t,n,i,r){return r=r.extend(t()),o.bindingHandlers.template.update(e,o.bindingHandlers.wysiwygImg.makeTemplateValueAccessor(t,r),n,i,r)}},o.virtualElements.allowedBindings.wysiwygImg=!0,o.bindingHandlers.wysiwyg={currentIndex:0,standardOptions:{},fullOptions:{toolbar1:"bold italic forecolor backcolor hr styleselect removeformat | link unlink | pastetext code",plugins:["link hr paste lists textcolor code"]},init:function(e,i,r,a,l){o.bindingHandlers.focusable.init(e),o.utils.domNodeDisposal.addDisposeCallback(e,function(){n.remove("#"+e.getAttribute("id"))});var s=i();if(!o.isObservable(s))throw"Wysiwyg binding called with non observable";if(8===e.nodeType)throw"Wysiwyg binding called on virtual node, ignoring...."+e.innerHTML;var d=e.getAttribute("id");d||(d="wysiwyg_"+ ++o.bindingHandlers.wysiwyg.currentIndex,e.setAttribute("id",d));var u,c="DIV"==e.tagName||"TD"==e.tagName,f=!1,p=!1,h={selector:"#"+d,inline:!0,hidden_input:!1,plugins:["paste"],toolbar1:"bold italic",toolbar2:"",preview_styles:!1,paste_as_text:!0,language:"en",schema:"html5",extended_valid_elements:"strong/b,em/i,*[*]",menubar:!1,skin:"gray-flat",setup:function(e){e.on("change redo undo",function(){f||(p=!0,s(e.getContent({format:"raw"})),p=!1)}),e.on("focus",function(){e.nodeChanged(),e.getElement().click()}),e.on("BeforeSetContent",function(e){e.initial&&(e.format="raw")}),u=e}};return o.utils.extend(h,o.bindingHandlers.wysiwyg.standardOptions),c&&o.utils.extend(h,o.bindingHandlers.wysiwyg.fullOptions),t.setTimeout(function(){n.init(h)}),o.computed(function(){var t=o.utils.unwrapObservable(i());if(!p){try{f=!0,void 0!==u?u.setContent(t,{format:"raw"}):o.utils.setHtml(e,t)}catch(e){}f=!1}},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"./eventable.js":51}],66:[function(e,t,n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o=function(e,t,n,i,r){var a,l,s,d=0;if(void 0===r&&(r=!1),void 0!==t&&"function"==typeof t.splice)for(a={},l=0;l<t.length;l++)a[t[l].type]=t[l];else a=t;for(var u in e)if(e.hasOwnProperty(u))if(s=void 0!==i?i+"."+u:u,n.hasOwnProperty(u))if(typeof n[u]!=typeof e[u])null!==n[u]&&null!==e[u]&&("string"==typeof n[u]?String(e[u])!=e[u]&&(d=Math.max(d,2)):"number"==typeof n[u]?Number(e[u])!=e[u]&&(d=Math.max(d,2)):d=Math.max(d,2));else if("object"==typeof e[u])if(null!==e[u])if(void 0!==e[u].splice){if(e[u].length>0)if(n[u].length>0){var c=0;for(l=0;l<n[u].length;l++)if("string"==typeof n[u][l].type){for(;c<e[u].length&&e[u][c].type!==n[u][l].type;)c++;if(c>=e[u].length){d=Math.max(d,2);break}d=Math.max(d,o(e[u][c],void 0,n[u][l],s+"["+l+"."+n[u][l].type+"]"))}}else for(l=0;l<e[u].length;l++)"string"!=typeof e[u][l].type?d=Math.max(d,2):a.hasOwnProperty(e[u][l].type)?d=Math.max(d,o(a[e[u][l].type],a,e[u][l],s+"["+l+"."+e[u][l].type+"]")):(e[u].splice(l,1),l--,d=Math.max(d,2))}else null===n[u]?r?(d=Math.max(d,2),delete e[u]):(d=Math.max(d,1),n[u]=e[u]):d=Math.max(d,o(e[u],a,n[u],s,r));else null!==n[u]&&(d=Math.max(d,2));else"string"!=typeof e[u]&&"boolean"!=typeof e[u]&&"number"!=typeof e[u]&&(d=Math.max(d,2));else r?(d=Math.max(d,2),delete e[u]):(d=Math.max(d,1),n[u]=e[u]);return r||(d=Math.max(d,o(n,t,e,void 0!==i?i+"!R":"!R",!0))),d};t.exports=o},{"./../../../bower_components/console-browserify/index.js":1}],67:[function(e,t,n){"use strict";var o=e("./utils.js"),i=e("./../../../bower_components/mensch/lib/parser.js"),r=(e("./../../../bower_components/console-browserify/index.js"),e("./domutils.js")),a=function(e,t,n){for(var o=e.length-1;o>=0;o--)if("property"==e[o].type&&e[o].name==t)return s(e[o].value,n);return null},l=function(e){return e.replace(/-([a-z])/g,function(e,t,n,o){return t.toUpperCase()})},s=function(e,t){return e.match(/url\(.*\)/)?e.replace(/(url\()([^\)]*)(\))/g,function(e,n,o,i){var r=o.trim(),a=o.trim().charAt(0);"'"==a||'"'==a?r=r.substr(1,r.length-2):a="";var l=t(r);return null!==l?n+a+l+a+i:e}):e},d=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?t.push(n+": { "+d(e[n])+" }"):t.push(n+": "+e[n]));return t.reverse().join(", ")};t.exports=function(e,t,n,u,c,f,p){var h="object"==typeof f&&null!==f?f:{},b=null,v=0;void 0===t&&(t=i("#{\n"+e+"}",{comments:!0,position:!0}).stylesheet.rules[0].declarations,v=1);for(var m=t.length-1;m>=0;m--)if("property"==t[m].type)if(!0===p&&"display"==t[m].name&&"none"==t[m].value)null===b&&(b=e),b=o.removeStyle(b,t[m].position.start,t[m].position.end,v,0,0,"");else{var g=t[m].name.match(/^-ko-(bind-|attr-)?([a-z0-9-]*?)(-if|-ifnot)?$/);if(null!==g){null===b&&void 0!==e&&(b=e);var y,w,x,k="attr-"==g[1],_="bind-"==g[1],j=g[2],O="-if"==g[3]||"-ifnot"==g[3];if(O){if(y=t[m].name.substr(0,t[m].name.length-g[3].length),null===a(t,y,n))throw"Unable to find declaration "+y+" for "+t[m].name}else{if((k||_)&&void 0===c&&void 0!==e)throw"Attributes and bind declarations are only allowed in inline styles!";var S,A=!0;if(k?(x=r.getAttribute(c,j),A=!1,S="virtualAttr"):_?(S=null,"text"==j?void 0!==c?x=r.getInnerText(c):A=!1:"html"==j&&void 0!==c?x=r.getInnerHtml(c):A=!1):((A=void 0!==e)&&(x=a(t,j,n)),S="virtualStyle"),A&&null===x)throw"Cannot find default value for "+t[m].name+": "+t[m].value+" in "+c+" ("+typeof e+"/"+j+")";var $=x,C=_||k?-1!=j.indexOf("-")?"'"+j+"'":j:l(j);try{w=o.expressionBinding(t[m].value,u,$)}catch(e){throw e}null!==S&&void 0===h[S]&&(h[S]={}),"virtualAttr"==S&&"href"==C&&(S=null,C="wysiwygHref",void 0!==c&&null!==c&&r.removeAttribute(c,"href"));var E=a(t,t[m].name+"-if",n),T=!1;if(null===E)E=a(t,t[m].name+"-ifnot",n),T=!0;else if(null!==a(t,t[m].name+"-ifnot",n))throw"Unexpected error: cannot use both -if and -ifnot property conditions";if(null!==E)try{var M=o.conditionBinding(E,u);w=(T?"!":"")+"("+M+") ? "+w+" : null"}catch(e){throw e}null!==S?h[S][C]=w:h[C]=w}if(null!==b)try{if(void 0!==c&&null!==c)b=o.removeStyle(b,t[m].position.start,t[m].position.end,v,0,0,"");else{var I="";O||(I=j+": \x3c!-- ko text: "+w+" --\x3e"+x+"\x3c!-- /ko --\x3e"),b=o.removeStyle(b,t[m].position.start,t[m].position.end,v,0,0,I)}}catch(e){throw e}}else{var H=s(t[m].value,n);if(H!=t[m].value&&(null===b&&void 0!==e&&(b=e),null!==b))try{b=o.removeStyle(b,t[m].position.start,t[m].position.end,v,0,0,t[m].name+": "+H)}catch(e){throw e}var B=l(t[m].name),D="virtualAttrStyle",P=void 0!==h.virtualStyle?h.virtualStyle[B]:void 0,F=" ";void 0===h[D]&&(h[D]="''",F=""),void 0!==P?(h[D]="'"+t[m].name+": '+("+P+")+';"+F+"'+"+h[D],delete h.virtualStyle[B]):h[D]="'"+t[m].name+": "+o.addSlashes(H)+";"+F+"'+"+h[D]}}if(void 0!==c&&null!==c){for(var N in h.virtualStyle)if(h.virtualStyle.hasOwnProperty(N))throw"Unexpected virtualStyle binding after conversion to virtualAttr.style for "+N;delete h.virtualStyle;var z=r.getAttribute(c,"data-bind"),L=(null!==z?z+", ":"")+d(h);r.setAttribute(c,"data-bind",L)}if(void 0===e){var R=!1;for(var U in h.virtualStyle)if(h.virtualStyle.hasOwnProperty(U)){R=!0;break}if(R){if(void 0!==h.virtualAttrStyle){var q=h.virtualAttrStyle;delete h.virtualAttrStyle,h.virtualAttrStyle=q}}else delete h.virtualStyle;return d(h)}return b}},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/mensch/lib/parser.js":15,"./domutils.js":68,"./utils.js":74}],68:[function(e,t,n){(function(e){"use strict";function n(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null;t.exports={getAttribute:function(e,t){var n=o(e).attr(t);return void 0===n&&(n=null),n},setAttribute:function(e,t,n){o(e).attr(t,n)},removeAttribute:function(e,t){o(e).removeAttr(t)},getInnerText:function(e){return o(e).text()},getInnerHtml:function(e){return o(e).html()},getLowerTagName:function(e){return""===e.tagName&&"string"==typeof e.name?e.name.toLowerCase():""!==e.tagName?e.tagName.toLowerCase():o(e).prop("tagName").toLowerCase()},setContent:function(e,t){o(e).html(t)},replaceHtml:function(e,t){o(e).replaceWith(t)},removeElements:function(e,t){t&&void 0!==e.detach&&e.detach(),e.remove()},objExtend:function(e,t){return"function"==typeof o.extend?o.extend(!0,e,t):n(e,JSON.parse(JSON.stringify(t)))}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],69:[function(e,t,n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o=e("./declarations.js"),i=e("./utils.js"),r=e("./model.js"),a=function(e){for(var t=e.split("|"),n={},o=0;o<t.length;o++){var i=t[o].split("=");n[i[0]]=i.length>1?i[1]:i[0]}return n},l=function(e,t,n){var o=[];for(var i in e)if(!i.match(/^customStyle$/)&&!i.match(/^_/)&&e.hasOwnProperty(i)){var r=null!==e[i]&&void 0!==e[i]._category&&"style"==e[i]._category;"id"==i||"type"==i||i.match(/Blocks$/)||("styler"==t?(r||n>0)&&o.push(i):"edit"==t?null!==e[i]&&void 0!==e[i]._category&&"content"==e[i]._category&&(void 0===e[i]._context||"block"!=e[i]._context)&&o.push(i):void 0===t&&o.push(i))}return o},s=function(e,t,n,o,r){var l,s="";if(null!==e&&void 0!==e._widget&&(l=e._widget),void 0===l)throw"Unknown data type for "+t;var d="focusable: true";if("edit"==o&&(d+=", event: { focus: function(ui, event) { $($element).click(); } } "),s+='<label class="data-'+l+'"'+("boolean"==l?" data-bind=\"event: { mousedown: function(ui, evt) { if (evt.button == 0) { var input = $($element).find('input'); var ch = input.prop('checked'); setTimeout(function() { input.click(); input.prop('checked', !ch); input.trigger('change'); }, 0); } } }, click: function(ui, evt) { evt.preventDefault(); }, clickBubble: false\"":"")+">",void 0!==r&&void 0!==r[l]){var u=r[l],c={};if(void 0!==u.parameters)for(var f in u.parameters)u.parameters.hasOwnProperty(f)&&void 0!==e["_"+f]&&(c[f]=e["_"+f]);s+=u.html(n,d,c)}else if("boolean"==l)s+='<input type="checkbox" value="nothing" data-bind="checked: '+n+", "+d+'" />',s+='<span class="checkbox-replacer" ></span>';else if("color"==l)s+='<input size="7" type="text" data-bind="colorpicker: { color: '+n+", strings: $root.t('Theme Colors,Standard Colors,Web Colors,Theme Colors,Back to Palette,History,No history yet.') }, , "+d+'" />';else if("select"==l){if(void 0!==e._options){var p=a(e._options);s+='<select data-bind="value: '+n+", "+d+'">';for(var h in p)p.hasOwnProperty(h)&&(s+='<option value="'+h+"\" data-bind=\"text: $root.ut('template', '"+i.addSlashes(p[h])+"')\">"+p[h]+"</option>");s+="</select>"}}else if("font"==l)s+='<select type="text" data-bind="value: '+n+", "+d+'">',s+='<optgroup label="Sans-Serif Fonts">',s+='<option value="Arial,Helvetica,sans-serif">Arial</option>',s+="<option value=\"'Comic Sans MS',cursive,sans-serif\">Comic Sans MS</option>",s+='<option value="Impact,Charcoal,sans-serif">Impact</option>',s+="<option value=\"'Trebuchet MS',Helvetica,sans-serif\">Trebuchet MS</option>",s+='<option value="Verdana,Geneva,sans-serif">Verdana</option>',s+="</optgroup>",s+='<optgroup label="Serif Fonts">',s+='<option value="Georgia,serif">Georgia</option>',s+="<option value=\"'Times New Roman',Times,serif\">Times New Roman</option>",s+="</optgroup>",s+='<optgroup label="Monospace Fonts">',s+="<option value=\"'Courier New',Courier,monospace\">Courier New</option>",s+="</optgroup>",s+="</select>";else if("url"==l)s+='<div class="ui-textbutton">',s+='<input class="ui-textbutton-input" size="7" type="url" pattern="(mailto:.+@.+|https?://.+\\..+|\\[.*\\].*)" value="nothing" data-bind="css: { withButton: typeof $root.linkDialog !== \'undefined\' }, validatedValue: '+n+", "+d+'" />',s+="<a class=\"ui-textbutton-button\" data-bind=\"visible: typeof $root.linkDialog !== 'undefined', click: typeof $root.linkDialog !== 'undefined' ? $root.linkDialog.bind($element.previousSibling) : false, button: { icons: { primary: 'fa fa-fw fa-ellipsis-h' }, label: 'Opzioni', text: false }\">Opzioni</a>",s+="</div>";else if("integer"==l){var b=0,v=1e3;null!==e&&void 0!==e._max&&(v=e._max),null!==e&&void 0!==e._min&&(b=e._min);var m=v-b>=100?10:1;s+='<input class="number-spinner" size="7" step="'+m+'" type="number" value="-1" data-bind="spinner: { min: '+b+", max: "+v+", page: "+5*m+", value: "+n+" }, valueUpdate: ['change', 'spin'], "+d+'" />'}else s+='<input size="7" type="text" value="nothing" data-bind="value: '+n+", "+d+'" />';return s+="</label>"},d=function(e,t,n,o){var i;return"object"==typeof t&&null!==t&&void 0===t._widget||void 0!==n&&void 0!==o&&o.length>0&&"object"==typeof e&&void 0!==e[o]&&(i=e[o]),i},u=function(e,t,n,r,a,c,f,p,h,b,v,m,g,y,w){if(void 0===h&&(h=0),void 0!==f&&"object"==typeof r&&null!==r&&void 0===r._usecount)return"";var x,k=void 0!==m?f+"._defaultComputed":f,_="",j=k,O=1,S=1;if("object"==typeof r&&null!==r&&void 0===r._widget||void 0===m&&(O+=1),void 0===m&&void 0!==b&&(S+=b),void 0!==f&&g&&(_+="\x3c!-- ko ifSubs: { data: "+j+", threshold: "+S+", gutter: "+O+" } --\x3e"),void 0!==f&&(null===r||r._name),void 0===f&&null!==r&&r._name,"object"==typeof r&&null!==r&&void 0===r._widget){var A=l(r,p,h),$="styler"==p&&null!==r&&void 0!==r.customStyle&&void 0!==m,C="",E="";void 0!==f&&"edit"==p&&(C=", click: function(obj, evt) { $root.selectItem("+f+", $data); return false }, clickBubble: false, css: { selecteditem: $root.isSelectedItem("+f+") }, scrollIntoView: $root.isSelectedItem("+f+"), ",E+=" selectable"),$&&(E+=" supportsCustomStyles"),_+='<div class="objEdit level'+h+E+'" data-bind="tooltips: {}'+C+'">';var T=null!==r&&void 0!==r._name?r._name:void 0!==f?"["+f+"]":"";if($){var M="Stile";void 0!==a&&null!==a&&void 0!==a._name&&(M=a._name),T="<span class=\"blockSelectionMethod\" data-bind=\"text: customStyle() ? $root.ut('template', '"+i.addSlashes(T)+"') : $root.ut('template', '"+i.addSlashes(M)+"')\">Block</span>"}else T="<span data-bind=\"text: $root.ut('template', '"+i.addSlashes(T)+"')\">"+T+"</span>";_+="<span"+(x=null!==r&&void 0!==r._help?' title="'+i.addSlashes(r._help)+"\" data-bind=\"attr: { title: $root.ut('template', '"+i.addSlashes(r._help)+"') }\"":"")+' class="objLabel level'+h+'">'+T+"</span>","edit"==p&&void 0!==r._blockDescription&&(_+="<div class=\"blockDescription\" data-bind=\"html: $root.ut('template', '"+i.addSlashes(r._blockDescription)+"')\">"+r._blockDescription+"</div>"),$&&(_+='<label class="data-boolean blockCheck" data-bind="tooltips: { }">',_+='<input type="checkbox" value="nothing" data-bind="focusable: true, checked: customStyle" />',_+='<span title="Switch between global and block level styles editing" data-bind="attr: { title: $root.t(\'Switch between global and block level styles editing\') }" class="checkbox-replacer checkbox-replacer-onoff"></span>',_+="</label>",_+="\x3c!-- ko template: { name: 'customstyle', if: customStyle } --\x3e\x3c!-- /ko --\x3e"),void 0!==f&&(_+="\x3c!-- ko with: "+f+" --\x3e",1==h&&void 0!==f&&void 0!==r._previewBindings&&void 0!==e&&(void 0!==y&&(_+='\x3c!-- ko with: $root.content() --\x3e<div class="objPreview" data-bind="'+y+'"></div>\x3c!-- /ko --\x3e'),void 0!==w&&(_+='\x3c!-- ko with: $parent --\x3e<div class="objPreview" data-bind="'+w+'"></div>\x3c!-- /ko --\x3e'),_+='<div class="objPreview"><div class="objPreviewInner" data-bind="'+o(void 0,r._previewBindings,n,e.bind(this,c+"."))+'"></div></div>'));var I;0===h&&void 0!==r._previewBindings&&(I=o(void 0,r._previewBindings,n,e.bind(this,c.length>0?c+".":"")));var H,B,D,P=_.length;for(H=0;H<A.length;H++)B=c.length>0?c+"."+A[H]:A[H],"object"==typeof r[A[H]]&&null!==r[A[H]]&&void 0===r[A[H]]._widget||(D=void 0,0===h&&"theme"==A[H]?_+=u(e,t,n,r[A[H]],void 0,B,A[H],p,0,b,void 0,void 0,g,y):(D=d(v,r[A[H]],A[H],B),_+=u(e,t,n,r[A[H]],void 0,B,A[H],p,h+1,b,v,D,g,y,I)));for(H=0;H<A.length;H++)B=c.length>0?c+"."+A[H]:A[H],"object"==typeof r[A[H]]&&null!==r[A[H]]&&void 0===r[A[H]]._widget&&(D=void 0,0===h&&"theme"==A[H]?_+=u(e,t,n,r[A[H]],void 0,B,A[H],p,0,b,void 0,void 0,g,y):(D=d(v,r[A[H]],A[H],B),_+=u(e,t,n,r[A[H]],void 0,B,A[H],p,h+1,b,v,D,g,y,I)));if(0===_.length-P){if("object"==typeof r&&null!==r&&"template"==r._context)return"";_+='<div class="objEmpty" data-bind="html: $root.t(\'Selected element has no editable properties\')">Selected element has no editable properties</div>'}void 0!==f&&(_+="\x3c!-- /ko --\x3e"),_+="</div>"}else{var F=!0;if(void 0===v&&(F=!1),null===r||"object"!=typeof r||void 0!==r._widget){var N=[];void 0!==m&&N.push("css: { notnull: "+f+"() !== null }"),(x=null!==r&&void 0!==r._help?' title="'+i.addSlashes(r._help)+"\" data-bind=\"attr: { title: $root.ut('template', '"+i.addSlashes(r._help)+"') }\"":"").length>0&&N.push("tooltips: {}");var z=N.length>0?'data-bind="'+i.addSlashes(N.join())+'"':"";_+='<div class="propEditor '+(F?"checkboxes":"")+'"'+z+">";var L=null!==r&&void 0!==r._name?r._name:void 0!==f?"["+f+"]":"";_+="<span"+x+' class="propLabel">'+(L="<span data-bind=\"text: $root.ut('template', '"+i.addSlashes(L)+"')\">"+L+"</span>")+"</span>",_+='<div class="propInput '+(void 0!==v?"local":"")+'" data-bind="css: { default: '+f+'() === null }">',_+=s(r,f,k,p,t),_+="</div>",void 0!==m&&(_+='<div class="propInput global" data-bind="css: { overridden: '+f+'() !== null }">',_+=s(r,f,m,p,t),_+="</div>",F&&(_+='<div class="propCheck"><label data-bind="tooltips: {}"><input type="checkbox" data-bind="focusable: true, click: function(evt, obj) { $root.localGlobalSwitch('+f+", "+m+"); return true; }, checked: "+f+'() !== null">',_+='<span class="checkbox-replacer" data-bind="css: { checked: '+f+"() !== null }, attr: { title: $root.t('This style is specific for this block: click here to remove the custom style and revert to the theme value') }\"></span>",_+="</label></div>")),_+="</div>"}else _+=null===r||"object"!=typeof r?'<div class="propEditor unknown">[A|'+f+"|"+typeof r+"]</div>":'<div class="propEditor unknown">[B|'+f+"|"+typeof r+"]</div>"}return void 0!==f&&g&&(_+="\x3c!-- /ko --\x3e",_+="\x3c!-- ko ifSubs: { not: true, data: "+j+", threshold: "+S+", gutter: 0 } --\x3e",_+='<span class="label notused">('+f+")</span>",_+="\x3c!-- /ko --\x3e"),_},c=function(e,t,n,i,a,l,s,d,c,f,p,h){void 0===p&&(p=!0);var b,v=r.getDef(e,l),m=r.getDef(e,a);void 0!==m._previewBindings&&"thaeme"!=l&&"styler"==s&&(b=o(void 0,m._previewBindings,i,r.getBindValue.bind(void 0,e,n,a,a,"")));var g,y=void 0!==f&&f?e[l]._globalStyles:void 0,w=void 0!==f&&f?e[l]._globalStyle:void 0;void 0!==w&&(g=r.getDef(e,"theme")[w.replace(/^(\$theme|_theme_)\./,"")]);var x=r.getBindValue.bind(void 0,e,n,a,l);x._templateName=l;var k='<div class="editor">';k+='<div class="blockType'+(void 0!==y?" withdefaults":"")+'">'+v.type+"</div>";var _=u(x,t,i,v,g,"",void 0,s,h,c,y,w,p,b);_.length>0&&(k+=_),d(k+="</div>",l,s)},f=function(e,t,n,o,i,r,a,l){c(e,t,n,o,i,r,"edit",a,l),c(e,t,n,o,i,r,"styler",a,l,!0)};t.exports=function(e,t,n,o,i){var a,l=e._defs,s=e.templateName,d=e._blocks,u=[];for(a=0;a<d.length;a++)void 0!==d[a].container&&u.push(r.generateModel(l,d[a].block)),f(l,t,void 0,n,d[a].root,d[a].block,o,i);return void 0!==l.theme&&c(l,t,void 0,n,s,"theme","styler",o,void 0,!1,!1,-1),u}},{"./../../../bower_components/console-browserify/index.js":1,"./declarations.js":67,"./model.js":71,"./utils.js":74}],70:[function(e,t,n){"use strict";var o=e("./model.js");t.exports={translateTemplate:function(){var t=e("./parser.js");return t.apply(t,arguments)},wrappedResultModel:function(t){var n=t._defs,i=t.templateName,r=o.getDef(n,i),a=o.generateResultModel(t);return e("./wrapper.js")(a,r,n)},generateResultModel:o.generateResultModel,generateEditors:function(){var t=e("./editor.js");return t.apply(t,arguments)},checkModel:function(){var t=e("./checkmodel.js");return t.apply(t,arguments)}}},{"./checkmodel.js":66,"./editor.js":69,"./model.js":71,"./parser.js":72,"./wrapper.js":75}],71:[function(e,t,n){"use strict";var o=e("./domutils.js").objExtend,i=(e("./../../../bower_components/console-browserify/index.js"),function(e,t,n,o){var r=n.indexOf(".");if(-1==r)if(void 0===t[n]);else if(null===t[n])"object"==typeof o&&null!==o&&o.push,t[n]=o;else if("object"==typeof t[n]&&"function"==typeof t[n].push){var a;if("string"==typeof o){var l=o.match(/^\[(.*)\]$/);if(null===l)throw"Unexpected default value for array property "+n+": "+o;a=l[1].split(",")}else{if("object"!=typeof o||void 0===o.push)throw"Unexpected default value for array property "+n+": "+o+" typeof "+typeof o;a=o}for(var d=[],u=0;u<a.length;u++)"@"==a[u].substr(0,1)?d.push(s(e,a[u].substr(1))):a[u].length>0&&d.push(a[u]);t[n]=d}else"string"==typeof t[n]||"boolean"==typeof t[n]?t[n]=o:"object"==typeof t[n]&&null!==t[n]&&void 0!==t[n]._widget&&(t[n]=o);else{var c=n.substr(0,r);i(e,t[c],n.substr(r+1),o)}}),r=function(e,t,n,o){if(void 0!==e[t]&&e[t]._initialized&&!e[t]._writeable)throw"Trying to alter non writeable model: "+t+" / "+n;if(void 0===e[t]&&(e[t]={_writeable:!0},void 0===o&&(o={}),void 0===o.category&&void 0===e[t]._category&&(t.match(/(^t|.T)heme$/)||t.match(/(^s|.S)tyle$/)||t.match(/(^c|.C)olor$/)||t.match(/(^r|.R)adius$/)?o.category="style":o.category="content")),void 0!==o){if(void 0!==o.name&&(e[t]._name=o.name),void 0!==o.themeOverride&&(e[t]._themeOverride=o.themeOverride),void 0!==o.globalStyle){e[t]._globalStyle=o.globalStyle;var i=o.globalStyle.replace(/^(\$theme|_theme_)\./,""),a=i.indexOf("."),l=-1!=a?i.substr(0,a):i;r(e,"theme",l),(void 0===e[t]._themeOverride||e[t]._themeOverride)&&r(e,t,"customStyle=false")}void 0!==o.contextName&&(e[t]._context=o.contextName,"block"==o.contextName&&void 0===e[t]._globalStyle&&(e[t]._globalStyle="_theme_.bodyTheme",r(e,"theme","bodyTheme"),(void 0===e[t]._themeOverride||e[t]._themeOverride)&&r(e,t,"customStyle=false"))),void 0!==o.extend&&(e[t].type=o.extend)}for(var s in o)o.hasOwnProperty(s)&&void 0!==o[s]&&-1==["name","extend","contextName","globalStyle","themeOverride"].indexOf(s)&&(e[t]["_"+s]=o[s]);void 0!==n&&n.length>0&&(e[t]._props=void 0!==e[t]._props&&e[t]._props.length>0?e[t]._props+" "+n:n)},a=function(e){var t=e.match(/^[^A-Z]+([A-Z])(.*)$/);return null!==t?t[1].toLowerCase()+t[2]:null},l=function(e,t){var n={};for(var o in e)if(!o.match(/^_.*/)&&e.hasOwnProperty(o)){var r=e[o];if("object"==typeof r&&null!==r&&void 0!==r._complex&&r._complex)n[o]=l(r,t);else if("type"==o)n[o]=r;else{if("object"!=typeof r)throw"Unexpected model def ["+o+"]="+r;n[o]=null}}if(void 0!==e._defaultValues){var a=e._defaultValues;for(var s in a)a.hasOwnProperty(s)&&i(t,n,s,a[s])}return n},s=function(e,t){var n=d(e,t,!1,!0);return l(n,e)},d=function(e,t,n,i){if(void 0===e[t]){if(-1!=t.indexOf(" "))return null;var r=a(t);return null!==r?d(e,r,n,i):null}var l=e[t];if("object"!=typeof l)throw"Block definition must be an object: found "+l+" for "+t;if(void 0===l._initialized){if(void 0===l.type&&(-1==t.indexOf(" ")?l.type=t:l.type=t.substr(t.indexOf(" ")+1)),l.type!=t&&void 0===l._widget){var s=d(e,l.type,!0);l=o(s,l),e[t]=l}else void 0===l._widget&&void 0===l._props&&l._complex;l._writeable=!0,l._initialized=!0}if(void 0!==l._props){var u=l._props;if((u=u.split(" ")).length>0&&void 0===l._writeable)throw"Altering a non writable object: "+t+" def: "+u;void 0===l._processedDefs&&(l._processedDefs={}),void 0===l._globalStyles&&(l._globalStyles={}),void 0===l._defaultValues&&(l._defaultValues={});for(var c=0;c<u.length;c++){var f=u[c];if(0!==f.length){var p=f,h=null,b=f.match(/^([^=\[\]]+)(\[\])?(=?)(.*)$/);if(null!==b&&(f=b[1],"[]"==b[2]&&(void 0===l[f]&&(l[f]=[]),h=[]),"="==b[3]&&(h=f.match(/(^v|V)isible$/)?"true"==String(b[4]).toLowerCase():f.match(/^customStyle$/)?"true"==String(b[4]).toLowerCase():b[4])),null!==h&&void 0===l._defaultValues[f]&&(l._defaultValues[f]=h),void 0===l[f]){var v=d(e,t+" "+f,!0);null===v&&(v=d(e,f,!0)),l[f]=v}l._processedDefs[f]=p,l._complex=!0}}delete l._props}if(n)return l._writeable=!1,o({},l);if(i)return l._writeable=!1,l;if(void 0===l._writeable||!1===l._writeable)throw"Retrieving non writeable object definition: "+t;return l},u=function(e,t){if(e){if(void 0===t._usecount)throw"ERROR trying to bind an unused property"}else void 0===t._usecount&&(t._usecount=0),t._usecount++},c=function(e,t,n,o,i,r,a,l){var s=n(r,a,l);if(void 0===e[o]._globalStyles[i]){if(t)throw"Cannot find _globalStyle for "+i+" in "+o+"!";(-1!=i.indexOf(".")||"object"==typeof e[o][i]&&void 0!==e[o][i]._widget)&&(e[o]._globalStyles[i]=s)}else if(e[o]._globalStyles[i]!=s)throw"Unexpected conflicting globalStyle [2] for "+o+"/"+i+": old="+e[o]._globalStyles[i]+" new="+s},f=function(e,t,n,o,i,a,l,s,p,h){var b,v,m;if("$"==l.substr(0,1)){var g=l.indexOf(".");if(-1==g)throw"Unexpected fullPath: "+l+"/"+a+"/"+i+"/"+s+"/"+p;if(b=l.substr(1,g-1),m=l.substr(g+1),"theme"!=b)throw"Unexpected $ sequence: "+b+" in "+l;var y=m.indexOf(".");v="$root.content().theme()."+(b=m.substr(0,y))+"()."+(m=m.substr(y+1)).replace(new RegExp("\\.","g"),"().")}else if("#"==l.substr(0,1))b=o,v="$root.content()."+(m=l.substr(1)).replace(new RegExp("\\.","g"),"().");else if("_theme_."==l.substr(0,8)){var w=l.indexOf(".",8);v="$root.content().theme()."+(b=l.substr(8,w-8))+"()."+(m=l.substr(w+1)).replace(new RegExp("\\.","g"),"().")}else"_root_."==l.substr(0,7)?(b=o,v="$root.content()."+(m=l.substr(7)).replace(new RegExp("\\.","g"),"().")):(b=i,m=a+l,v=l.replace(new RegExp("\\.","g"),"()."));if(void 0===t[b])throw"Cannot find model def for ["+b+"]";var x=m.indexOf("."),k=-1==x?m:m.substr(0,x);if(-1!=b.indexOf("-"))throw"ERROR unexpected char in block name: "+b;if(-1!=k.indexOf("-"))throw"ERROR unexpected char in property name: "+b;if(e)return void 0!==t[b]._globalStyle&&void 0!==t[b][k]&&"style"==t[b][k]._category&&(v+="._defaultComputed"),v;var _;if(e){if(void 0!==s)throw"Cannot use defaultValue in readonly mode!";if(p)throw"Cannot use overrideDefault in readonly mode for "+b+"/"+m+"/"+p+"!";if(void 0!==h)throw"Cannot set category for "+b+"/"+m+"/"+h+" in readonly mode!";_=d(t,b,!1,!0)}else t[b]._writeable,_=d(t,b,!1===t[b]._writeable);if(null===_)throw"Unexpected model for ["+b+"]";if(void 0===_[k]){if(e)throw"Cannot find path "+k+" for "+b+"!";r(t,b,k),_=d(t,b,!1)}void 0!==t[b]._globalStyle&&void 0!==t[b][k]&&null!==t[b][k]&&"style"==t[b][k]._category&&(v+="._defaultComputed");var j=_;try{if(u(e,j),-1!=x){var O=m;do{var S=O.substr(0,x);if(void 0===j[S])throw"Found an unexpected prop "+S+" for model "+b+" for "+m;j=j[S],u(e,j),x=(O=O.substr(x+1)).indexOf(".")}while(-1!=x);if(void 0===j[O]||null===j[O])throw"Found an unexpected path termination "+O+" for model "+b+" for "+m;j=j[O]}else j=j[m];if(void 0===j||null===j)throw"Unexpected null model for "+b+"/"+a+"/"+l;void 0!==h&&(j._category=h),u(e,j)}catch(e){throw e}if(void 0!==t[b]._globalStyle&&"object"==typeof t[b][k]&&null!==t[b][k]&&void 0!==t[b][k]._category&&"style"==t[b][k]._category){var A=f.bind(void 0,e,t,n,o,i,""),$=-1!=m.indexOf(".")?m.substr(m.indexOf(".")):"";if(-1!=$.indexOf(".",1))throw"TODO unsupported object nesting! "+m;var C=t[b]._globalStyle+"."+k;"object"==typeof t[b][k]&&null!==t[b][k]&&void 0!==t[b][k]._globalStyle&&(C=t[b][k]._globalStyle),c(t,e,A,b,k,C,void 0,!1);var E=C+$;if(void 0===s&&null!==t[b]._defaultValues[m]&&(s=t[b]._defaultValues[m]),c(t,e,A,b,m,E,s,p),void 0!==s){if(e)throw"Cannot set a new theme default value ("+s+") for "+E.substr(7)+" while in readonly mode!";n("default",E.substr(7),s)}s=null}if(void 0!==s)if(void 0===t[b]._defaultValues[m]||void 0!==p&&p){if(e)throw"Cannot set new _defaultValues [1] for "+m+" in "+b+"!";t[b]._defaultValues[m]=s}else if(null===s){if(e&&null!==t[b]._defaultValues[m])throw"Cannot set new _defaultValues [2] for "+m+" in "+b+"!";t[b]._defaultValues[m]=null}else if(t[b]._defaultValues[m]!=s)throw"Trying to set a new default value for "+b+" "+m+" while it already exists (current: "+t[b].defaultValues[m]+", new: "+s+")";return v};t.exports={ensurePathAndGetBindValue:f.bind(void 0,!1),getBindValue:f.bind(void 0,!0),generateModel:s,generateResultModel:function(e){var t=e._defs,n=e.templateName,o=s(t,n);return void 0!==t.theme&&(o.theme=s(t,"theme")),o},getDef:function(e,t){return d(e,t,!1,!0)},createOrUpdateBlockDef:r}},{"./../../../bower_components/console-browserify/index.js":1,"./domutils.js":68}],72:[function(e,t,n){(function(n){"use strict";function o(e){return e.replace(/<!--\[if ([^\]]*)\]>((?:(?!--)[\s\S])*?)<!\[endif\]-->/g,function(e,t,n){var o="\x3c!-- cc:start --\x3e";o+=n.replace(/<([A-Za-z:]+)/g,"\x3c!-- cc:bo:$1 --\x3e<cc").replace(/<\/([A-Za-z:]+)>/g,"\x3c!-- cc:bc:$1 --\x3e</cc>\x3c!-- cc:ac:$1 --\x3e").replace(/\/>/g,"/>\x3c!-- cc:sc --\x3e"),o+="\x3c!-- cc:end --\x3e";var r='<replacedcc condition="'+t+'" style="display: none">';return r+=i("<div>").append(i(o)).html().replace(/^<!-- cc:start -->/,"").replace(/<!-- cc:end -->$/,""),r+="</replacedcc>"})}var i="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r=(e("./../../../bower_components/console-browserify/index.js"),e("./utils.js")),a=e("./declarations.js"),l=e("./stylesheet.js"),s=e("./model.js"),d=e("./domutils.js"),u=function(e,t,n){var o=d.getAttribute(t,e);try{var a=r.conditionBinding(o,n);i(t).before("\x3c!-- ko if: "+a+" --\x3e"),i(t).after("\x3c!-- /ko --\x3e"),d.removeAttribute(t,e)}catch(e){throw e}},c=function(e,t){d.setAttribute(e,t,d.getAttribute(e,"replaced"+t))},f=function(e,t,n,o){var i,r=d.getAttribute(e,"replacedstyle"),l=null;o&&(i={uniqueId:"$data",attr:{id:"id"}});var s=null!==d.getAttribute(e,"data-ko-display");null===(l=a(r,void 0,t,n,e,i,s))?l=r:d.removeAttribute(e,"replacedstyle"),null!==l&&(l.trim().length>0?d.setAttribute(e,"style",l):d.removeAttribute(e,"style"))},p=function(e,t,n,o){var i=t(d.getAttribute(o,e));null!==i&&d.setAttribute(o,e,i)},h=function(e,t,n,o,a,b,v,m,g,y){try{var w;if("block"==b)w=d.getAttribute(e,"data-ko-block"),d.removeAttribute(e,"data-ko-block");else{if("template"!=b)throw"Unexpected context name while processing block: "+b;w=v}i("[data-ko-remove]",e).remove();for(var x=i("[data-ko-block]",e).replaceWith("<replacedblock>"),k=["href","src","data-ko-placeholder-src","background"],_=0;_<k.length;_++){var j=p.bind(void 0,k[_],a);i("["+k[_]+"]",e).each(j)}var O=d.getAttribute(e,"data-ko-properties");null===O&&(O=""),i("[data-ko-properties]",e).each(function(e,t){O.length>0&&(O+=" "),O+=d.getAttribute(t,"data-ko-properties"),d.removeAttribute(t,"data-ko-properties")}),s.createOrUpdateBlockDef(t,w,O,{contextName:b});var S=s.ensurePathAndGetBindValue.bind(void 0,t,n,v,w,"");"block"==b&&S("id",""),i("style",e).each(function(e,o){var r=d.getInnerHtml(o),u=s.createOrUpdateBlockDef.bind(void 0,t),c=s.ensurePathAndGetBindValue.bind(void 0,t,n,v),f=l(r,void 0,c,u,n,a,v,w);if(f!=r)if(""!==f.trim()){var p=y(f);d.setAttribute(o,"data-bind","template: { name: '"+p+"' }"),d.setContent(o,"")}else d.removeElements(i(o))}),f(e,a,S,g);for(var A=["data-ko-display","data-ko-editable","data-ko-wrap","href"],$=0;$<A.length;$++)if(d.getAttribute(e,A[$]))throw"ERROR: Unsupported "+A[$]+" used together with data-ko-block";return i("[data-ko-link]",e).each(function(e,t){var n=d.getAttribute(t,"data-ko-link"),o=d.getAttribute(t,"replacedstyle");void 0!==o&&null!==o||(o=""),o=""!==o?"-ko-attr-href: @"+n+"; "+o:"-ko-attr-href: @"+n,d.setAttribute(t,"replacedstyle",o),d.setAttribute(t,"data-ko-wrap",n),d.removeAttribute(t,"data-ko-link")}),i("[replacedstyle]",e).each(function(e,t){f(t,a,S,!1)}),i("[replacedhttp-equiv]",e).each(function(e,t){c(t,"http-equiv")}),i("[data-ko-display]",e).each(function(e,t){u("data-ko-display",t,S)}),i("[data-ko-editable]",e).each(function(e,t){var n,o,r,a,l,s,u=d.getAttribute(t,"data-ko-editable");if(u.lastIndexOf(".")>0){var c=u.substr(0,u.lastIndexOf("."));l=S(c)}else l=S(u);if(s="wysiwygClick: function(obj, evt) { $root.selectItem("+l+", $data); return false }, clickBubble: false, wysiwygCss: { selecteditem: $root.isSelectedItem("+l+") }, scrollIntoView: $root.isSelectedItem("+l+")","img"!=d.getLowerTagName(t)){o=d.getInnerHtml(t);var f=S(u,o,!0,"wysiwyg");if(n="",d.getAttribute(t,"id")||(n+="wysiwygId: id()+'_"+u.replace(".","_")+"', "),void 0!==s&&(n+=s+", "),n+="wysiwygOrHtml: "+f,"td"==d.getLowerTagName(t)){var p=i('<div data-ko-wrap="false" style="width: 100%; height: 100%"></div>')[0];d.setAttribute(p,"data-bind",n);var h=d.getInnerHtml(i("<div></div>").append(p));d.setContent(t,h)}else a=(null!==(r=d.getAttribute(t,"data-bind"))?r+", ":"")+n,d.setAttribute(t,"data-bind",a),d.setContent(t,"");d.removeAttribute(t,"data-ko-editable")}else{var b=d.getAttribute(t,"width");if(""===b&&(b=null),null===b)throw"ERROR: data-ko-editable images must declare a WIDTH attribute!";var v=d.getAttribute(t,"height");""===v&&(v=null);var m=d.getAttribute(t,"align"),g=(r=d.getAttribute(t,"data-bind"))&&r.match(/virtualAttr: {[^}]* height: ([^,}]*)[,}]/);g&&(v=g[1]);var w=r&&r.match(/virtualAttr: {[^}]* width: ([^,}]*)[,}]/);w&&(b=w[1]);var x="";(o=d.getAttribute(t,"data-ko-placeholder-src"))?x=d.getAttribute(t,"src"):o=d.getAttribute(t,"src");var k;b&&v?k=b+"+'x'+"+v:v?b||(k="'h'+"+v+"+''"):k="'w'+"+b+"+''";var _,j=v||d.getAttribute(t,"data-ko-placeholder-height"),O=b||d.getAttribute(t,"data-ko-placeholder-width");if(d.removeAttribute(t,"src"),d.removeAttribute(t,"data-ko-editable"),d.removeAttribute(t,"data-ko-placeholder-height"),d.removeAttribute(t,"data-ko-placeholder-width"),d.removeAttribute(t,"data-ko-placeholder-src"),o&&(_="{ width: "+O+", height: "+j+", text: "+k+"}"),!O||!j)throw"ERROR: IMG data-ko-editable MUST declare width and height attributes, or their placeholder counterparts data-ko-placeholder-width/data-ko-placeholder-height";var A=S(u,x,!1,"wysiwyg");n="wysiwygSrc: { width: "+b+", height: "+v+", src: "+A+", placeholder: "+_+" }",a=(null!==r?r+", ":"")+n,d.setAttribute(t,"data-bind",a);var $=y(t),C="{ width: "+b;"left"==m?C+=", float: 'left'":"right"==m?C+=", float: 'right'":"center"==m||("top"==m?C+=", verticalAlign: 'top'":"middle"==m?C+=", verticalAlign: 'middle'":"bottom"==m&&(C+=", verticalAlign: 'bottom'")),C+="}",i(t).before("\x3c!-- ko wysiwygImg: { _data: $data, _item: "+l+", _template: '"+$+"', _editTemplate: 'img-wysiwyg', _src: "+A+", _width: "+b+", _height: "+v+", _align: "+(null===m?void 0:"'"+m+"'")+", _size: "+k+", _method: "+void 0+", _placeholdersrc: "+_+", _stylebind: "+C+" } --\x3e"),i(t).after("\x3c!-- /ko --\x3e")}}),i("[href]",e).each(function(e,t){var n=d.getAttribute(t,"href"),o="wysiwygHref: '"+r.addSlashes(n)+"'",i=d.getAttribute(t,"data-bind"),a=(null!==i?i+", ":"")+o;d.setAttribute(t,"data-bind",a)}),i("replacedblock",e).each(function(e,l){var d=x[e],u=h(d,t,n,o,a,"block",w,m,!0,y),c=s.ensurePathAndGetBindValue(t,n,v,w,"",u);i(l).before("\x3c!-- ko block: { data: "+r.addSlashes(c)+", template: 'block' } --\x3e"),i(l).after("\x3c!-- /ko --\x3e"),i(l).remove()}),i(i("[data-ko-wrap]",e).get().reverse(),e).each(function(e,t){var n=d.getAttribute(t,"data-ko-wrap");if(void 0===n||""===n||"true"===n)throw"Unsupported empty value for data-ko-wrap: use false value if you want to always remove the tag";var o,i,a=r.conditionBinding(n,S),l=d.getAttribute(t,"data-bind");if(""!==l&&null!==l&&l.match(/(block|wysiwygOrHtml):/)){var s="\x3c!-- ko "+l+" --\x3e"+d.getInnerHtml(t)+"\x3c!-- /ko --\x3e";o=y(s),d.removeAttribute(t,"data-ko-wrap"),i=y(t),d.replaceHtml(t,"\x3c!-- ko template: /* special */ (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || "+a+" ? '"+i+"' : '"+o+"' --\x3e\x3c!-- /ko --\x3e")}else o=y(d.getInnerHtml(t)),d.removeAttribute(t,"data-ko-wrap"),d.setContent(t,"\x3c!-- ko template: '"+o+"' --\x3e\x3c!-- /ko --\x3e"),i=y(t),d.replaceHtml(t,"\x3c!-- ko template: (typeof templateMode != 'undefined' && templateMode == 'wysiwyg') || "+a+" ? '"+i+"' : '"+o+"' --\x3e\x3c!-- /ko --\x3e")}),y(e,w,"show"),o(v,w,b,m),w}catch(e){throw e}};t.exports=function(e,t,n,r){var a={},l=o(t.replace(/(<[^>]+\s)(style|http-equiv)(="[^"]*"[^>]*>)/gi,function(e,t,n,o){return t+"replaced"+n+o})),u=i(l),c=u[0],f=[],p=function(e,t,n,o){f.push({root:e,block:t,context:n,container:o})},b=function(e,t,n){void 0===a.themes&&(a.themes={}),void 0===a.themes[e]&&(a.themes[e]={}),void 0===a.themes[e][t]||null===a.themes[e][t]?a.themes[e][t]=n:void 0!==n&&null!==n&&a.themes[e][t]},v={};i("[data-ko-container]",u).each(function(e,t){var n=d.getAttribute(t,"data-ko-container")+"Blocks";d.removeAttribute(t,"data-ko-container"),d.setAttribute(t,"data-bind","block: "+n);var o=i("> [data-ko-block]",t);d.removeElements(o,!0),v[n]=o}),s.createOrUpdateBlockDef(a,"id"),s.createOrUpdateBlockDef(a,"bodyTheme"),s.createOrUpdateBlockDef(a,"blocks","blocks[]"),s.createOrUpdateBlockDef(a,"text"),h(c,a,b,p,n,"template",e,void 0,!1,r);for(var m in v)if(v.hasOwnProperty(m)){var g=v[m],y=m;s.ensurePathAndGetBindValue(a,b,e,e,"",y+".blocks","[]"),g.each(function(t,o,i){h(i,a,b,p,n,"block",e,t,!0,r)}.bind(void 0,y))}var w={_defs:a,templateName:e,_blocks:f};return void 0!==a[e]._version&&(w.version=a[e]._version),w}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"./declarations.js":67,"./domutils.js":68,"./model.js":71,"./stylesheet.js":73,"./utils.js":74}],73:[function(e,t,n){"use strict";var o=e("./../../../bower_components/mensch/lib/parser.js"),i=(e("./../../../bower_components/console-browserify/index.js"),e("./utils.js")),r=e("./declarations.js"),a=function(e,t){for(var n,o,i,r=0;r<t.length;r++)if("rule"==t[r].type){for(var a=t[r].selectors,l=!1,s=!1,d=0;d<a.length;d++)a[d].match(/:preview$/)?s=!0:l=!0;if(s&&l)throw"Cannot mix selectors type (:preview and declarations) in @supports -ko-blockdefs";if(!s&&!l)throw"Cannot find known selectors in @supports -ko-blockdefs";if(l){n="",o={},i=t[r].declarations;for(var u=0;u<i.length;u++)"property"==i[u].type&&("label"==i[u].name?o.name=i[u].value:"context"==i[u].name?o.contextName=i[u].value:"properties"==i[u].name?n=i[u].value:"theme"==i[u].name?o.globalStyle="_theme_."+i[u].value:"themeOverride"==i[u].name?o.themeOverride="true"==String(i[u].value).toLowerCase():o[i[u].name]=i[u].value);for(var c=0;c<a.length;c++)e(a[c],n,o)}if(s)for(var f=0;f<a.length;f++)e(a[f].substr(0,a[f].indexOf(":")),void 0,{previewBindings:t[r].declarations})}},l=function(e,t,n,s,d,u,c,f){var p=e,h=null;if(void 0===t){var b=o(e,{comments:!0,position:!0});if("stylesheet"!=b.type||void 0===b.stylesheet)throw"Unable to parse stylesheet";t=b.stylesheet.rules}for(var v,m=t.length-1;m>=0;m--){if("supports"==t[m].type&&"-ko-blockdefs"==t[m].name)a(s,t[m].rules),p=i.removeStyle(p,t[m].position.start,h,0,0,0,"");else if("media"==t[m].type||"supports"==t[m].type)p=l(p,t[m].rules,n,s,d,u,c,f);else if("comment"==t[m].type);else if("rule"==t[m].type){for(var g=t[m].selectors,y="",w=null,x=0;x<g.length;x++){y.length>0&&(y+=", ");var k=g[x].match(/\[data-ko-block=([^ ]*)\]/);if(null!==k){if(null!==w&&w!=k[1])throw"Found multiple block-match attribute selectors: cannot translate it ("+w+" vs "+k[1]+")";w=k[1]}y+="\x3c!-- ko text: templateMode =='wysiwyg' ? '#main-wysiwyg-area ' : '' --\x3e\x3c!-- /ko --\x3e"+g[x]}if(w){var _="\x3c!-- ko foreach: $root.findObjectsOfType($data, '"+w+"') --\x3e",j=h,O=" ";t[m].declarations.length>0&&(t[m].declarations[0].position.start.line!=t[m].position.end.line&&(O="\n"+new Array(t[m].position.start.col).join(" ")),j=t[m].declarations[t[m].declarations.length-1].position.end),null===j?p+=O+"\x3c!-- /ko --\x3e":p=j==h?i.removeStyle(p,j,h,0,0,0,O+"\x3c!-- /ko --\x3e"):i.removeStyle(p,j,h,0,0,0,O+"}"+O+"\x3c!-- /ko --\x3e"),y=_+O+y.replace(new RegExp("\\[data-ko-block="+w+"\\]","g"),"\x3c!-- ko text: '#'+id() --\x3e"+w+"\x3c!-- /ko --\x3e"),s(w,"",{contextName:"block"})}var S=w||f;v=n.bind(this,S,"");var A=r(p,t[m].declarations,u,v);null!==A&&(p=A),p=i.removeStyle(p,t[m].position.start,t[m].position.end,0,0,0,y)}h=t[m].position.start}return p};t.exports=l},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/mensch/lib/parser.js":15,"./declarations.js":67,"./utils.js":74}],74:[function(e,t,n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o=e("./../../../bower_components/jsep/src/jsep.js");o.addBinaryOp("or",1),o.addBinaryOp("and",2),o.addBinaryOp("eq",6),o.addBinaryOp("neq",6),o.addBinaryOp("lt",7),o.addBinaryOp("lte",7),o.addBinaryOp("gt",7),o.addBinaryOp("gte",7);var i=function(e,t,n){function o(e){switch(e){case"or":return"||";case"and":return"&&";case"lt":return"<";case"lte":return"<=";case"gt":return">";case"gte":return">=";case"eq":return"==";case"neq":return"!=";default:return e}}function i(e,t,n,r){if(void 0===n&&(n=!0),void 0!==r&&"Identifier"!==e.type&&e.type,"BinaryExpression"===e.type||"LogicalExpression"===e.type)return"("+i(e.left,t,n)+" "+o(e.operator)+" "+i(e.right,t,n)+")";if("CallExpression"===e.type){var a=e.arguments.map(function(e){return i(e,t,n)});return i(e.callee,t,n)+"("+a.join(", ")+")"}if("UnaryExpression"===e.type)return e.operator+i(e.argument,t,n);if("MemberExpression"==e.type&&e.computed)throw"Unexpected computed member expression";if("MemberExpression"!=e.type||e.computed){if("Literal"===e.type)return e.raw;if("Identifier"===e.type){var l=e.name;return n?t(l,r)+"()":l}if("ConditionalExpression"===e.type)return"("+i(e.test,t,n)+" ? "+i(e.consequent,t,n)+" : "+i(e.alternate,t,n)+")";throw"Compound"===e.type?"Syntax error in expression: operator expected after "+i(e.body[0],t,!1):"Found an unsupported expression type: "+e.type}var s=i(e.object,t,!1)+"."+i(e.property,t,!1);return n&&"Math"!==e.object.name&&"Color"!==e.object.name?t(s,r)+"()":s}return i(e,t,void 0,n)};t.exports={addSlashes:function(e){return e.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},removeStyle:function(e,t,n,o,i,r,a){for(var l=e.split("\n"),s=i,d=r,u=1+o;u<t.line;u++)s+=l[u-1-o].length+1;if(s+=t.col,null!==n){for(var c=1+o;c<n.line;c++)d+=l[c-1-o].length+1;d+=n.col}else d+=e.length+1;return e.substr(0,s-1)+a+e.substr(d-1)},conditionBinding:function(e,t){var n=o(e);return i(n,t)},expressionBinding:function(e,t,n){var r;if(void 0!==n&&null!==n){var a=e.trim().replace(/@\[([^\]]+)\]|@([a-zA-Z0-9\._]+)\b/g,"###var###");if("###var###"==(a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")))r=[null,n];else if(a="^"+a.replace(/###var###/g,"(.+)")+"$",!(r=n.trim().match(new RegExp(a))))throw"Cannot find default value for "+e+" in "+n}try{var l=0,s="'"+e.replace(/@\[([^\]]+)\]|@([a-zA-Z0-9\._]+)\b|(')/g,function(e,n,a,s){if(s)return"\\"+s;l++;var d,u=n||a;if(r&&void 0!==r[l]&&(d=r[l].trim()),n){var c=o(n);return"'+"+i(c,t,d)+"+'"}return"'+"+t(u,d)+"()+'"})+"'";return s=s.replace(/(^|[^\\])''\+/g,"$1").replace(/\+''/g,"")}catch(t){throw"Exception parsing expression "+e+" "+t}}}},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/jsep/src/jsep.js":3}],75:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,i=e("./../../../bower_components/knockout.wrap/knockout.wrap.js"),r=(e("./../../../bower_components/console-browserify/index.js"),function(e){for(var t=e.split("|"),n={},o=0;o<t.length;o++){var i=t[o].split("=");n[i[0]]=i.length>1?i[1]:i[0]}return n}),a=function(e,t,n,i,r,a){return o.computed({read:function(){var n=e();if(null===n){var l=o.utils.unwrapObservable(i);return void 0===l||"custom"==l?o.utils.unwrapObservable(t):a[l][r]}return n},write:function(l){var s,d=o.utils.unwrapObservable(i);if(s=void 0===d||"custom"==d?o.utils.peekObservable(t):a[d][r],n)e(l==s?null:l);else{var u=o.utils.peekObservable(e);l==s&&null===u||e(l)}}})},l=function(e,t,n){for(var o=e.utils.unwrapObservable(t),i=0;i<n.length&&e.utils.peekObservable(n[i])!=o;i++);i==n.length&&(i=n.length-1);var r=i+1;r==n.length&&(r=0),t(e.utils.peekObservable(n[r]))},s=function(e){var t=e._variant;if("object"!=typeof e[t]||void 0===e[t]._widget||"string"!=typeof e[t]._options&&"boolean"!==e[t]._widget)throw"Unexpected variant declaration: cannot find property "+t+" or its _options string and it is not a boolean";return"string"==typeof e[t]._options?Object.keys(r(e[t]._options)):[!0,!1]},d=function(e,t,n,o,i,r,f){if(void 0===e){if(void 0===o.utils.unwrapObservable(f).type)throw"Found a non-typed def "+e;e=t[o.utils.unwrapObservable(o.utils.unwrapObservable(f).type)]}void 0===i&&void 0!==r&&r&&(i=f);var p="$root.content().",b=e._globalStyles;if(void 0!==b)for(var m in b)if(b.hasOwnProperty(m)){var g,y,w,x="$root.content().theme().scheme";if(b[m].substr(0,p.length)!=p)throw"UNEXPECTED globalStyle path ("+b[m]+") outside selfPath ("+p+")";w=b[m].substr(p.length),y=i,g=x.substr(0,p.length)==p?x.substr(p.length):x;for(var k=y,_=w.split("()."),j="",O=!0,S=0;S<_.length;S++)y=o.utils.unwrapObservable(y)[_[S]],O?"theme"==_[S]&&(O=!1):(j.length>0&&(j+="."),j+=_[S]);for(var A=g.split("()."),$=0;$<A.length;$++)k=o.utils.unwrapObservable(k)[A[$]];for(var C=m.split("."),E=f,T=0;T<C.length;T++)E=o.utils.unwrapObservable(E)[C[T]];if(!o.isObservable(E))throw"Unexpected non observable target "+m+"/"+j;E._defaultComputed=a(E,y,!0,k,j,n)}if(void 0!==e._variant){for(var M=e._variant.split("."),I=f,H=o.utils.unwrapObservable(f),B=0;B<M.length;B++)I=o.utils.unwrapObservable(I)[M[B]];if(void 0!==I._defaultComputed&&(I=I._defaultComputed),void 0===I)throw"ERROR looking for variant target "+e._variant;H._nextVariant=l.bind(I,o,I,s(e))}for(var D in e)if(e.hasOwnProperty(D)){var P=e[D];if("object"==typeof P&&null!==P&&void 0!==P._context&&"block"==P._context){var F=i[D](),N=d(t[D],t,n,o,i,r,F);f[D](N)}else if("object"==typeof P&&null!==P&&"blocks"==P.type){for(var z,L,R,U=i[D](),q=U.blocks(),G=0;G<q.length;G++)z=o.utils.unwrapObservable(q[G]),L=o.utils.unwrapObservable(z.type),R=d(t[L],t,n,o,i,r,z),q[G](R);var V=U.blocks;u(V,h.bind(U,void 0,t,n,o,void 0,i,r)),i[D]._wrap=c.bind(i[D],V._instrumentBlock),i[D]._unwrap=v.bind(i[D])}}return f},u=function(e,t){e._instrumentBlock=t,void 0===e.origPush&&(e.origPush=e.push,e.push=f.bind(e),e.origSplice=e.splice,e.splice=p.bind(e))},c=function(e,t){var n=o.toJS(t),r=n.blocks;n.blocks=[];var a=i.fromJS(n,void 0,!0)();u(a.blocks,e);for(var l=0;l<r.length;l++){var s=o.toJS(r[l]);s.id="block_"+l,a.blocks.push(s)}this(a)},f=function(){if(arguments.length>1)throw"Array push with multiple arguments not implemented";if(arguments.length>0&&o.isObservable(arguments[0])&&"function"==typeof arguments[0]._unwrap&&(arguments[0]=arguments[0]._unwrap()),o.isObservable(arguments[0]))return this.origPush.apply(this,arguments);var e=this._instrumentBlock(arguments[0]);return this.origPush.apply(this,[e])},p=function(){if(arguments.length>3)throw"Array splice with multiple objects not implemented";if(arguments.length>2&&o.isObservable(arguments[2])&&"function"==typeof arguments[2]._unwrap&&(arguments[2]=arguments[2]._unwrap()),arguments.length>2&&!o.isObservable(arguments[2])){var e=this._instrumentBlock(arguments[2]);return this.origSplice.apply(this,[arguments[0],arguments[1],e])}return this.origSplice.apply(this,arguments)},h=function(e,t,n,o,r,a,l,s){void 0===r&&(r=s);var u;u={"":d.bind(r,e,t,n,o,a,l)};var c=i.fromJS(r,u,!0);return c._unwrap=v.bind(c),c},b=function(e,t){this(o.utils.unwrapObservable(e(o,t,void 0,!0)))},v=function(){return o.toJS(this)};t.exports=function(e,t,n){var i=h.bind(void 0,t,n,n.themes),r=i(o,e,void 0,!0);return r._wrap=b.bind(r,i),r._unwrap=v.bind(r),r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/knockout.wrap/knockout.wrap.js":10}],76:[function(e,t,n){(function(n){function o(e){this.getBrightness=function(t){return e(t).getBrightness()},this.isLight=function(t){return e(t).isLight()},this.isDark=function(t){return e(t).isDark()},this.getLuminance=function(t){return e(t).getLuminance()},this.lighten=function(t,n){return e(t).lighten(n).toHexString()},this.brighten=function(t,n){return e(t).brighten(n).toHexString()},this.darken=function(t,n){return e(t).darken(n).toHexString()},this.desaturate=function(t,n){return e(t).desaturate(n).toHexString()},this.saturate=function(t,n){return e(t).saturate(n).toHexString()},this.greyscale=function(t){return e(t).greyscale().toHexString()},this.spin=function(t,n){return e(t).spin(n).toHexString()},this.complement=function(t){return e(t).complement().toHexString()},this.mix=e.mix,this.readability=e.readability,this.isReadable=e.isReadable,this.mostReadable=e.mostReadable}var i=e("./../../../bower_components/tinycolor/tinycolor.js");t.exports=function(e){n.Color=new o(i)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/tinycolor/tinycolor.js":18}],77:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null;e("./../../../bower_components/console-browserify/index.js");t.exports=function(e){var t;e.titleMode=i.observable("show"),e.metadata.name=i.observable(e.metadata.name),e.mailingName=i.computed(function(){return e.metadata.name()},e),e.enableEditMailingName=function(n,o){t=e.metadata.name(),e.titleMode("edit")},e.cancelEditMailingName=function(n,o){e.metadata.name(t),t="",e.titleMode("show")},e.saveEditMailingName=function(n,i){e.titleMode("saving"),e.notifier.info(e.t("edit-title-ajax-pending")),o.ajax({method:"POST",url:e.metadata.url.update,data:{name:e.metadata.name()},success:function(t){e.metadata.name(t.meta.name),e.notifier.success(e.t("edit-title-ajax-success"))},error:function(){e.notifier.error(e.t("edit-title-ajax-fail"))},complete:function(){t="",e.titleMode("show")}})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],78:[function(e,t,n){(function(n){"use strict";function o(e){var t=e.metadata.assets||{};return function(n){if(!n)return null;if(/\]$/.test(n))return null;if(/^http/.test(n))return null;if(/<%/.test(n))return null;var o=/\.[0-9a-z]+$/;return n=/([^\/]*)$/.exec(n)[1],o.test(n)?(n=a(n),n=t[n]?e.imgProcessorBackend+t[n]:null):null}}var i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,r=e("url"),a=e("../../../shared/slug-filename.js"),l=e("./custom-server-storage"),s=e("./custom-edit-title"),d=e("./custom-text-editor"),u=e("./custom-gallery"),c=e("./custom-remove-gallery-image"),f=e("./custom-widget-bgimage"),p=function(e){return function(t){t.logoPath=!1,t.logoUrl=!1,t.logoAlt=!1,t.brandName=e.brandName}};t.exports={extendViewModel:function(e,t){t.push(l),t.push(p(e)),t.push(s),t.push(u(e)),t.push(c),t.push(f(e))},extendKnockout:function(e){"fr"===e.lang&&(d.language_url="/tinymce-langs/fr_FR.js",d.language="fr_FR",tinymce.util.I18n.add("fr_FR",{Cancel:"Annuler","in pixel":"en pixel","Enter a font-size":"Entrez une taille de police","Letter spacing":"Interlettrage","Font size":"Taille de police","Font size: ":"Taille : ","minimum size: 8px":"taille minimum : 8px","no decimals":"pas de dcimales"})),d=$.extend({convert_urls:!1},d,e.tinymce),i.bindingHandlers.wysiwyg.fullOptions=d,i.bindingHandlers.wysiwyg.standardOptions={convert_urls:!1,external_plugins:{paste:d.external_plugins.paste},theme_url:d.theme_url,skin_url:d.skin_url},i.bindingHandlers.wysiwygSrc.templateUrlConverter=o(e);var t=r.parse(e.imgProcessorBackend);i.bindingHandlers.fileupload.remoteFilePreprocessor=function(e){var n=r.format({protocol:t.protocol,host:t.host,pathname:t.pathname});return e.url=r.resolve(n,r.parse(e.url).pathname),e},i.bindingHandlers.wysiwygSrc.convertedUrl=function(t,n,o,i){var a=r.parse(t).pathname;a=a.replace("/img/","");var l=e.basePath+"/"+n;return l=l+"/"+o+"x"+i+"/"+a},i.bindingHandlers.wysiwygSrc.placeholderUrl=function(t,n,o){return e.basePath+"/placeholder/"+t+"x"+n+".png"}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../shared/slug-filename.js":43,"./custom-edit-title":77,"./custom-gallery":79,"./custom-remove-gallery-image":80,"./custom-server-storage":81,"./custom-text-editor":82,"./custom-widget-bgimage":83,url:33}],79:[function(e,t,n){(function(n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,r=e("lodash.find");t.exports=function(e){var t=e.fileuploadConfig.url;return function(e){function n(n){var i=t[n],r=e[n+"Gallery"],a=e[n+"GalleryStatus"];return function(){a("loading"),o.getJSON(i,function(t){for(var n=0;n<t.files.length;n++)t.files[n]=e.remoteFileProcessor(t.files[n]);a(t.files.length),r(t.files.reverse())}).fail(function(){a(!1),e.notifier.error(e.t("Unexpected error listing files"))})}}function a(t){var n=e[t+"Gallery"],o=e[t+"GalleryStatus"];return function(e){var t=e.name;r(n(),function(e){return e.name===t})||!1!==o()&&(n.unshift(e),o(n().length))}}e.mailingGallery=i.observableArray([]),e.templateGallery=i.observableArray([]),e.mailingGalleryStatus=i.observable(!1),e.templateGalleryStatus=i.observable(!1),e.loadMailingGallery=n("mailing"),e.loadTemplateGallery=n("template"),e.loadMailingImage=a("mailing"),e.loadTemplateImage=a("template");var l=e.showGallery.subscribe(function(t){!0===t&&!1===e.mailingGalleryStatus()&&(e.loadMailingGallery(),l.dispose())}),s=e.selectedImageTab.subscribe(function(t){1===t&&!1===e.templateGalleryStatus()&&(e.loadTemplateGallery(),s.dispose())},e,"change")}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"lodash.find":23}],80:[function(e,t,n){(function(n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null;"undefined"!=typeof window?window.ko:void 0!==n&&n.ko;t.exports=function(e){e.removeImage=function(t,n,i){var r=t.deleteUrl;o.ajax({url:r,method:"DELETE",type:"DELETE",success:function(t){e.notifier.success(e.t("gallery-remove-image-success"));var o=e[n+"Gallery"];(0,e[n+"GalleryStatus"])(t.files.length),o(t.files.reverse())},error:function(t){e.notifier.error(e.t("gallery-remove-image-fail"))}})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],81:[function(e,t,n){(function(n){"use strict";function o(e){var t=a(r.toJS(e.metadata),["urlConverter","template"]);return t.data=e.exportJS(),t}e("./../../../bower_components/console-browserify/index.js");var i="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,a=e("lodash.omit"),l=e("validator/lib/isEmail");t.exports=function(e){var t={name:"Save",enabled:r.observable(!0)};t.execute=function(){t.enabled(!1);var n=o(e);i.ajax({url:window.location.href,method:"POST",contentType:"application/json",data:JSON.stringify(n),success:function(t,n,o){e.notifier.success(e.t("save-message-success"))},error:function(t,n,o){e.notifier.error(e.t("save-message-error"))},complete:function(){t.enabled(!0)}})};var a={name:"Test",enabled:r.observable(!0)};a.execute=function(){a.enabled(!1);var t=e.t("Insert here the recipient email address");if(!(t=n.prompt(e.t("Test email address"),t)))return a.enabled(!0);if(!l(t))return n.alert(e.t("Invalid email address")),a.enabled(!0);r.toJS(e.metadata);var o={rcpt:t,html:e.exportHTML()};i.ajax({url:e.metadata.url.send,method:"POST",data:o,success:function(t,n,o){e.notifier.success(e.t("Test email sent..."))},error:function(t,n,o){e.notifier.error(e.t("Unexpected error talking to server: contact us!"))},complete:function(){a.enabled(!0)}})};var s={name:"Download",enabled:r.observable(!0)};s.execute=function(){s.enabled(!1),e.notifier.info(e.t("Downloading...")),e.exportHTMLtoTextarea("#downloadHtmlTextarea"),i("#downloadHtmlFilename").val(e.metadata.name()),i("#downloadForm").attr("action",e.metadata.url.zip).submit(),s.enabled(!0)},e.save=t,e.test=a,e.download=s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"lodash.omit":24,"validator/lib/isEmail":39}],82:[function(e,t,n){"use strict";function o(e,t,n){var o,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(o=0,i=e.length;o<i;o++)if(!1===t.call(n,e[o],o,e))return 0}else for(o in e)if(e.hasOwnProperty(o)&&!1===t.call(n,e[o],o,e))return 0;return 1}var i=e("lodash.debounce"),r=[0,1,2,3,5,8,13].map(function(e){return Math.round(.1*e*100)/100}).map(function(e){return e+"="+e+"em"}).join(" ");tinymce.PluginManager.add("spacing",function(e,t){e.addButton("letterspacingselect",function(){return{type:"listbox",text:"Letter spacing",tooltip:"Letter spacing",values:(e.settings.spacing_formats||r).split(" ").map(function(e){var t=e,n=e,o=e.split("=");return o.length>1&&(t=o[0],n=o[1]),{text:t,value:n}}),fixedWidth:!0,onclick:function(e){e.control.settings.value&&(tinymce.activeEditor.formatter.register("letter-spacing",{inline:"span",styles:{"letter-spacing":e.control.settings.value}}),tinymce.activeEditor.formatter.apply("letter-spacing"))}}})}),tinymce.PluginManager.add("fontsizedialog",function(e,t){var n=8,r=666,a=!1,l=[tinymce.util.I18n.translate("minimum size: 8px"),tinymce.util.I18n.translate("no decimals")].map(function(e){return" "+e}).join("<br>");e.addButton("fontsizedialogbutton",{text:"Font size",tooltip:"Font size",classes:"fontsizedialogbutton",icon:!1,onPostRender:function(t){function n(e){if(e.style&&e.style.fontSize)return r.text(tinymce.util.I18n.translate("Font size: ")+e.style.fontSize),a=e.style.fontSize,!1;a=!1,r.text(tinymce.util.I18n.translate("Font size"))}var r=t.control;e.on("nodeChange",i(function(e){o(e.parents,n),a||(a=document.defaultView.getComputedStyle(e.parents[0]||e.element,null).getPropertyValue("font-size"))},150))},onclick:function(t){var o=a?/^(\d+)/.exec(a):null;o=Array.isArray(o)?o[0]:"",e.windowManager.open({title:"Enter a font-size",width:320,height:120,body:[{type:"label",multiline:!0,text:"",onPostRender:function(){this.getEl().innerHTML=l}},{type:"textbox",name:"bsdialogfontsize",label:"in pixel",autofocus:!0,value:o,onPostRender:function(){this.$el.attr({type:"number",min:n,step:1})}}],onsubmit:function(t){var o=~~t.data.bsdialogfontsize;o>=n&&o<=r&&e.execCommand("FontSize",!1,o+"px")}})}})});var a={toolbar1:"bold italic forecolor backcolor hr | fontsizedialogbutton styleselect letterspacingselect removeformat | link unlink | pastetext code",plugins:["link hr paste lists textcolor colorpicker code spacing fontsizedialog"],style_formats:[{title:"Inline",items:[{title:"Bold",icon:"bold",inline:"strong"},{title:"Italic",icon:"italic",inline:"em"},{title:"Underline",icon:"underline",inline:"span",styles:{"text-decoration":"underline"}},{title:"Strikethrough",icon:"strikethrough",inline:"span",styles:{"text-decoration":"line-through"}},{title:"Superscript",icon:"superscript",inline:"sup"},{title:"Subscript",icon:"subscript",inline:"sub"},{title:"Code",icon:"code",inline:"code"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",block:"div",styles:{"text-align":"left"}},{title:"Center",icon:"aligncenter",block:"div",styles:{"text-align":"center"}},{title:"Right",icon:"alignright",block:"div",styles:{"text-align":"right"}},{title:"Justify",icon:"alignjustify",block:"div",styles:{"text-align":"justify"}}]}]};t.exports=a},{"lodash.debounce":22}],83:[function(e,t,n){(function(n){"use strict";function o(e,t,n){return'\n    <input size="7" type="hidden" value="nothing" id="'+e+'" data-bind="value: '+e+", "+t+"\" />\n    <button data-bind=\"text: $root.t('widget-bgimage-button'), click: $root.openDialogGallery.bind($element, '"+e+"', '"+n+"');\">pick an image</button>\n    <button data-bind=\"click: $root.resetBgimage.bind($element, '"+e+"', '"+n+"'), button: {icons: {primary: 'fa fa-eraser'}, text: false, label: $root.t('widget-bgimage-reset') }\"></button>\n  "}var i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,r=(e("./../../../bower_components/console-browserify/index.js"),Object.freeze({})),a="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";t.exports=function(e){var t=e.basePath;return{widget:function(e,t,n){return{widget:"bgimage",defaultParameters:r,html:o}},viewModel:function(e){e.showDialogGallery=i.observable(!1),e.currentBgimage=i.observable(!1),e.setBgImage=function(n,o,i){e.currentBgimage()(t+"/img/"+n),e.closeDialogGallery()},e.resetBgimage=function(e,t,n,o){n[e](a)},e.openDialogGallery=function(t,n,o,i){e.currentBgimage(o[t].bind(o)),e.showDialogGallery(!0)},e.closeDialogGallery=function(){e.currentBgimage(!1),e.showDialogGallery(!1)};var n=e.showDialogGallery.subscribe(function(t){!0===t&&!1===e.mailingGalleryStatus()&&(e.loadMailingGallery(),n.dispose())})}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],84:[function(e,t,n){(function(n){"use strict";e("./../../../bower_components/console-browserify/index.js");var o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,i=e("./../../../bower_components/juice/lib/inline")({}).inlineDocument;t.exports=function(e){e.inline=function(e){o("[style]:not([replacedstyle])",e).each(function(e,t){var n=o(t);n.attr("replacedstyle",n.attr("style"))});var t=[];o('style[data-inline="true"]',e).each(function(e,n){var i=o(n).html();i=(i=i.replace(/<!-- ko ((?!--).)*? -->/g,"")).replace(/<!-- \/ko -->/g,""),t.push(i),o(n).removeAttr("data-inline")});var n=t.join("\n"),r=function(t,n){return void 0===n&&(n=e),o(t,n)};r.root=function(){return o(":root",e)},i(r,n,{styleAttributeName:"replacedstyle"})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1,"./../../../bower_components/juice/lib/inline":4}],85:[function(e,t,n){(function(n){"use strict";e("./../../../bower_components/console-browserify/index.js"),"undefined"!=typeof window?window.ko:void 0!==n&&n.ko,"undefined"!=typeof window?window.jQuery:void 0!==n&&n.jQuery;t.exports=function(){}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],86:[function(e,t,n){"use strict";e("./../../bower_components/knockout-sortable/build/knockout-sortable.min.js"),e("./bindings/jqueryui-spinner.js"),e("./bindings/jqueryui-tabs.js"),e("./bindings/colorpicker.js"),e("./bindings/blocks.js"),e("./bindings/csstext.js"),e("./bindings/bind-iframe.js"),e("./bindings/droppable.js"),e("./bindings/fileupload.js"),e("./bindings/virtuals.js"),e("./bindings/wysiwygs.js"),e("./bindings/scrollfix.js"),e("./bindings/if-subs.js"),e("./bindings/extsortables.js"),e("./bindings/eventable.js"),e("./bindings/tooltips.js"),e("./bindings/extender-pagination.js"),e("./bindings/validated-value.js"),e("./bindings/scrollintoview.js")},{"./../../bower_components/knockout-sortable/build/knockout-sortable.min.js":8,"./bindings/bind-iframe.js":45,"./bindings/blocks.js":46,"./bindings/colorpicker.js":48,"./bindings/csstext.js":49,"./bindings/droppable.js":50,"./bindings/eventable.js":51,"./bindings/extender-pagination.js":52,"./bindings/extsortables.js":53,"./bindings/fileupload.js":54,"./bindings/if-subs.js":55,"./bindings/jqueryui-spinner.js":56,"./bindings/jqueryui-tabs.js":57,"./bindings/scrollfix.js":59,"./bindings/scrollintoview.js":60,"./bindings/tooltips.js":62,"./bindings/validated-value.js":63,"./bindings/virtuals.js":64,"./bindings/wysiwygs.js":65}],87:[function(e,t,n){(function(n){"use strict";function o(e){var t;return{viewModel:function(n){t=e(n)},init:function(){void 0!==t&&void 0!==t.init&&t.init()},dispose:function(){void 0!==t&&void 0!==t.dispose&&t.dispose()}}}var i="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,r="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,a="undefined"!=typeof window?window.kojqui:void 0!==n?n.kojqui:null,l=e("./converter/main.js"),s=(e("./../../bower_components/console-browserify/index.js"),e("./viewmodel.js")),d=e("./bindings/choose-template.js"),u=function(e,t,n,o){var i,r,a,l,s;s=[],void 0!==o&&o?(i=e.length-1,r=0,a=-1):(i=0,r=e.length-1,a=1);for(var d=i;d!=r+a;d+=a)void 0!==e[d][t]&&void 0!==(l=e[d][t].apply(e[d],n))&&s.push(l);return s},c=r.utils.domNodeDisposal.addDisposeCallback;r.utils.domNodeDisposal.addDisposeCallback=function(e,t){c(e,function(e){try{t(e)}catch(e){}})};var f=function(e){return{viewModel:function(t){try{e("applyBindings",r.applyBindings.bind(void 0,t))}catch(e){throw e}},dispose:function(){try{e("unapplyBindings",r.cleanNode.bind(this,n.document.body))}catch(e){throw e}}}},p=function(e,t,n,o){var r=n;for(void 0!==n&&void 0!==o&&("object"==typeof t&&"replacedhtml"==t.tagName.toLowerCase()||(r+="-"+o));void 0===r||null===r||e.exists(r);)r="anonymous-"+Math.floor(1e5*Math.random()+1);if("object"==typeof t&&"replacedhtml"==t.tagName.toLowerCase()){var a=i(t),l=i("replacedhead",a),s=i("replacedbody",a);e.adder(r+"-head",l.html()||""),e.adder(r+"-show",s.html()||""),e.adder(r+"-preview",a.html()),e.adder(r+"-wysiwyg",a.html()),l.children().detach(),l.html("\x3c!-- ko block: content --\x3e\x3c!-- /ko --\x3e"),l.before("\x3c!-- ko withProperties: { templateMode: 'head' } --\x3e"),l.after("\x3c!-- /ko --\x3e"),s.html("\x3c!-- ko block: content --\x3e\x3c!-- /ko --\x3e"),e.adder(r+"-iframe",a[0].outerHTML)}else"object"==typeof t?e.adder(r,t.outerHTML):e.adder(r,t);return r},h=function(e,t,n,o,a,l){var s=r.bindingHandlers.wysiwygSrc.templateUrlConverter,d=n;i.ajax({url:t,method:"GET",success:function(t,n,i){b(e,s,"template",t,o,d,a,l).init()},error:function(e,t,n){i(".mo-standalone").html("<h1>error</h1><h2>"+n+"</h2>")}})},b=function(e,t,n,c,h,b,v,m){var g=c.match(/^([\S\s]*)([<]html[^>]*>[\S\s]*<\/html>)([\S\s]*)$/i);if(null===g)throw"Unable to find <html> opening and closing tags in the template";var y=g[1],w={"<html":0,"<head":0,"<body":0,"</html":0,"</body":0,"</head":0},x=g[2].replace(/(<\/?)(html|head|body)([^>]*>)/gi,function(e,t,n,o){return w[(t+n).toLowerCase()]+=1,t+"replaced"+n+o});for(var k in w)if(w.hasOwnProperty(k)&&1!=w[k]){if(0===w[k])throw"ERROR: missing mandatory element "+k+">";if(w[k]>1)throw"ERROR: multiple element "+k+"> occourences are not supported (found "+w[k]+" occourences)"}var _=g[3],j=[],O=[];if(void 0!==v)for(var S=0;S<v.length;S++)"function"==typeof v[S]?O.push(o(v[S])):O.push(v[S]);var A=[],$={adder:function(e,t){if("string"!=typeof t)throw"Template system: cannot create new template "+e;t.match(/(data)?-ko-[^ =:]*/g);d.addTemplate(e,t),A.push(e)},exists:function(e){return void 0!==d.getTemplateContent(e)},dispose:function(){for(var e=A.length-1;e>=0;e--)d.removeTemplate(A[e])}};r.bindingHandlers.block.templateExists=$.exists;for(var C=p.bind(void 0,$),E=e("translateTemplate",l.translateTemplate.bind(void 0,n,x,t,C)),T=e("generateModel",l.wrappedResultModel.bind(void 0,E)),M={},I=u(O,"widget",[i,r,a]),H=0;H<I.length;H++)M[I[H].widget]=I[H];j.push.apply(j,e("generateEditors",l.generateEditors.bind(void 0,E,M,t,C,"+$root.contentListeners()")));var B=!1;if(void 0!==h&&null!==h){var D;D="string"==typeof h?r.utils.parseJson(h):h,2==e("checkModel",l.checkModel.bind(void 0,T._unwrap(),j,D))&&(B=!0);try{T._wrap(D)}catch(e){B=!0}}var P=y+d.getTemplateContent(n+"-iframe").replace(/(<\/?)replaced(html|head|body)([^>]*>)/gi,function(e,t,n,o){return t+n+o})+_,F=r.bindingHandlers.bindIframe.tpl;r.bindingHandlers.bindIframe.tpl=P;var N={dispose:function(){r.bindingHandlers.bindIframe.tpl=F}};O.push(N),O.push($);var z=e("initializeViewmodel",s.bind(this,T,j,t,m));z.metadata=b;return void 0!==z.metadata.editorversion&&z.metadata.editorversion,z.metadata.editorversion="0.16.0",void 0!==E.version&&(void 0!==z.metadata.templateversion&&(z.metadata.templateversion,E.version),z.metadata.templateversion=E.version),d.init(),O.push(f(e)),u(O,"viewModel",[z]),B&&i("#incompatible-template").dialog({modal:!0,appendTo:"#mo-body",buttons:{Ok:function(){i(this).dialog("close")}}}),{model:z,init:function(){u(O,"init",void 0,!0)},dispose:function(){u(O,"dispose",void 0,!0)}}},v=function(e,t){if(!t())throw"Missing feature "+e},m=function(){var e="checkbadbrowsersframe",t=r.bindingHandlers.bindIframe.tpl;r.bindingHandlers.bindIframe.tpl='<!DOCTYPE html>\r\n<html>\r\n<head><title>A</title>\r\n</head>\r\n<body><p style="color: blue" align="right" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content"></div></body>\r\n</html>\r\n',i("body").append('<iframe id="'+e+'" data-bind="bindIframe: $data"></iframe>');var o=n.document.getElementById(e);r.applyBindings({content:"dummy content"},o);var a=o.contentWindow.document.doctype,l="<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">"+"\n"+o.contentWindow.document.documentElement.outerHTML;r.cleanNode(o),r.removeNode(o),r.bindingHandlers.bindIframe.tpl=t;var s='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p align="right" style="color: red;" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>',d='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p style="color: red;" data-bind="style: { color: \'red\' }" align="right">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>',u='<!DOCTYPE html>\n<html><head><title>A</title>\n</head>\n<body><p style="color: red;" align="right" data-bind="style: { color: \'red\' }">B</p><div data-bind="text: content">dummy content</div>\n\n</body></html>';if(s!==l&&d!==l&&u!==l)throw"Unexpected frame content. Misbehaving browser: "+l.length+"/"+s.length+"/"+d.length+"/"+u.length};t.exports={compile:b,load:h,isCompatible:function(){try{return v("matchMedia",function(){return void 0!==n.matchMedia}),v("XMLHttpRequest 2",function(){return"XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}),v("ES5 strict",function(){return function(){return void 0===this}()}),v("CSS borderRadius",function(){return void 0!==n.document.body.style.borderRadius}),v("CSS boxShadow",function(){return void 0!==n.document.body.style.boxShadow}),v("CSS boxSizing",function(){return void 0!==n.document.body.style.boxSizing}),v("CSS backgroundSize",function(){return void 0!==n.document.body.style.backgroundSize}),v("CSS backgroundOrigin",function(){return void 0!==n.document.body.style.backgroundOrigin}),m(),!0}catch(e){return!1}},fixPageEvents:function(){n.addEventListener&&(n.addEventListener("drag",function(e){(e=e||n.event).preventDefault()},!1),n.addEventListener("dragstart",function(e){(e=e||n.event).preventDefault()},!1),n.addEventListener("dragover",function(e){(e=e||n.event).preventDefault()},!1),n.addEventListener("drop",function(e){(e=e||n.event).preventDefault()},!1),n.document.body.addEventListener("drop",function(e){e.preventDefault()},!1)),n.document.ondragstart&&(n.document.ondragstart=function(){return!1})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../bower_components/console-browserify/index.js":1,"./bindings/choose-template.js":47,"./converter/main.js":70,"./viewmodel.js":91}],88:[function(e,t,n){"use strict";var o=e("./../../bower_components/console-browserify/index.js"),i=function(e){return e()},r=[];t.exports={timedCall:function(e,t){var n,a=(new Date).getTime();"object"==typeof o&&o.time,n=i(t),"object"==typeof o&&o.time;var l=(new Date).getTime()-a;return"object"==typeof o&&o.time,r.push({name:e,time:l}),r.length>100&&r.unshift(),n},logs:r}},{"./../../bower_components/console-browserify/index.js":1}],89:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,i=e("./../../../bower_components/knockout-undomanager/knockout-undomanager.js"),r=e("./undoserializer.js");t.exports=function(e){return function(t){t.contentListeners(t.contentListeners()+2);var n=i(t.content,{levels:100,undoLabel:o.computed(function(){return t.t("Undo (#COUNT#)")}),redoLabel:o.computed(function(){return t.t("Redo")})});return t.undo=n.undoCommand,t.undo.execute=e.bind(t,"undo",t.undo.execute),t.redo=n.redoCommand,t.redo.execute=e.bind(t,"redo",t.redo.execute),t.undoReset=e.bind(t,"undoReset",n.reset),t.setUndoModeMerge=n.setModeMerge,t.setUndoModeOnce=n.setModeOnce,n.setModeIgnore(),n.setUndoActionMaker(r.makeUndoAction.bind(void 0,t.content)),r.watchEnabled(!0),{pause:function(){n.setModeIgnore()},run:function(){n.setModeOnce()},init:function(){n.setModeOnce()},dispose:function(){t.contentListeners(t.contentListeners()-2),r.watchEnabled(!1),n.dispose()}}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/knockout-undomanager/knockout-undomanager.js":9,"./undoserializer.js":90}],90:[function(e,t,n){(function(n){"use strict";var o,i,r="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,a=(e("./../../../bower_components/console-browserify/index.js"),function(e,t){for(var n,o,i=0,r=e;i<t.length;)switch(t.charAt(i)){case"(":")"==t.charAt(i+1)&&(r=r()),i+=2;break;case"[":o=t.indexOf("]",i),r=r[t.substring(i+1,o)],i=o+1;break;case".":-1==(n=t.indexOf("(",i))&&(n=t.length),-1==(o=t.indexOf("[",i))&&(o=t.length),o=Math.min(n,o),r=r[t.substring(i+1,o)],i=o}return r}),l=function(e,t){for(var n,o="",i=0;i<=e.length;i++)if(n=i<e.length?e[i]:t,r.isObservable(n)&&(o+="()"),void 0!==n._fieldName)o+="."+n._fieldName;else{if(!(i>0&&"function"==typeof e[i-1].pop))throw"Unexpected parent with no _fieldName and no parent array";var a=r.isObservable(e[i-1])?r.utils.peekObservable(e[i-1]):e[i-1],l=r.utils.arrayIndexOf(a,n);if(-1==l)throw"Unexpected object not found in parent array";o+="["+l+"]"}return o},s=function(e,t,n,o,i){e(a(t,n),o,i)};t.exports={dereference:l,reference:a,makeUndoAction:function(e,t,n,i,a,d){try{var u=l(n,i);if("object"!=typeof a&&"function"!=typeof a||(a=r.toJS(a)),void 0===d||"object"!=typeof d.value&&"function"!=typeof d.value||(d=r.toJS(d)),void 0!==o)try{o(u,i,a,d)}catch(e){}return s.bind(void 0,t,e,u,a,d)}catch(e){}},setListener:function(e){o=e},watchEnabled:function(e){if(void 0===e)return i;i=e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../../bower_components/console-browserify/index.js":1}],91:[function(e,t,n){(function(n){"use strict";var o="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null,i="undefined"!=typeof window?window.ko:void 0!==n?n.ko:null,r=(e("./../../bower_components/console-browserify/index.js"),e("./timed-call.js").timedCall),a=e("./../../bower_components/toastr/toastr.js");a.options={closeButton:!1,debug:!1,positionClass:"toast-bottom-full-width",target:"#mo-body",onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},t.exports=function(e,t,l,s){function d(e){return e.replace(/<replacedcc[^>]* condition="([^"]*)"[^>]*>([\s\S]*?)<\/replacedcc>/g,function(e,t,n){var o="\x3c!--[if "+t.replace(/&amp;/,"&")+"]>";return o+=n.replace(/<!-- cc:bc:([A-Za-z:]*) -->(<\/cc>)?<!-- cc:ac:\1 -->/g,"</$1>").replace(/><\/cc><!-- cc:sc -->/g,"/>").replace(/<!-- cc:bo:([A-Za-z:]*) --><cc/g,"<$1").replace(/^.*<!-- cc:start -->/,"").replace(/<!-- cc:end -->.*$/,""),o+="<![endif]--\x3e"})}var u={galleryRecent:i.observableArray([]),galleryRemote:i.observableArray([]),selectedBlock:i.observable(null),selectedItem:i.observable(null),selectedTool:i.observable(0),selectedImageTab:i.observable(0),dragging:i.observable(!1),draggingImage:i.observable(!1),galleryLoaded:i.observable(!1),showPreviewFrame:i.observable(!1),previewMode:i.observable("mobile"),showToolbox:i.observable(!0),showTheme:i.observable(!1),showGallery:i.observable(!1),debug:i.observable(!1),contentListeners:i.observable(0),logoPath:"dist/img/mosaico32.png",logoUrl:".",logoAlt:"mosaico"};return u.content=e,u.blockDefs=t,u.notifier=a,u.tt=function(e,t){if(void 0!==t)for(var n in t)t.hasOwnProperty(n)&&(e=e.replace(new RegExp("__"+n+"__","g"),t[n]));return e},u.t=u.tt,u.ut=function(e,t){return t},u.templatePath=l,u.remoteUrlProcessor=function(e){return e},u.remoteFileProcessor=function(e){return void 0!==e.url&&(e.url=u.remoteUrlProcessor(e.url)),void 0!==e.thumbnailUrl&&(e.thumbnailUrl=u.remoteUrlProcessor(e.thumbnailUrl)),e},u.loadGallery=function(){u.galleryLoaded("loading");var e=s||"/upload/";o.getJSON(e,function(e){for(var t=0;t<e.files.length;t++)e.files[t]=u.remoteFileProcessor(e.files[t]);u.galleryLoaded(e.files.length),u.galleryRemote(e.files.reverse())}).fail(function(){u.galleryLoaded(!1),u.notifier.error(u.t("Unexpected error listing files"))})},u.fileToImage=function(e,t,n){return e.url},u.removeBlock=function(e,t){i.utils.unwrapObservable(u.selectedBlock)==i.utils.unwrapObservable(e)&&u.selectBlock(null,!0);var n=t.blocks.remove(e);return u.notifier.info(u.t("Block removed: use undo button to restore it...")),n},u.duplicateBlock=function(e,t){var n=i.utils.unwrapObservable(e),o=i.toJS(i.utils.unwrapObservable(t.blocks)[n]);void 0!==o.id&&(o.id=""),t.blocks.splice(n+1,0,o)},u.moveBlock=function(e,t,n){var o=i.utils.unwrapObservable(e),r=i.utils.unwrapObservable(t.blocks);if(n&&o>0||!n&&o<r.length-1){var a=o+(n?-1:1),l=r[a];u.startMultiple(),t.blocks.splice(a,1),t.blocks.splice(o,0,l),u.stopMultiple()}},u.loadDefaultBlocks=function(){var e=i.toJS(u.content().mainBlocks);e.blocks=[];for(var t=i.utils.unwrapObservable(u.blockDefs),n=0;n<t.length;n++){var o=i.toJS(t[n]);o.id="block_"+n,e.blocks.push(o)}r("setMainBlocks",u.content().mainBlocks._wrap.bind(u.content().mainBlocks,e))},u.addImage=function(e){var t=o("#main-wysiwyg-area .selectable-img.selecteditem");return 1==t.length&&"object"==typeof e&&void 0!==e.url&&(i.contextFor(t[0])._src(e.url),!0)},u.addBlock=function(e,t){var n,o=u.selectedBlock();if(null!==o)for(var i=u.content().mainBlocks().blocks().length-1;i>=0;i--)if(u.content().mainBlocks().blocks()[i]()==o){n=i;break}var r;void 0!==n?(r=n+1,u.content().mainBlocks().blocks.splice(r,0,e),u.notifier.info(u.t("New block added after the selected one (__pos__)",{pos:r}))):(u.content().mainBlocks().blocks.push(e),r=u.content().mainBlocks().blocks().length-1,u.notifier.info(u.t("New block added at the model bottom (__pos__)",{pos:r})));var a=u.content().mainBlocks().blocks()[r]();return u.selectBlock(a,!0),!1},u.findObjectsOfType=function(e,t){var n=[],o=i.utils.unwrapObservable(e);for(var r in o)if(o.hasOwnProperty(r)){var a=i.utils.unwrapObservable(o[r]);if(r.match(/Blocks$/))for(var l=i.utils.unwrapObservable(a.blocks),s=0;s<l.length;s++){var d=i.utils.unwrapObservable(l[s]);null!==t&&i.utils.unwrapObservable(d.type)!=t||n.push(d)}else"object"==typeof a&&null!==a&&(null!==t&&i.utils.unwrapObservable(a.type)!=t||n.push(a))}return n},u.placeholderHelper={element:function(e){return o(e[0].outerHTML).removeClass("ui-draggable").addClass("sortable-placeholder").css("display","block").css("position","relative").css("width","100%").css("height","auto").css("opacity",".8")[0]},update:function(e,t){}},u.startMultiple=function(){void 0!==u.setUndoModeMerge&&u.setUndoModeMerge()},u.stopMultiple=function(){void 0!==u.setUndoModeOnce&&u.setUndoModeOnce()},u.localGlobalSwitch=function(e,t){return e(null===e()?t():null),!1},u.selectItem=function(e,t,n){var o=i.utils.peekObservable(e);return void 0!==n&&u.selectBlock(n,!1,!0),o!=t&&(e(t),null!==t&&0===u.selectedTool()&&u.selectedTool(1)),!1}.bind(u,u.selectedItem),u.isSelectedItem=function(e){return u.selectedItem()==e},u.selectBlock=function(e,t,n,o){var r=i.utils.peekObservable(e);o||u.selectItem(null),r!=t&&(e(t),u.showGallery(!1),null===t||n||0!==u.selectedTool()||u.selectedTool(1))}.bind(u,u.selectedBlock),u.countSubscriptions=function(e,t){var n=0;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];i.isObservable(r)&&(void 0!==r._defaultComputed&&(n+=r._defaultComputed.getSubscriptionsCount()),n+=r.getSubscriptionsCount(),r=i.utils.unwrapObservable(r)),"object"==typeof r&&null!==r&&(n+=u.countSubscriptions(r,void 0!==t?t+"/"+o+"@":void 0))}return n},u.loopSubscriptionsCount=function(){var e=u.countSubscriptions(u.content());n.document.getElementById("subscriptionsCount").innerHTML=e,n.setTimeout(u.loopSubscriptionsCount,1e3)},u.export=function(){return r("exportHTML",u.exportHTML)},u.exportHTML=function(){var e="exportframe";o("body").append('<iframe id="'+e+'" data-bind="bindIframe: $data"></iframe>');var t=n.document.getElementById(e);i.applyBindings(u,t),i.cleanNode(t),u.inline&&u.inline(t.contentWindow.document);var r=t.contentWindow.document.doctype,a="<!DOCTYPE "+r.name+(r.publicId?' PUBLIC "'+r.publicId+'"':"")+(!r.publicId&&r.systemId?" SYSTEM":"")+(r.systemId?' "'+r.systemId+'"':"")+">\n"+t.contentWindow.document.documentElement.outerHTML;return i.removeNode(t),(a=d(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/<script ([^>]* )?type="text\/html"[^>]*>[\s\S]*?<\/script>/gm,"")).replace(/<!-- ko ((?!--).)*? -->/g,"")).replace(/<!-- \/ko -->/g,"")).replace(/ data-bind="[^"]*"/gm,"")).replace(/ data-mce-(href|src|style)="[^"]*"/gm,"")).replace(/ style="[^"]*"([^>]*) replaced(style="[^"]*")/gm,"$1 $2")).replace(/ replaced(style="[^"]*")([^>]*) style="[^"]*"/gm," $1$2")).replace(/ replaced(style="[^"]*")/gm," $1")).replace(/ http-equiv="[^"]*"([^>]*) replaced(http-equiv="[^"]*")/gm,"$1 $2")).replace(/ replaced(http-equiv="[^"]*")([^>]*) http-equiv="[^"]*"/gm," $1$2")).replace(/ replaced(http-equiv="[^"]*")/gm," $1")).replace(/&lt;%/g,"<%")).replace(/%&gt;/g,"%>"))).match(/ data-[^ =]+(="[^"]+")? /)||a.match(/ replaced([^= ]*=)/),a},u.exportHTMLtoTextarea=function(e){o(e).val(u.exportHTML())},u.exportJSONtoTextarea=function(e){o(e).val(u.exportJSON())},u.importJSONfromTextarea=function(e){u.importJSON(o(e).val())},u.exportMetadata=function(){return i.toJSON(u.metadata)},u.exportJSON=function(){return i.toJSON(u.content)},u.exportJS=function(){return i.toJS(u.content)},u.importJSON=function(e){var t=i.utils.parseJson(e);u.content._wrap(t)},u.exportTheme=function(){var e={},t=u.content().theme(),n=function(e,t,o){for(var r in o)if(o.hasOwnProperty(r)){var a=i.utils.unwrapObservable(o[r]);null!==a&&"object"==typeof a?n(r+".",t,a):t[e+r]=a}};n("",e,t);var o="";for(var r in e)e.hasOwnProperty(r)&&"type"!=r&&(o+=r+": "+e[r]+";\n");return o},u.loadImage=function(e){u.galleryRecent.unshift(e),u.selectedImageTab(0)},u.dialog=function(e,t){o(e).dialog(t)},u.log=function(e,t){},u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./../../bower_components/console-browserify/index.js":1,"./../../bower_components/toastr/toastr.js":19,"./timed-call.js":88}]},{},[44,20])(44)});